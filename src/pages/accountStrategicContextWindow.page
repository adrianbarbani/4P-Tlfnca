<apex:page sidebar="false" controller="accountStrategicContextWindow"  tabStyle="Strategic_Client_Plan__tab">
    
    <c:SCPMenu ></c:SCPMenu>
    
    <style>
        .initiative input {
        width: 100%;
        }
        
        .label-link a {
        color: white;
        }
        
        .inlineEditUndo {
        display: none;
        }
        
        .inlineEditLockOn:hover {
        background: rgba(0, 0, 0, 0) url("/img/func_icons/util/lock12.gif") no-repeat scroll right 2px;
        }
        .inlineEditWriteOn {
        background: rgba(0, 0, 0, 0) url("/img/func_icons/util/pencil12.gif") no-repeat scroll right 2px;		    
        }
        
        .pbSubheader h3 {
        display: inline;
        margin-left: 5px;
        font-weight: bold;
        }
        
        .pbSubheader.brandTertiaryBgr.first.tertiaryPalette {
        background-color: transparent;
        border-width: 2px 0 0;
        border-style: solid;
        color: #27282e;
        padding: 4px 3px;
        }
        
        .hideListButton.hideShowSection {
        background: transparent url('/img/alohaSkin/twisty_sprite.png') 0 -11px no-repeat;
        padding-top: 13px;
        margin-top: -8px;
        }
        
        .hideShowSection.showListButton {
        background: transparent url('/img/alohaSkin/twisty_sprite.png') 0 0 no-repeat;
        padding-top: 13px;
        margin-top: -8px;
        }
        
        .separator {
        width: 100%;
        margin-top: 50px;
        }
        
        #icons-table {
        width:100%;
        }
        
        #icons-table td {
        text-align: center;            
        max-width: 90px;
        vertical-align: top;
        padding-top: 5px;
        border: 0px solid #539fc6;
        }
        
        #icons-table td.selected {
        border: 2px solid #539fc6;
        }    
        
        .icon-sectors {
        width: 120px;
        cursor: pointer;
        }
        
        .hiddenTable {
        display: none;
        }
        
        .solutionTable th {
        vertical-align: top ! important;
        white-space: normal ! important;
        }
    </style>
    
    <script  type="text/javascript">
    $j = jq213;
    
    $j(document).ready(function() {
        $j(".PopupHolderOpp").mouseenter(function(event){
            if ($j(this).children(".lookupHoverDetail").css("display") == "none") {
                $j(this).children(".lookupHoverDetail").css("top", event.clientY + 'px');
                $j(this).children(".lookupHoverDetail").css("left",(event.clientX - 360) + 'px');
                $j(this).children(".lookupHoverDetail").css("position","fixed");    		
                $j(this).children(".lookupHoverDetail").show();            	
            }
        });
        
        $j(".icon-sectors").click(function(){
            
            var parent = $j(this).parent();
            var div = $j("."+parent.attr("id"));
            if (div.css("display") == "block") {
                div.fadeOut();
                parent.removeClass('selected');
            } else {
                div.fadeIn();
                parent.addClass('selected');
            }
        });
        
        $j(".PopupHolderOpp").mouseleave(function(){
            $j(this).children(".lookupHoverDetail").hide();
        });
        
        $j(".showMore").click(function(){
            var gparent = $j(this).parent().parent();
            $j(".lessSpan", gparent).fadeOut(function(){
                $j(".moreSpan", gparent).fadeIn();
            });            	 
        });
        $j(".showLess").click(function(){
            var gparent = $j(this).parent().parent();
            $j(".moreSpan", gparent).fadeOut(function(){
                $j(".lessSpan", gparent).fadeIn();
            });            	 
        });
    });
    
    
    function ajaxshow(){
        $j(".ajaxloader").show();
    }    
    function ajaxstop(){
        $j(".ajaxloader").hide();
    }
    
    function showInput(){}
    
    function fillInitiative() {
        $j("#spanIniciative input").val($j("#textIniciative").val());
        $j("#textIniciative").val("");
    }
    </script>
    
    <apex:outputPanel layout="block" styleClass="container-fluid bootstrap-sf1">
        <apex:outputPanel layout="block"  styleClass="panel panel-default">
            <apex:form id="Form">
                <apex:outputPanel layout="block"  styleClass="panel-heading">
                    <h2 class="panel-title">
                        <span style="float:left;">
                            {!$Label.certa_scp__client_context}
                        </span>
                        <c:tutorial />
                        <span style="float:left;">
                            <c:showVideo />
                        </span>
                    </h2>
                    <div class="row paddingRight">
                        <apex:actionFunction action="{!exportToExcel}" name="exportToExcel"/>
                        <apex:actionFunction action="{!SaveChanges}" name="SaveChanges" rerender="pageContent" status="renderMeStatus"/>
                        <div class="btn-group pull-right" role="group" aria-label="...">    					
                            <apex:outputText rendered="{!canEdit}">
                                <button type="button" class="btn btn-default btn-sm" onclick="SaveChanges()">
                                    <span class="glyphicon glyphicon-floppy-disk icon-btn-left"></span>&nbsp;{!$Label.save}
                                </button>
                            </apex:outputText>    
                            <button type="button" class="btn btn-default btn-sm" onclick="exportToExcel()">
                                <span class="glyphicon glyphicon-file icon-btn-left"></span>&nbsp;{!$Label.Export_to_Excel}
                            </button>
                        </div>
                    </div>
                </apex:outputPanel>
                <br/><br/>
                <table id="icons-table">
                    <tr>
                        <td id="hidden-strategicContext">
                            <apex:image url="{!URLFOR($Resource.Iconos, '256/world-stat-icon.png')}" styleClass="icon-sectors"/>
                            <h2>{!$Label.certa_scp__global_strategic_context}</h2>
                        </td>
                        <td id="hidden-strategicIniciative">
                            <apex:image url="{!URLFOR($Resource.Iconos, '256/file-icon.png')}" styleClass="icon-sectors"/>
                            <h2>{!$Label.certa_scp__global_strategic_initiative}</h2>
                        </td>
                        <td id="hidden-buyingCriteria">
                            <apex:image url="{!URLFOR($Resource.Iconos, '256/dollar-rotation-icon.png')}" styleClass="icon-sectors"/>
                            <h2>{!$Label.certa_scp__global_buying_criteria}</h2>
                        </td>
                    </tr>
                </table>
                <br/><br/>
                <br/><br/>
                
                <apex:outputPanel layout="block" styleClass="panel-body" id="pageContent">
                    <!-- Strategic Context -->
                    <div class = "hiddenTable hidden-strategicContext">
                        
                        <br/>
                        <div style = "width: 98%;" class="center-block alert alert-info" role="alert">
                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                            {!$Label.tutorial_contexto_estrategico_cliente}
                        </div>
                        
                        <apex:actionStatus id="renderMeStatus" onstart="ajaxshow()" onstop="showInput(); ajaxstop();"/>
                        <div class="ajaxloader" style="display: none; background-color:white; padding:5px; text-align:center; width:232px; border: 1px solid grey; margin-left: auto; margin-right: auto; border-radius: 5px;">
                            <img src="{!$Resource.AjaxLoader}"/><br/>Loading...
                        </div>
                        <h2>{!$Label.certa_scp__global_strategic_context}</h2>
                        <apex:outputPanel rendered="{!globalStrategicContext.size > 0}">                
                            <table class="table table-striped table-bordered table-condensed">
                                <thead>
                                    <tr>
                                        <th>
                                            <apex:outputText value="{!$Label.certa_scp__parent_account}"/>
                                        </th>
                                        <th style="width:255px;text-align: center;">
                                            <apex:outputText value="{!$Label.certa_scp__lastmodifieddate}"/>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>	
                                    <apex:repeat value="{!globalStrategicContext}" var="item">
                                        <tr>
                                            <td>
                                                {!item.Strategic_Context__c} ({!item.Name})	
                                            </td>
                                            <td style="text-align: center;">
                                                <apex:outputText value="{0,date,dd'/'MM'/'yyyy}">
                                                    <apex:param value="{!item.Strategic_Context_Last_Update__c}" /> 
                                                </apex:outputText>
                                            </td>
                                        </tr>
                                    </apex:repeat>                
                                </tbody>
                            </table>                    
                        </apex:outputPanel>
                        <table id="localTable" class="table table-striped table-bordered table-condensed">
                            <thead>
                                <tr>
                                    <th>
                                        <apex:outputText rendered="{!globalStrategicContext.size > 0}" value="{!$Label.certa_scp__current_account}"/>
                                    </th>
                                    <th style="width:180px;text-align: center;">
                                        <apex:outputText value="{!$Label.certa_scp__lastmodifieddate}"/>
                                    </th>
                                    <th style="width:75px;">
                                        
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <apex:outputField value="{!account.Strategic_Context__c}">
                                            <apex:inlineEditSupport event="ondblclick" changedStyleClass="myBoldClass" resetFunction="resetInlineEdit" rendered="{!canEdit}" />
                                        </apex:outputField>
                                    </td>
                                    <td style="text-align: center;">
                                        <apex:outputText value="{0,date,dd'/'MM'/'yyyy}">
                                            <apex:param value="{!account.Strategic_Context_Last_Update__c}" /> 
                                        </apex:outputText>
                                    </td>
                                    <td>
                                        <apex:commandButton rendered="{!canEdit}" styleClass="btn btn-default btn-sm" action="{!borra}" value="{!$Label.certa_scp__delete}" rerender="pageContent"/>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <apex:outputText rendered="{!canEdit}"><div style="clear:both; text-align:center; font-style: italic;border-bottom: 1px solid rgb(237, 239, 240);padding-bottom: 15px;">{!$Label.certa_scp__double_click}</div></apex:outputText>			
                    </div>
                    
                    <!-- Strategic Iniciatives -->
                    <div class = "hiddenTable hidden-strategicIniciative">
                        
                        <br/>
                        <div style = "width: 98%;" class="center-block alert alert-info" role="alert">
                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                            {!$Label.Tutorial_iniciativa_estrategica}
                        </div>
                        
                        <h2>{!$Label.Global_Strategic_Initiative}</h2>
                        <apex:outputPanel rendered="{!globalStrategicInitiatives.size > 0}">
                            <table class="table table-striped table-bordered table-condensed">
                                <thead>
                                    <tr>
                                        <th style="width:50px;">
                                            <apex:outputText value="{!$Label.certa_scp__numero_de_la_oportunidad}"/>
                                        </th>
                                        <th>
                                            <apex:outputText value="{!$Label.certa_scp__parent_account}"/>
                                        </th>
                                        <th style="width:180px;">
                                            <apex:outputText value="{!$Label.certa_scp__linked_opportunities}"/>
                                        </th>
                                        <th style="width:255px;text-align: center;">
                                            <apex:outputText value="{!$Label.certa_scp__lastmodifieddate}"/>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <apex:repeat value="{!globalStrategicInitiatives}" var="item">
                                        <tr>
                                            <td>
                                                {!item.name}
                                            </td>
                                            <td>
                                                {!item.Strategic_Initiative__c} ({!item.account__r.Name})
                                            </td>
                                            <td>
                                                <!-- <apex:repeat value="{!item.Opportunities__R}" var="Opps"><apex:outputField value="{!Opps.Opportunity__c}"/><br/></apex:repeat> -->
                                                <apex:repeat value="{!item.Opportunities__R}" var="Opps">                      							
                                                    <span class="PopupHolderOpp label label-warning label-link" style="width: 74px;  height: 16px;">			                   								
                                                        <apex:outputText value="{!Left(Opps.Opportunity__r.Name,10)}"/><apex:outputText rendered="{!LEN(Opps.Opportunity__r.Name)>10}" value="..."/>			                   										                   										
                                                        <div class="individualPalette lookupHoverDetail lookupHoverDetailOverridable" style="display:none; visibility:visible; position:absolute; top:auto; left:auto;">
                                                            <div class="Custom50Block topRight">
                                                                <div class="bPageBlock secondaryPalette">
                                                                    <div class="pbHeader">
                                                                        <table border="0" cellpadding="0" cellspacing="0" style="border-bottom:0px;"><tbody>
                                                                            <tr>
                                                                                <td class="pbTitle"><h2 class="mainTitle">{!$Label.opportunity}</h2></td>
                                                                                <td class="pbButton">
                                                                                    <a href="/{!Opps.Opportunity__c}">
                                                                                        <button type="button" class="btn btn-default btn-xs">
                                                                                            {!$Label.view}
                                                                                        </button>		                     
                                                                                    </a>
                                                                                </td>			                                                                
                                                                            </tr>
                                                                            </tbody></table>
                                                                    </div>
                                                                    <div class="pbBody">
                                                                        <table class="detailList" border="0" cellpadding="0" cellspacing="0" style="border-bottom:0px;"><tbody>
                                                                            <tr>
                                                                                <td class="labelCol last">{!$ObjectType.Opportunity.fields.Name.Label}:</td>
                                                                                <td class="dataCol last">{!Opps.Opportunity__r.Name}</td>
                                                                            </tr>
                                                                            </tbody></table>
                                                                    </div>
                                                                    <div class="pbFooter secondaryPalette">
                                                                        <div class="bg"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </span>
                                                </apex:repeat>
                                            </td>
                                            <td style="text-align: center;">
                                                <apex:outputText value="{0,date,dd'/'MM'/'yyyy}">
                                                    <apex:param value="{!item.LastModifiedDate}" /> 
                                                </apex:outputText>
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </tbody>
                            </table>
                        </apex:outputPanel>
                        <apex:outputPanel layout="block" id="localStrategicInitiativeTable">
                            <table class="table table-striped table-bordered table-condensed">
                                <thead>
                                    <tr>
                                        <th style="width:50px;">
                                            <apex:outputText value="{!$Label.certa_scp__numero_de_la_oportunidad}"/>
                                        </th>
                                        <th style="min-width: 80pt;">
                                            <apex:outputText value="{!$ObjectType.Strategic_Initiative__c.fields.Title__c.label}"/>
                                        </th>
                                        <th>
                                            <apex:outputText value="{!$Label.certa_scp__description}"/>
                                        </th>
                                        <th style="width:180px;">
                                            <apex:outputText value="{!$Label.certa_scp__linked_opportunities}"/>
                                        </th>
                                        <th style="width:180px;text-align: center;">
                                            <apex:outputText value="{!$Label.certa_scp__lastmodifieddate}"/>
                                        </th>
                                        <th style="width:75px;">		            				
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <apex:repeat value="{!localStrategicInitiatives}" var="item">
                                        <tr>
                                            <!-- -------------------------------------------------------------------------------------------------------------- -->
                                            <td>
                                                <apex:outputField value="{!item.name}" />
                                            </td>
                                            <!-- -------------------------------------------------------------------------------------------------------------- -->
                                            <td>
                                                <apex:outputField value="{!item.Title__c}">
                                                    <apex:inlineEditSupport rendered="{!canEdit}" event="ondblclick"/>
                                                </apex:outputField>
                                            </td>
                                            <!-- -------------------------------------------------------------------------------------------------------------- -->
                                            <td class="initiative">
                                                <apex:outputField value="{!item.Strategic_Initiative__c}" rendered="{!LEN(item.Strategic_Initiative__c) < 150}">
                                                    <apex:inlineEditSupport rendered="{!canEdit}" event="ondblclick"/>
                                                </apex:outputField>
                                                <apex:outputPanel rendered="{!LEN(item.Strategic_Initiative__c) > 150}">
                                                    <span class="lessSpan">
                                                        <apex:outputText value="{!Left(item.Strategic_Initiative__c, 150)}"/>
                                                        <apex:outputText >
                                                            ...
                                                            <button type="button" class="btn btn-default btn-xs showMore" style="float:right;">
                                                                <span class="glyphicon glyphicon-zoom-in icon-btn-left"></span>&nbsp;{!$Label.show_more}
                                                            </button>
                                                        </apex:outputText>
                                                    </span>
                                                    <span class="moreSpan" style="float:right;display:none;">								
                                                        <apex:outputField value="{!item.Strategic_Initiative__c}">
                                                            <apex:inlineEditSupport rendered="{!canEdit}" event="ondblclick"/>
                                                        </apex:outputField>
                                                        <button type="button" class="btn btn-default btn-xs showLess" style="float:right;">
                                                            <span class="glyphicon glyphicon-zoom-out icon-btn-left"></span>&nbsp;{!$Label.show_less}
                                                        </button>
                                                    </span>
                                                </apex:outputPanel>
                                            </td>
                                            <!-- -------------------------------------------------------------------------------------------------------------- -->
                                            <td>
                                                <!-- <apex:repeat value="{!item.Opportunities__R}" var="Opps"><apex:outputField value="{!Opps.Opportunity__c}"/><br/></apex:repeat> -->
                                                <ul style="list-style-type: none;padding: 0px;">
                                                    <apex:repeat value="{!item.Opportunities__R}" var="Opps">                      							
                                                        <li>
                                                            <span class="PopupHolderOpp label label-warning label-link" style="width: 74px;  height: 16px;">			                   								
                                                                <apex:outputText value="{!Left(Opps.Opportunity__r.Name,10)}"/><apex:outputText rendered="{!LEN(Opps.Opportunity__r.Name)>10}" value="..."/>			                   										                   										
                                                                <div class="individualPalette lookupHoverDetail lookupHoverDetailOverridable" style="display:none; visibility:visible; position:absolute; top:auto; left:auto;">
                                                                    <div class="Custom50Block topRight">
                                                                        <div class="bPageBlock secondaryPalette">
                                                                            <div class="pbHeader">
                                                                                <table border="0" cellpadding="0" cellspacing="0" style="border-bottom:0px;"><tbody>
                                                                                    <tr>
                                                                                        <td class="pbTitle"><h2 class="mainTitle">Oportunidad</h2></td>
                                                                                        <td class="pbButton">
                                                                                            <a href="/{!Opps.Opportunity__c}">
                                                                                                <button type="button" class="btn btn-default btn-xs">
                                                                                                    {!$Label.view}
                                                                                                </button>		                     
                                                                                            </a>
                                                                                        </td>			                                                                
                                                                                    </tr>
                                                                                    </tbody></table>
                                                                            </div>
                                                                            <div class="pbBody">
                                                                                <table class="detailList" border="0" cellpadding="0" cellspacing="0" style="border-bottom:0px;"><tbody>
                                                                                    <tr>
                                                                                        <td class="labelCol last">{!$ObjectType.Opportunity.fields.Name.Label}:</td>
                                                                                        <td class="dataCol last">{!Opps.Opportunity__r.Name}</td>
                                                                                    </tr>
                                                                                    </tbody></table>
                                                                            </div>
                                                                            <div class="pbFooter secondaryPalette">
                                                                                <div class="bg"></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </span>
                                                        </li>
                                                    </apex:repeat>
                                                </ul>
                                            </td>
                                            <!-- -------------------------------------------------------------------------------------------------------------- -->
                                            <td style="text-align: center;">
                                                <apex:outputText value="{0,date,dd'/'MM'/'yyyy}">
                                                    <apex:param value="{!item.LastModifiedDate}" /> 
                                                </apex:outputText>
                                            </td>
                                            <!-- -------------------------------------------------------------------------------------------------------------- -->
                                            <td>
                                                <apex:commandButton styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__delete}"  reRender="localStrategicInitiativeTable" status="renderMeStatus" action="{!DeleteStrategicInitiatives}"  rendered="{!canEdit}">
                                                    <apex:param assignTo="{!delid}" name="delid" value="{!item.id}"/>
                                                </apex:commandButton>
                                            </td>
                                            <!-- -------------------------------------------------------------------------------------------------------------- -->
                                        </tr>
                                    </apex:repeat>
                                </tbody>
                            </table>			            
                            <apex:outputText rendered="{!canEdit}">
                                <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModal">
                                    <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.add_buttom}&nbsp;{!$Label.Initiative}
                                </button>
                            </apex:outputText>
                            <apex:outputText rendered="{!canEdit}"><div style="clear:both; text-align:center; font-style: italic;border-bottom: 1px solid rgb(237, 239, 240);padding-bottom: 15px;">{!$Label.certa_scp__double_click}</div></apex:outputText>
                        </apex:outputPanel>
                    </div>
                    <!-- -------------------------------------------------------------------------------------------------------------- -->
                    <!-- -------------------------------------------------------------------------------------------------------------- -->
                    <!-- Buying Criteria -->
                    
                    <div class = "hiddenTable hidden-buyingCriteria">
                        <br/>
                        <div style = "width: 98%;" class="center-block alert alert-info" role="alert">
                            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                            {!$Label.Tutorial_politica_de_compra}
                        </div>
                        
                        <h2>{!$Label.Global_Buying_Criteria}</h2>
                        <apex:outputPanel rendered="{!globalBuyingCriteria.size > 0}"> 
                            <table class="table table-striped table-bordered table-condensed">
                                <thead>
                                    <tr>
                                        <th>
                                            <apex:outputText value="{!$Label.certa_scp__parent_account}"/>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <apex:repeat value="{!globalBuyingCriteria}" var="item">
                                        <tr>
                                            <td>
                                                {!item}
                                            </td>
                                        </tr>
                                    </apex:repeat>
                                </tbody>
                            </table>
                        </apex:outputPanel>
                        <apex:outputPanel id="localBuyingPanel"> 
                            <table class="table table-striped table-bordered table-condensed">
                                <thead>
                                    <tr>
                                        <th style="height: 32px;">
                                            <apex:outputText rendered="{!globalBuyingCriteria.size > 0}" value="{!$Label.certa_scp__current_account}" />
                                        </th>
                                        <th>
                                            {!$Label.certa_scp__last_update}
                                        </th>
                                        <th style="width: 75px;">
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <apex:outputField value="{!account.Buying_Criteria__c}">
                                                <apex:inlineEditSupport event="ondblclick" changedStyleClass="myBoldClass"  resetFunction="resetInlineEdit" rendered="{!canEdit}"/>
                                            </apex:outputField>
                                        </td>
                                        <td style="width:180px;"> 
                                            <apex:outputText value="{0,date,dd'/'MM'/'yyyy HH:mm:ss z}">
                                                <apex:param value="{!account.Buying_Criteria_Last_Update__c}" /> 
                                            </apex:outputText>                    
                                        </td>
                                        
                                        <td>
                                            <apex:commandButton styleClass="btn btn-default btn-sm" action="{!borra2}" value="{!$Label.certa_scp__delete}" rerender="localBuyingPanel"/>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <apex:outputText rendered="{!canEdit}"><div style="clear:both; text-align:center; font-style: italic;">{!$Label.certa_scp__double_click}</div></apex:outputText>
                        </apex:outputPanel> 
                    </div>
                    
                </apex:outputPanel>
                
                <!-- -------------------------------------------------------------------------------------------------------------- -->
                <!-- -------------------------------------------------------------------------------------------------------------- -->
                <apex:outputPanel layout="block"  styleClass="panel-footer">		   			
                    <div class="row paddingRight">
                        <apex:actionFunction action="{!exportToExcel}" name="exportToExcel"/>
                        <apex:actionFunction action="{!SaveChanges}" name="SaveChanges" rerender="pageContent" status="renderMeStatus"/>
                        <div class="btn-group pull-right" role="group" aria-label="...">    					
                            <apex:outputText rendered="{!canEdit}">
                                <button type="button" class="btn btn-default btn-sm" onclick="SaveChanges()">
                                    <span class="glyphicon glyphicon-floppy-disk icon-btn-left"></span>&nbsp;{!$Label.save}
                                </button>
                            </apex:outputText>    
                            <button type="button" class="btn btn-default btn-sm" onclick="exportToExcel()">
                                <span class="glyphicon glyphicon-file icon-btn-left"></span>&nbsp;{!$Label.Export_to_Excel}
                            </button>
                        </div>
                    </div>
                </apex:outputPanel>
                <!-- -------------------------------------------------------------------------------------------------------------- -->
                <!-- Modal -->
                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog" style="z-index:9999;">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel">{!$Label.New_Initiative}</h4>
                            </div>
                            <div class="modal-body">
                                <table style="border-collapse: separate;border-spacing: 5px;">
                                    <tr>
                                        <td style="text-align: right;">
                                            <apex:outputText value="{!$ObjectType.Strategic_Initiative__c.fields.Title__c.label}" />:
                                        </td>
                                        <td>
                                            <apex:inputField style="width: 100%;" value="{!newInitiative.Title__c}"/><br/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: right;">
                                            <apex:outputText value="{!$Label.certa_scp__description}" />:
                                        </td>
                                        <td>
                                            <textarea id="textIniciative" cols="52" rows="6"></textarea> 
                                            <span id="spanIniciative" style="display:none;">
                                                <apex:inputField style="width: 100%;" value="{!newInitiative.Strategic_Initiative__c}"/><br/>
                                            </span>
                                        </td>
                                    </tr>
                                </table>		        
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="fillInitiative();InsertIniciative()">{!$Label.add_buttom}</button>
                                <apex:actionFunction action="{!InsertIniciative}" name="InsertIniciative" rerender="pageContent" status="renderMeStatus"/>
                            </div>
                        </div>
                    </div>
                </div>		    	
            </apex:form>
            <c:FastTask page="{!$Label.certa_scp__client_context}" account="{!account.id}"></c:FastTask>
            <chatter:feed entityId="{!Account.Id}" />
        </apex:outputPanel>
    </apex:outputpanel>
</apex:page>