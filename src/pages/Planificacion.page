<apex:page controller="PlanificacionController" tabStyle="Strategic_Client_Plan__tab" sidebar="false" showHeader="true" docType="html-5.0" action="{!insertar4Planning}" >
    
    <c:FourPlanningMenuSuperiorLocal ></c:FourPlanningMenuSuperiorLocal>
    
    
    <apex:includeScript value="{!$Resource.JQueryUI}"  />
    <apex:includeScript value="{!$Resource.JQueryUITouch}" />
    <apex:includeScript value="{!$Resource.DataTable}"  />
    
 <script>
    jQuery.extend( jQuery.fn.dataTableExt.oSort, {
        "date-uk-pre": function ( a ) {
            if (a == null || a == "") {
                return 0;
            }
            var ukDatea = a.split('/');
            return (ukDatea[2] + ukDatea[1] + ukDatea[0]) * 1;
        },
        
        "date-uk-asc": function ( a, b ) {
            return ((a < b) ? -1 : ((a > b) ? 1 : 0));
        },
        
        "date-uk-desc": function ( a, b ) {
            return ((a < b) ? 1 : ((a > b) ? -1 : 0));
        }
    } );
    

    jQuery.extend( jQuery.fn.dataTableExt.oSort, {
        "currency-pre": function ( a ) {
            
            console.log(a);
            if(a.includes("EUR") && !a.includes("(EUR")){
                a = (a==="-") ? 0 : a.slice(a.indexOf("EUR")+4, a.indexOf("</span>"));
                a = a.replace(/\./g, "");
                a = a.slice(0, a.indexOf(","));
                console.log("euros");
                console.log(a);
                return a;
            }else{
                
                if(a.includes("(EUR")){
                    a = (a==="-") ? 0 : a.slice(a.indexOf("(EUR")+4, a.indexOf(")"));
                    a = a.replace(/\./g, "");
                    a = a.slice(0, a.indexOf(","));
                    console.log("ars");
                    console.log(a);
                    return a;
                }else{
                    a = (a==="-") ? 0 : a.slice(a.indexOf("$")+1, a.indexOf("</span>"));
                    a = a.replace(/\./g, "");
                    return a;
                }
            }
        },
        
        "currency-asc": function ( a, b ) {
            return a - b;
        },
        
        "currency-desc": function ( a, b ) {
            return b - a;
        }
    } );

    </script>
    
    <style>
        .pbSubheader h3 {
        display: inline;
        margin-left: 5px;
        font-weight: bold;
        }
        
        .dataTables_filter {
        text-align: right !important;
        }
        
        .separator {
        width: 100%;
        margin-top: 20px;
        }
        
        #big-deal-tab-content th {
        width : 55%;
        text-align : left;
        padding-left : 20%;
        font-size: 14px;
        font-weight: normal;
        }
        
        
        #big-deal-tab-content th label {
        font-size: 14px;
        font-weight: normal;
        }
        
        .icon-sectors {
        width: 90px;            
        }
        
        .icon-sectors-botonera {
        width: 38px;            
        }
        
        #ul-menu-img2 {
        width: 100% ! important;
        border-bottom: 0px solid #cfd0d2;
        
        }
        
        #ul-menu-img2 li {
        text-align: center;
        width: 14.2%;
        height: 185px;
        min-height: 190px;
        max-height: 190px;
        text-transform: none ! important;
        }
        
        #ul-menu-img2 li:hover, #ul-menu-img2 li.active {
        border: 2px solid #539fc6;
        
        }
        
        #ul-menu-img2 li a, #ul-menu-img2 li a:hover {
        border: 0px solid #539fc6 ! important;
        
        }
        
        
        
        
        
        #ul-menu-img {
        width: 100% ! important;
        border-bottom: 0px solid #cfd0d2;
        }
        
        #ul-menu-img li {
        text-align: center;
        width: 16.6%;
        height: 185px;
        min-height: 190px;
        max-height: 190px;
        text-transform: none ! important;
        }
        
        #ul-menu-img li:hover, #ul-menu-img li.active {
        border: 2px solid #539fc6;            
        }
        
        #ul-menu-img li a, #ul-menu-img li a:hover {
        border: 0px solid #539fc6 ! important;
        }
        
        
        .ocultar{
        display:none;
        }
        
        .bordesDeTabla{ 
        border-bottom: 1px solid #ececec;
        border-bottom-width: 1px;
        border-bottom-style: solid;
        }
        
        .tituloLabel{
        text-align: left;
        padding-left: 15% !important;
        }
        
        .esCero{
        background-color: black !important;
        }
        
        .menorDeSetenta{
        background-color:#F1E100 !important;
        }
        
        .menorDeVeinte{
        background-color:#FF0009 !important;
        }
        .menorDeCincuenta{
        background-color:#FF0009 !important;
        }
        
        .completo{
        background-color:#009813 !important;
        }
        
        .casiCompleto{
        background-color:#55C500 !important;
        }
        
        #custom-handle {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #custom-handle-nosotros {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #custom-handle-competencia {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #custom-handle-porcentajeFijo {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #custom-handle-porcentajeVariable {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #circle {
        width: 20px;
        height: 20px;
        -webkit-border-radius: 25px;
        -moz-border-radius: 25px;
        border-radius: 25px;
        float:left;
        }
        
        .datePicker {
        z-index: 9999;/*Changed this css property which was 100 prior*/
        position: absolute;
        display: none;
        top: 0;
        left: 0;
        width: 17em;
        background-color: #b7c6b2;
        border-bottom: 1px solid #000;
        border-right: 1px solid #000;
        margin: 0;
        padding: 1px 1px 2px 2px;
        }
        
        .modal-dialog{
        overflow-y: initial !important
        }
        .modal-body{
        height: 250px;
        overflow-y: auto;
        }
        
        
        
        
        
        
        .rTable {
        display: table;
        width: 21%;
        float: left;
        }
        
        .rTable2 {
        display: table;
        width: 47%;
        float: left;
        }
        
        .rTableSoluciones {
        display: table;
        width: 31%;
        float: left;
        }
        .rTableContactos {
        display: table;
        width: 22%;
        
        }
        .rTableRow {
        display: table-row;
        }
        .rTableHeading {
        display: table-header-group;
        background-color: #1a3a54;
        
        }
        
        .rTableHeading2 {
        display: table-header-group;
        background-color: white;
        min-height: 43px;
        
        }
        
        
        .rTableCell {
        background-color: #e2e2f5;
        font-size:14px;
        }
        .rTableCell, .rTableHead {
        display: table-cell;
        padding: 3px 10px;
        border: 1px solid white;
        }
        .rTableHeading {
        display: table-header-group;
        background-color: #1a3a54;
        font-weight: bold;
        }
        .rTableFoot {
        display: table-footer-group;
        font-weight: bold;
        background-color: #ddd;
        }
        .rTableBody {
        display: table-row-group;
        } 
        
        .tituloDeTabla{
        
        color: white;
        font-size: 14px;
        text-align: center;
        height:32px;
        }
        
        .tablaUser {
        /*background-color: #4eb1cb;*/
        background-color: #C1D6D6;
        }
        
        .bordeTablaRetos{
        border-bottom: 2px solid white;
        }
        
        .thVencimiento{
        width: 0 !important; 
        text-align: center !important;
        padding-left: 0 !important; 
        font-size: 14px; 
        font-weight: 900 !important;
        background-color: #1a3a54;
        color: white;
        border-color: white;
        cursor:pointer;
        }
        
    </style>
    
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
    <link rel="stylesheet" href="/resources/demos/style.css"/>
    <apex:includeScript value="{!$Resource.Ploty}"/>
    
    <!--
<apex:includeScript value="{!$Resource.jquery112}" />

-->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    
    
    
    <script>
        
        $j = jq213; //jQuery.noConflict();
    $j2 = jq161;
    
    $j(document).ready(function() {
        initializeToggles();
        iniciarDataTable();        
        $j( "#tabsNuevos" ).tab();
        
        $j("#" + GetURLParameter("section")).click();        
        //Sliders ========================
        
        //=====================================================================        
        
        
        $j("#" + GetURLParameter("section")).click();
        
        siEstaEnNoDejoVerLaSeccion();
        
        $j(".mostrarCuestionario").change(function(){
            
            siEstaEnNoDejoVerLaSeccion();
            
        }); 
        
        
        $j(".tipoDeContacto").change(function(){
            console.log($j(".tipoDeContacto").val());
            funcion2();
        });
        
        function funcion2(){
            if($j(".tipoDeContacto").val() === 'Otro'){
                $j('.campoContacto').removeClass('ocultar');
            }else{
                $j('.campoContacto').addClass('ocultar');
            }            
        }
        
        
        
        verOtro();
        verPorcentajeFijoYVariable();
        siEstaEnSiSeVeLaFlota();              
        
        $j('.guardar').on('click',function(){
            SaveChanges();
        });
        
        $j(".nivelDeContacto").change(function(){
            if($j(this).val() === 'Otros'){
                $j(".otroNivel").fadeIn();
            }else{
                $j(".otroNivel").fadeOut();
            }
        });
        
        
        $j(".porcentajeFacturacion").change(function(){
            console.log('dentro de cambiar');
            if($j(this).val() > 0){
                $j(".especificarPorcentaje").fadeIn();
            }else{
                $j(".especificarPorcentaje").fadeOut();
            }
        });
        
        function iniciarDataTable(){
            
            $j2('#mainOppsTable').dataTable({
                "bPaginate": false,        
                "bInfo": false,
                "aoColumns": [
                    null,
                    null,
                    { "sType": "date-uk" },
                    { "sType": "currency" },
                    null
                ],                
                "oLanguage": {
                    "sSearch": "<span>{!$Label.Buscar}:</span>",
                    "sEmptyTable": "<span>{!$Label.No_hay_opps_cargadas}</span>",
                    "sZeroRecords": "{!$Label.No_hay_opps_busqueda}",
                    //search
                },
                "language": {
                    "sSearch": "{!$Label.Buscar}",
                    "search": "{!$Label.Buscar} ",
                    "sEmptyTable": "{!$Label.No_hay_opps_cargadas}",
                    "zeroRecords": "{!$Label.No_hay_opps_busqueda}"
                }
            });
            
        }
        
        $j(".disponeDeAutomotor").change(function(){
            siEstaEnSiSeVeLaFlota();
        });
        
        $j('#myModalHito').on('shown.bs.modal', function () {
            $j('body').animate({ scrollTop: 0 }, 400);
        });
        
        function siEstaEnNoDejoVerLaSeccion(){
            if($j(".mostrarCuestionario").val() === 'No'){
                $j(".cuestionarioOculto").removeClass('ocultar');    
            }else{
                $j(".cuestionarioOculto").addClass('ocultar');
            }
        }
        
        function siEstaEnSiSeVeLaFlota(){
            console.log($j(".disponeDeAutomotor").val());
            if($j(".disponeDeAutomotor").val() === 'Si'){
                $j('.cuestionarioFlota').removeClass('ocultar');
            }else{
                $j('.cuestionarioFlota').addClass('ocultar');
            }
        }
        
        
        
        $j(".nombreIniciativa").change(function(){
            funcion1();
        });
        
        
        function funcion1(){
            console.log($j(".nombreIniciativa").val());
            if($j(".nombreIniciativa").val() === 'Otro'){
                $j('.campoIniciativa').removeClass('ocultar');
            }else{
                $j('.campoIniciativa').addClass('ocultar');
            }            
        }
        
        
        
        $j(".nombreCategoria").change(function(){
            funcion4();
        });
        
        function funcion4(){
            console.log($j(".nombreCategoria").val());
            if($j(".nombreCategoria").val() === 'Otro'){
                $j('.campoCategoria').removeClass('ocultar');
            }else{
                $j('.campoCategoria').addClass('ocultar');
            }            
        }
        
        $j(".tipoDeContactoEnTabla").click(function(){
            console.log($j(".tipoDeContactoEnTabla").val());
            funcionTabla();
        });
        
        function funcionTabla(){
            console.log($j(".tipoDeContactoEnTabla").val());
            if($j(".tipoDeContactoEnTabla").val() === 'Otro'){
                $j('.campoDeContactoEnTabla').removeClass('ocultar');
            }else{
                $j('.campoDeContactoEnTabla').addClass('ocultar');
            }            
        }
        
        
        
        
        $j(".celdaContenedoraDeActitud").tooltip({ 
            bodyHandler: function() { 
                return $j($j(this).children(".info")).html(); 
            }, 
            showURL: false 
        });
        
        var smallcell = $j(".celdaContenedoraDeActitud").outerWidth();
        
        
        
        $j(".paises").change(function(){
            siEstaEnSiSeVePregunta();
        });
        
        
        function siEstaEnSiSeVePregunta(){
            console.log($j(".paises").val());
            if($j(".paises").val() === 'Si'){
                $j('.cuestionarioPaises').removeClass('ocultar');
            }else{
                $j('.cuestionarioPaises').addClass('ocultar');
            }            
        }
        
        renderizarPagina();
    });
    
    function renderizarTodo(){
        console.log("entreee");
        SaveChanges();
    }
    
    function prueba(){
        console.log($j(".tipoDeContactoEnTabla").val());
        if($j(".tipoDeContactoEnTabla").val() === 'Otro'){
            $j('.campoDeContactoEnTabla').removeClass('ocultar');
        }else{
            $j('.campoDeContactoEnTabla').addClass('ocultar');
        }            
    }
    
    
    
    
    function prueba2(){
        console.log($j(".inputTipo").val());
        if($j(".inputTipo").val() === 'Gestión'){
            $j('.tabla2').removeClass('ocultar');
            $j('.tabla1').addClass('ocultar');
        }else{
            $j('.tabla2').addClass('ocultar');
            $j('.tabla1').removeClass('ocultar');
        } 
        
        if($j(".inputTipo").val() === ''){
            $j('.tabla2').addClass('ocultar');
            $j('.tabla1').addClass('ocultar');
        }
    }
    
    
    
    
    
    
    $j(window).bind('beforeunload', function(){
        return 'saksdk';
    });
    
    function resetCamposHito(){
        
        
        $j('.resetHito').each(function() {
            $j(this).val("");    
        });
        
        $j('.resetReto').each(function() {
            $j(this).val("");    
        });
        
        
        $j('.nosotrosInput').each(function() {
            $j(this).val("");    
        });
        
        $j('.competenciaInput').each(function() {
            $j(this).val("");    
        });
    }
    
    function verOtro(){
        if($j(".nivelDeContacto").val() === 'Otros'){
            $j(".otroNivel").fadeIn();
        }else{
            $j(".otroNivel").fadeOut();
        }
    }
    
    function verPorcentajeFijoYVariable(){
        if($j(".porcentajeFacturacion").val() > 0){
            $j(".especificarPorcentaje").fadeIn();
        }else{
            $j(".especificarPorcentaje").fadeOut();
        }
        
    }
    
    function resetCamposIniciativa(){
        
        $j('.resetIniciativa').each(function() {
            $j(this).val("");    
        });
    }
    
    function clickEnSeccion5(){
        console.log("entre");
        SaveChanges();
        $j("#section5").click();
        $j('html, body').animate({ scrollTop: 0 }, 'normal');        
    }
    
    function GetURLParameter(sParam) {
        
        var sPageURL = window.location.search.substring(1);
        var sURLVariables = sPageURL.split('&');
        
        for (var i = 0; i < sURLVariables.length; i++) {
            var sParameterName = sURLVariables[i].split('=');
            if (sParameterName[0] == sParam) {
                return sParameterName[1];
            }
        }
    }
    
    function ajaxshow () {
        $j(".ajaxloader").show();
    }
    function ajaxstop () {
        $j(".ajaxloader").hide();
    }
    
    function initializeToggles () {
        var toggle = $j("[id$=reach-defined-checkbox]");
        toggle.click(function () {
            toggleRowClass("reach-file-upload", this.checked);
            toggleRow("reach-file-valoration", this.checked);
        });
        toggleRowClass("reach-file-upload", toggle.is(':checked'));
        toggleRow("reach-file-valoration", toggle.is(':checked'));
        //---------------------------------------------------------------------
        toggle = $j("[id$=reach-similar-projects-exp]");
        toggle.click(function () {
            toggleRow("reach-similar-projects-exp-detail", 
                      $j(this).find('option:selected').val() === "Si");
        });
        toggleRow("reach-similar-projects-exp-detail", toggle.find('option:selected').val() === "Si");
        
        //---------------------------------------------------------------------
        toggle = $j("[id$=reach-technical-checkbox]");
        toggle.click(function () {
            //toggleRow("reach-technical-text", this.checked);
            toggleRowClass("reach-technical-text", this.checked);
            toggleRow("reach-technical-valoration", this.checked);
        });
        //toggleRow("reach-technical-text", toggle.is(':checked'));
        toggleRowClass("reach-technical-text", toggle.is(':checked'));
        toggleRow("reach-technical-valoration", toggle.is(':checked'));
        //---------------------------------------------------------------------
        toggle = $j("[id$=reach-third-party-required-checkbox]");
        toggle.click(function () {
            toggleRow("reach-third-party-amount", this.checked);
        });
        toggleRow("reach-third-party-amount", toggle.is(':checked'));
        //---------------------------------------------------------------------
        toggle = $j("[id$=reach-hire-checkbox]");
        toggle.click(function () {
            toggleRow("reach-hire-amount", this.checked);
        });
        toggleRow("reach-hire-amount", toggle.is(':checked'));
        //---------------------------------------------------------------------
        toggle = $j("[id$=team-fte-not-present]");
        var toggleB = $j("[id$=team-fte-third-party]");
        var toggleFunction = function () {
            toggleRow("team-fte-detail", 
                      ($j("[id$=team-fte-not-present]").find('option:selected').val() !== "" && 
                       $j("[id$=team-fte-not-present]").find('option:selected').val() !== "0") ||
                      ($j("[id$=team-fte-third-party]").find('option:selected').val() !== "" && 
                       $j("[id$=team-fte-third-party]").find('option:selected').val() !== "0"));
        }
        toggle.click(toggleFunction);
        toggleB.click(toggleFunction);
        toggleFunction();
        //---------------------------------------------------------------------
        toggle = $j("[id$=risk-project-SLA-checkbox]");
        toggle.click(function () {
            toggleRowClass("risk-project-SLA-detail", this.checked);
            toggleRow("risk-project-SLA-valoration", this.checked);
        });
        toggleRowClass("risk-project-SLA-detail", toggle.is(':checked'));
        toggleRow("risk-project-SLA-valoration", toggle.is(':checked'));
    }
    
    function toggleRow(id, condition) {
        //the closest("tr") obtain the element that is generated as 
        //part of the pageBlockSection that contains both the title and
        //the input field
        if(condition) {
            $j("[id$=" + id + "]").closest("tr").show("fast");
        }
        else {
            $j("[id$=" + id + "]").closest("tr").hide("fast");
        }
    }
    
    function toggleRowClass(aClass, condition) {
        //the closest("tr") obtain the element that is generated as 
        //part of the pageBlockSection that contains both the title and
        //the input field
        if(condition) {
            $j("." + aClass).closest("tr").show("fast");
        }
        else {
            $j("." + aClass).closest("tr").hide("fast");
        }
    }
    
    function fillInitiative() {
        $j("#spanIniciative input").val($j("#textIniciative").val());
        $j("#textIniciative").val("");
    }
    
    
    function setearValorIdDelRetoActual(id){
        $j(".setearIdDelRetoDelContacto").val(id);
    }
    
    function setearValorIdDeSolucionActual(id){
        $j(".setearIdDeSolucion").val(id);
    }
    
    function twistSectionInsideARepeat(twisty, sectionId) {
        var parentDiv = twisty;
        while (parentDiv.tagName != 'DIV') { parentDiv = parentDiv.parentNode; }
        var div = parentDiv.nextSibling; 
        var elemWasOn = false; 
        if (div.style.display != 'none') { 
            div.style.display = 'none'; 
            twisty.className ='showListButton';
            twisty.alt = twisty.title = 'Mostrar sección - '+twisty.name;
            elemWasOn = true; 
        } else {
            div.style.display = 'block'; 
            twisty.className = 'hideListButton';
            twisty.alt = twisty.title = 'Ocultar sección - '+twisty.name;
        } 
        return !elemWasOn;
    }
    
    function botonSi () {
        $j( "#detail-reach" ).click();
        $j('body').animate({ scrollTop: 127 }, 400);
    }
    
    function probandoRender(){
        $j("[data-toggle='tab']").toggle('destroy')                 
        $j("[data-toggle='tab']").toggle('create');    
        
    }
    
    
    function pruebaCategoria(){
        console.log($j(".tipoDeCategoriaEnTabla").val());
        if($j(".tipoDeCategoriaEnTabla").val() === 'Otro'){
            $j('.campoDeCategoriaEnTabla').removeClass('ocultar');
        }else{
            $j('.campoDeCategoriaEnTabla').addClass('ocultar');
        }            
    }
    
    
    
    function cambiarColor(id){
        
        var picklist = $j("."+id);
        
        console.log(picklist.val());
        
        if(picklist.val() == 'Oportunidades Ganadas'){
            $j("#"+id).css('background-color','#337ab7');
        }
        
        if(picklist.val() == 'Oportunidades en Funnel'){
            $j("#"+id).css('background-color','green');
        }
        
        if(picklist.val() == 'Lineas de trabajo Priorizadas'){
            $j("#"+id).css('background-color','orange');
        }
        if(picklist.val() == 'Lineas a Explorar'){
            $j("#"+id).css('background-color','grey');
        }
        if(picklist.val() == 'Lineas que no Aplican en el Cliente'){
            $j("#"+id).css('background-color','red');
        }
        if(picklist.val() == ''){
            $j("#"+id).css('background-color','black');
        }
        
    }
    
    
    
    </script>
    
    <apex:outputpanel styleClass="container-fluid bootstrap-sf1" id="todo">
        <apex:form >
        <div class="panel panel-default">
            <div class="panel-heading" style="height: 90px;">
                <h2 class="panel-title">
                    <span style="float:left;">
                        {!$Label.Planificacion}
                    </span>
                </h2>
                
                
                <div class="row paddingRight">
                    <div class="btn-group pull-right" role="group" >
                        
                        <apex:outputPanel id="buttonPanel">
                            <div class="btn-group pull-right" role="group" aria-label="...">
                               
                                <apex:actionStatus id="loadingSave">
                                    <apex:facet name="start">
                                        <img src="/img/loading.gif"/>
                                    </apex:facet>
                                </apex:actionStatus>
                                
                            </div>
                        </apex:outputPanel>  
                        
                    </div>
                </div>
                
                <!-- porcentaje completo -->
                
                <apex:outputPanel id="porcentajeCuenta">    
                    <span style="float: left;font-weight: bold;font-size: 70%; margin-top:-0.5%">{!$Label.Cuestionario_completo_al} {!porcentaje}%</span>
                    <br/>
                    
                    <div  class="row col-md-6" style="width: 25%; margin-top:-1%">
                        
                        <div class="progress">
                            <div class="progress-bar {!IF(porcentaje == 0, 'esCero','')} {!IF(porcentaje < 20, 'menorDeVeinte','')} {!IF(porcentaje > 79, 'completo','')} {!IF(porcentaje < 80 && porcentaje > 59, 'casiCompleto','')} {!IF(porcentaje < 60 && porcentaje > 49, 'menorDeSetenta','')} {!IF(porcentaje < 49 && porcentaje > 19, 'menorDeCincuenta','')}" role="progressbar" aria-valuenow="{!porcentaje}" aria-valuemin="0" aria-valuemax="100" style="width: {!porcentaje}%;min-width: 11%;">
                                {!porcentaje}%
                            </div>
                        </div> 
                        
                    </div>

                </apex:outputPanel>
				
				<br/>
                
            </div>
            
           <br/>
            
            <div class="panel-body">
                
                 
                <apex:outputPanel id="botones">
                    
                    <apex:outputPanel > <!--rendered="{!fourplanning.X4_Planning_Pro__c}"-->
                        <ul class="nav nav-tabs" role="tablist">
                            <li role="presentation" class="active"><a id="section1" href="#div-vencimiento" aria-controls="div-vencimiento" role="tab" data-toggle="tab">{!$Label.Vencimientos}</a></li>
                            <li role="presentation"><a id="section2" href="#div-hitos" aria-controls="div-hitos" role="tab" data-toggle="tab">{!$Label.Hitos_Relevantes}</a></li>
                            <li role="presentation"><a id="section3" href="#div-upselling" aria-controls="div-upselling" role="tab" data-toggle="tab">{!$Label.up_cross_selling}</a></li>
                            <li role="presentation"><a id="section4" href="#div-retos" aria-controls="div-retos" role="tab" data-toggle="tab">{!$Label.Retos_Oportunidades}</a></li>
                            <li role="presentation"><a id="section5" href="#div-Tareas" aria-controls="div-Tareas" role="tab" data-toggle="tab">{!$Label.Plan_de_action}</a></li>
                        </ul>
                    </apex:outputPanel>
                </apex:outputPanel>
                
                <apex:outputPanel id="msgPanel">
                    <br/>
                    <apex:messages style="width: 98%;" styleClass="center-block alert alert-danger" />
                </apex:outputPanel>
                
                <br/>
                <div class="tab-content" id="big-deal-tab-content">
                   
                    <!-- Up selling -->
                    <div id="div-upselling" role="tabpanel" class="tab-pane fade">
                        <apex:pageBlock title="" mode="maindetail" id="UPSelling">        
                            <apex:pageBlockSection id="todo" title="UP-Selling/Cross-selling" columns="1">
                                	
                                <div class="alert alert-info" role="alert">
                                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                    <span class="sr-only">Error:</span>
                                    {!$Label.Seccion_proximamente}
                                </div>
                                
                            </apex:pageBlockSection>
                        </apex:pageBlock>
                    </div>
                    
                    <!-- Vencimiento -->
                    <div id="div-vencimiento" role="tabpanel" class="tab-pane active fade in">
                        <apex:pageBlock title="" mode="maindetail" id="presupuesto">
                                                        
                            <apex:pageBlockSection id="todo" title="Vencimientos" columns="1">
                                
                                
                                <apex:pageBlockSectionItem >
                                    <apex:outputPanel id="panelSoluciones" layout="none"  >

                                            <br/>
                                            <br/>
                                            
                                            <div style="display: flex;
                                                        justify-content: center;
                                                        align-items: center; ">
                                                
                                                <div id="vencimientos" style="width: 1250px;">    
                                                </div>
                                                
                                            </div>
                                            <script>
                                            
                                            // Vencimientos Fijos.
                                            
                                            var todosLosVencimientos = [];
                                            
                                            var vencimientosFijos = {!vencimientosFijosJson};
                                            
                                            console.log('aca abajo las fechas');
                                            console.log({!fechasJson});
                                            
                                            var xFijos = [];
                                            var yFijos = [];
                                            for(i=0; i< vencimientosFijos.length ; i++){
                                                todosLosVencimientos.push(vencimientosFijos[i]);
                                                xFijos.push(vencimientosFijos[i].mes);
                                                yFijos.push(vencimientosFijos[i].fcv);
                                            }
                                            
                                            var fijos = {
                                                x: xFijos,
                                                y: yFijos,
                                                name: 'Fija',
                                                type: 'bar'
                                            };
                                            
                                            // Vencimientos Movil.
                                            var vencimientosMovil = {!vencimientosMovilJson};
                                            
                                            var xMovil = [];
                                            var yMovil = [];
                                            for(i=0; i< vencimientosMovil.length ; i++){
                                                todosLosVencimientos.push(vencimientosMovil[i]);
                                                xMovil.push(vencimientosMovil[i].mes);
                                                yMovil.push(vencimientosMovil[i].fcv);
                                            }
                                            
                                            console.log(xMovil);
                                            console.log(yMovil);
                                            
                                            var movil = {
                                                x: xMovil,
                                                y: yMovil,
                                                name: 'Movil',
                                                type: 'bar'
                                            };
                                            
                                            // Servicios Digitales.
                                            var vencimientosDigitales = {!vencimientosServiciosDigitalesJson};
                                            
                                            
                                            var xDigital = [];
                                            var yDigital = [];
                                            for(i=0; i< vencimientosDigitales.length ; i++){
                                                todosLosVencimientos.push(vencimientosDigitales[i]);
                                                xDigital.push(vencimientosDigitales[i].mes);
                                                yDigital.push(vencimientosDigitales[i].fcv);
                                            }
                                            
                                            var digital = {
                                                x: xDigital,
                                                y: yDigital,
                                                name: 'Servicios Digitales',
                                                type: 'bar'
                                            };
                                            
                                            // Otros.
                                            var vencimientosOtros = {!vencimientosOtrosJson};
                                            
                                            vencimientosOtros.sort(function(a, b) { 
                                                return a.claveOrdenar - b.claveOrdenar;
                                            })
                                            
                                            console.log('la de aca abajo');
                                            console.log(vencimientosOtros);
                                            
                                            var xOtros = [];
                                            var yOtros = [];
                                            for(i=0; i< vencimientosOtros.length ; i++){
                                                todosLosVencimientos.push(vencimientosOtros[i]);
                                                xOtros.push(vencimientosOtros[i].mes);
                                                yOtros.push(vencimientosOtros[i].fcv);
                                            }
                                            
                                            console.log(xOtros);
                                            console.log(yOtros);
                                            
                                            console.log('todos los vencimientos:');
                                            console.log(todosLosVencimientos);
                                            
                                            todosLosVencimientos.sort(function(a, b) { 
                                                return a.claveOrdenar - b.claveOrdenar;
                                            })
                                            
                                            var todosLosx = [];
                                            for(i=0; i< todosLosVencimientos.length ; i++){
                                                todosLosx.push(todosLosVencimientos[i].mes);
                                            }
                                            
                                            
                                            var uniqueNames = [];
                                            $j.each(todosLosx, function(i, el){
                                                if($j.inArray(el, uniqueNames) === -1) uniqueNames.push(el);
                                            });
                                            
                                            var otros = {
                                                x: xOtros,
                                                y: yOtros,
                                                name: 'Otros',
                                                type: 'bar'
                                            };
                                            
                                            
                                            var data = [fijos, movil, digital, otros];
                                            
                                            uniqueNames = {!fechasJson};
                                            
                                            var layout = {
                                                width: 1250,
                                                barmode: 'stack',
                                                xaxis: {
                                                    categoryorder:'array',
                                                    categoryarray: uniqueNames,
                                                }        
                                            };
                                            
                                            Plotly.newPlot('vencimientos', data, layout, {displayModeBar: true, displaylogo: false, showlegend: false, modeBarButtonsToRemove: ['toImage','sendDataToCloud','zoom2d','select2d','lasso2d','hoverClosestCartesian','hoverCompareCartesian','autoScale2d'] });
                                            </script>
                                            
                                            <div style="overflow: auto;max-height: 120vh;">
                                                <table id="mainOppsTable" style="width: 90%;margin-left: 5%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                                    <thead>
                                                        <tr>
                                                            <th class="thVencimiento">
                                                                {!$Label.Nombre_de_la_oportunidad}
                                                            </th>
                                                            <th class="thVencimiento">
                                                                {!$Label.Linea_de_negocio}
                                                            </th>
                                                            <th class="thVencimiento">
                                                                {!$Label.Fecha_Fin_de_Contrato}
                                                            </th>
                                                            <th class="thVencimiento">
                                                                {!$Label.Venta_Bruta_Total}
                                                            </th>
                                                            <th class="thVencimiento">
                                                                {!$Label.certa_scp__link} 
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <apex:repeat value="{!wrapersOportunidadesVencimientos}" var="opp">
                                                        <tr>
                                                            <td style="text-align:center">
                                                                {!opp.name}
                                                            </td>
                                                            <td style="text-align:center">
                                                                {!opp.lineaDeNegocio}
                                                            </td>
                                                            <td style="text-align:center">
                                                                <apex:outputText value="{0,date,dd/MM/yy}"> 
                                                                    <apex:param value="{!opp.fecha}" /> 
                                                                </apex:outputText> 
                                                                
                                                            </td>
                                                            <td style="text-align:center">
                                                                
                                                                
                                                                <apex:outputField value="{!opp.opp.currency2__c}" />
                                                                
                                                                <apex:outputText rendered="{!opp.fcv = null}">0</apex:outputText>
                                                            </td>
                                                            <td style="text-align:center">
                                                                <apex:outputLink value="/{!opp.id}">{!$Label.certa_scp__ir_oportunidad}</apex:outputLink>
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </table>
                                                
                                            </div>

										<!-- ----------------------------------------------------------------------------- -->
 
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                
                                
                            </apex:pageBlockSection>

                        </apex:pageBlock>
                    </div>
                    
					<apex:actionFunction action="{!guardarHitos}" name="guardarHitos" rerender="hitosRelevantes"/>
                   
                    <!-- Hitos -->
                    <div id="div-hitos" class="tab-pane fade">
                        <apex:pageBlock title="" mode="maindetail" id="hitosRelevantes">
                            <apex:pageBlockSection title="{!$Label.certa_scp__hitos_relevantes}" columns="1">
                                
                                <div class="row">
                                    <div class="btn-group pull-right" role="group" aria-label="...">	    					
                                        <button style="margin-right: 25px;margin-bottom: 6px;" type="button" class="btn btn-default btn-sm" onclick="guardarHitos()">
                                            <span class="glyphicon glyphicon-floppy-disk icon-btn-left"></span>&nbsp;{!$Label.save}
                                        </button>
                                    </div>
                                </div>
                                
                                
                                <apex:outputText label="{!$Label.certa_scp__a_qu_evento_de_telef_nica_vas_a_invitar_al_cliente}">
                                    <apex:inputField value="{!fourPlanning.Evento_telefonica_cliente__c}"/>&nbsp;&nbsp;
                                    {!$Label.Fecha_del_Evento}&nbsp;
                                    <apex:inputField value="{!fourPlanning.Fecha_Evento__c}"/>
                                    
                                </apex:outputText> 
                                
                                <apex:outputText label="{!$Label.certa_scp__otros_hitos_relevantes}">     
                                </apex:outputText> 
                                
                                <apex:pageBlockSectionItem >
                                    <apex:outputPanel layout="none" >
                                        <table style="width: 60%;margin-left: 19%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                            <thead>
                                                <tr>
                                                    <th>
                                                        {!$Label.certa_scp__description}
                                                    </th>
                                                    <th style="width: 10%;padding-left: 0;text-align: center;">
                                                        {!$Label.certa_scp__fecha} 
                                                    </th>
                                                    <th style="padding-left : 0% !important;text-align: center;">
                                                        {!$Label.certa_scp__categoria}
                                                    </th>
                                                    <th>
                                                        
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <apex:variable var="c" value="{!0}"/>
                                                <apex:repeat value="{!hitos}" var="hito" id="number">
                                                    <tr>
                                                        <td id="elemento - {!c+1}">
                                                            <apex:variable var="c" value="{!c+1}"/>
                                                            <apex:outputText value="{!hito.Descripcion__c}"/>
                                                        </td>
                                                        <td>
                                                            <apex:outputText value="{0,date,dd/MM/yyyy}"> <apex:param value="{!hito.Fecha__c}" /> </apex:outputText>
                                                        </td>
                                                        <td >
                                                            <apex:outputField value="{!hito.Categoria__c}"/>
                                                        </td>
                                                        <td>
                                                            <apex:commandButton styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__delete}" reRender="hitosRelevantes" action="{!BorrarHito}">
                                                                <apex:param assignTo="{!hitoABorrarId}" name="delid" value="{!hito.id}"/>
                                                            </apex:commandButton>
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>  
                                    </apex:outputPanel>
                                </apex:pageBlockSectionItem>
                                
                                <apex:outputText >
                                    <button style="margin-left: 67%;" type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalHito">
                                        <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Nuevo_Hito_Relevante}
                                    </button>
                                    <br/>
                                </apex:outputText>                                
                                
                            </apex:pageBlockSection>
                        </apex:pageBlock>
                    </div>
                    
                    <apex:actionFunction action="{!guardarRetos}" name="guardarReto" rerender="cadaArea"/>
                    <!-- Retos -->
                    <div id="div-retos" class="tab-pane fade">
                        
                        <apex:pageBlock id="cadaArea" title="" mode="maindetail">
                            
                            
                            <apex:pageBlockSection id="seccionRetos" title="Retos y Oportunidades" columns="1">
                                
                                <div class="row">
                                    <div class="btn-group pull-right" role="group" aria-label="...">	    					
                                        <button style="margin-right: 25px;margin-bottom: 6px;" type="button" class="btn btn-default btn-sm" onclick="guardarReto()">
                                            <span class="glyphicon glyphicon-floppy-disk icon-btn-left"></span>&nbsp;{!$Label.save}
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="panel-heading" style="background-color: #d9edf2; height:50px; width:90%; margin-left:6%;">
                                    {!$Label.Creacion_nuevo_reto}: 
                                </div>
                                
                                
                                <div style = "width: 90%; margin-left:6%;" class="center-block alert alert-info" role="alert">
                                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                    {!$Label.Que_es_reto}
                                    <br/>
                                    {!$Label.Que_es_reto_negocio}
                                    <br/>
                                    {!$Label.Que_es_reto_gestion}
                                </div>
                                
                                
                                <!-- <apex:outputText style="width: 0%;padding-left: 25%; margin-left: -15%;" label="{!$Label.certa_scp__que_iniciativas_cliente}" /> -->
                                
                                <div class="panel-heading" style="background-color: #d9edf2; height:50px; width:90%; margin-left:6%;">
                                    {!$Label.Nuevo_Reto}
                                </div>
                                
                                <apex:inputField styleClass="inputTipo" onchange="prueba2();" value="{!retoAInsertar.Tipo_de_Reto__c}" />
                                
                                <!-- Tabla para crear Reto -->
                                
                                <apex:outputPanel styleClass="tabla1 ocultar" >
                                    
                                    <table style="width: 90%;margin-left: 6%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                        <thead>
                                            <tr>
                                                <th style= "font-weight: bold; color: #647687; width: 25%;padding-left: 0;text-align: center;">
                                                    {!$Label.Reto}
                                                </th>
                                                <th style="font-weight: bold; color: #647687; width: 25%;padding-left: 0;text-align: center;">
                                                    {!$Label.Solu}
                                                </th>
                                                <th style="font-weight: bold; color: #647687; width: 25%;padding-left: 0;text-align: center;">
                                                    {!$Label.Area}
                                                </th>
                                                <th style="font-weight: bold; color: #647687; width: 25%;padding-left: 0;text-align: center;">
                                                    {!$Label.Contacto}
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cual es el reto de tu cliente en el que debes trabajar en los proximos meses?">{!$Label.Nombre_del_Reto}</b></apex:outputText><br/>
                                                    <div class="requiredInput">
                                                        <div class="requiredBlock"></div>
                                                        <apex:inputField style="width: 100%;" value="{!retoAInsertar.Nombre_del_Reto__c}"/></div>
                                                </td>
                                                
                                                <td >
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué solucion de Telefonica da respuesta al reto de tu cliente?">Categoría</b></apex:outputText><br/>
                                                    <div class="requiredInput">
                                                        <div class="requiredBlock"></div>
                                                        <apex:inputField style="width: 100%;" value="{!solucionAInsertar2.Lista_de_Soluciones__c}"/></div>
                                                    <br/>
                                                    <div style="margin-top:-5%;">
                                                        <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__subcategoria}</b></apex:outputText><br/>
                                                        <apex:inputField style="width: 100%;" value="{!solucionAInsertar2.SubcategoriaSolucion__c}"/>
                                                    </div>
                                                </td>
                                                <td>
                                                    
                                                    <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__nombre_del_area}</b></apex:outputText><br/>
                                                    <div class="requiredInput">
                                                        <div class="requiredBlock"></div>
                                                        <apex:inputField style="width: 100%;" value="{!areaAInsertar.Titulo_Area__c}"/></div>
                                                    
                                                </td>
                                                <td >
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="Selecciona el contacto con el que vas a trabajar este reto">{!$Label.certa_scp__name}</b></apex:outputText><br/>
                                                    
                                                    <apex:inputField style="width:93%" value="{!contactoAInsertar2.ContactoDeReto__c}"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿En qué momento se encuentra este reto?">{!$Label.Etapa_del_Reto}</b></apex:outputText><br/>
                                                    <div class="requiredInput">
                                                        <div class="requiredBlock"></div>
                                                        <apex:inputField style="width: 100%;" value="{!retoAInsertar.Etapa_del_Reto__c}"/></div>
                                                </td>
                                                <td>
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Está disponible la solucion actualmente?">{!$Label.Disponibilidad}</b></apex:outputText><br/>
                                                    
                                                    <div class="requiredInput">
                                                        <div class="requiredBlock"></div>
                                                        <apex:inputField style="width:100%" value="{!solucionAInsertar2.Nivel_de_Desarrollo__c}"/></div>
                                                </td>
                                                <td>
                                                    
                                                    
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿En qué departamento de tu cliente vas a trabajar este reto?">{!$Label.Tipo_de_Area}</b></apex:outputText><br/>
                                                    <div class="requiredInput">
                                                        <div class="requiredBlock"></div>
                                                        <apex:inputField style="width:100%" value="{!areaAInsertar.Tipo_de_Area__c}"/></div>
                                                    
                                                    
                                                </td>
                                                <td >
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Que cargo ocupa en la organizacion del cliente?">{!$Label.certa_scp__cargo}</b></apex:outputText><br/>
                                                    
                                                    <apex:inputField styleClass="tipoDeContactoEnTabla" onchange="prueba();" style="width: 100%;" value="{!contactoAInsertar2.Tipo_de_Contacto__c}"/>
                                                    
                                                    <apex:outputPanel styleClass="campoDeContactoEnTabla ocultar ">
                                                        
                                                        
                                                        <table style="margin-top:2%;" >
                                                            <tbody>
                                                                <tr>
                                                                    <td  >
                                                                        <outputText><b  style="color: #1a3a54;">{!$Label.Nombre_del_Cargo}</b></outputText><br/>
                                                                        <apex:inputField style="width: 100%;" value="{!contactoAInsertar2.pruebaTexto__c}"/>
                                                                    </td>
                                                                    
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        
                                                    </apex:outputPanel>
                                                    
                                                </td>
                                            </tr>
                                            
                                            
                                            <tr>
                                                
                                                <td>
                                                    <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__fecha_estimada_de_cierre}</b></apex:outputText><br/>
                                                    <apex:inputField style="width: 64%;" value="{!retoAInsertar.Fecha_Compromiso__c}"/>
                                                </td>
                                                <td>
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Quien es nuestro principal competidor en esta solucion?">{!$Label.Competencia}</b></apex:outputText><br/>
                                                    
                                                    <apex:inputField style="width: 100%;" value="{!solucionAInsertar2.Competidor__c}"/>
                                                    
                                                </td>
                                                <td>
                                                    
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué grado de conocimiento tienes sobre el area?">{!$Label.Conocimiento}</b></apex:outputText><br/>
                                                    
                                                    <apex:inputField style="width:100%" value="{!areaAInsertar.Conocimiento_del_Area__c}"/>
                                                    
                                                </td>
                                                <td >
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cómo es tu relación con este contacto?">{!$Label.certa_scp__nivel_de_relaci_n}</b></apex:outputText><br/>
                                                    
                                                    <apex:inputField style="width:100%" value="{!contactoAInsertar2.Nivel_de_Relaci_n__c}"/>
                                                </td>
                                            </tr>
                                            
                                            
                                        </tbody>
                                    </table> 
                                    <br/>
                                    <button style="margin-left: 71%;" type="button" class="btn btn-default btn-sm" data-toggle="modal" onclick="InsertarReto();">
                                        <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Insertar_Reto}
                                    </button>
                                    <br/><br/>
                                    
                                    <apex:actionFunction action="{!insertarReto}" name="InsertarReto" rerender="msgPanel, cadaArea, retoRender, tablaModalRetos, porcentajeCuenta" oncomplete="resetCamposHito(); prueba2();" status="agregandoSolucion"/>
                                    
                                    
                                    
                                </apex:outputPanel>
                                
                                <!-- Tabla retos gestion -->
                                
                                <apex:outputPanel styleClass="tabla2 ocultar" >
                                    
                                    <table style="width: 60%;margin-left: 19%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                        
                                        <tbody>
                                            <tr>
                                                <td>
                                                    
                                                    <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cual es el reto de tu cliente en el que debes trabajar en los proximos meses?">{!$Label.Nombre_del_Reto}</b></apex:outputText><br/>
                                                    <div class="requiredInput">
                                                        <div class="requiredBlock"></div>
                                                        <apex:inputField style="width: 100%;" value="{!retoAInsertar2.Nombre_del_Reto__c}"/></div>
                                                </td>
                                                
                                                <td>
                                                    <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__categoria_del_reto}</b></apex:outputText><br/>
                                                    <apex:inputField styleClass="tipoDeCategoriaEnTabla" onchange="pruebaCategoria();" style="width: 64%;" value="{!retoAInsertar2.CategoriaRetoGestion__c}" />
                                                    
                                                    
                                                    <apex:outputPanel styleClass="campoDeCategoriaEnTabla ocultar ">
                                                        
                                                        
                                                        <table style="margin-top:2%;" >
                                                            <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <outputText><b  style="color: #1a3a54;">{!$Label.certa_scp__nombre_de_la_categoria}</b></outputText><br/>
                                                                        <apex:input style="width: 100%;" value="{!categoriaCustom}"/>
                                                                    </td>
                                                                    
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        
                                                    </apex:outputPanel>
                                                    
                                                    
                                                </td>
                                                
                                            </tr>
                                            
                                            
                                            
                                            <tr>
                                                
                                                <td>
                                                    <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__observacion}</b></apex:outputText><br/>
                                                    <apex:inputTextArea style="width:100%" value="{!retoAInsertar2.Nota__c}"/>
                                                </td>
                                                
                                                <td>
                                                    <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__fecha_estimada_de_cierre}</b></apex:outputText><br/>
                                                    <apex:inputField style="width: 64%;" value="{!retoAInsertar2.Fecha_Compromiso__c}"/>
                                                </td>
                                            </tr>
                                        </tbody>
                                        
                                        
                                    </table>
                                    
                                    <br/>
                                    <button style="margin-left: 71%;" type="button" class="btn btn-default btn-sm" data-toggle="modal" onclick="InsertarRetoCustom();">
                                        <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Insertar_Reto}
                                    </button>
                                    <br/><br/>
                                    
                                    <apex:actionFunction action="{!insertarRetoCustom}" name="InsertarRetoCustom" rerender="msgPanel, cadaArea, retoRender, tablaModalRetos" oncomplete="resetCamposHito(); prueba2();" status="agregandoSolucion"/>
                                </apex:outputPanel>
                                
                                
                                
                                <div class="panel-heading" style="background-color: #d9edf2; height:50px; width:90%; margin-left:6%;">
                                    {!$Label.certa_scp__retos_actuales}
                                </div>
                                
                                
                                <!-- Tabla de Retos -->
                                
                                <apex:pageBlockSectionItem >
                                    <apex:repeat value="{!listaWrappersRetos}" var="reto" id="number">
                                        <apex:outputPanel >
                                            <div style="margin-left: 25px; margin-bottom:-10px">
                                                <br/>
                                            </div>            
                                            <br/> 
                                            
                                            
                                            <div class="row" style="margin-left: 6%;">
                                                
                                                <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                    <div class="rTable">
                                                        <div class="rTableHeading2">
                                                            <div class="rTableHead tituloDeTabla">
                                                                
                                                                <apex:commandButton styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__eliminar_reto}" reRender="todo, cadaArea, tablaModalOportunidades, tablaModalRetos, porcentajeCuenta, porcentajeCuenta" action="{!borrarReto}">
                                                                    <apex:param assignTo="{!retoABorrarId}" name="delid" value="{!reto.reto.id}"/>
                                                                </apex:commandButton>
                                                                
                                                            </div>
                                                            
                                                        </div>
                                                        <div class="rTableHeading">
                                                            <div class="rTableHead tituloDeTabla">
                                                                {!$Label.certa_scp__reto}
                                                            </div>
                                                            
                                                        </div>
                                                        
                                                        <div class="rTableBody">
                                                            
                                                            <div class="rTableRow">
                                                                <div class="rTableCell">
                                                                    <div class="bordeTablaRetos">
                                                                        
                                                                        
                                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cuál es el reto de tu cliente en el que debes trabajar en los proximos meses?">{!$Label.Nombre_del_Reto}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.reto.Nombre_del_Reto__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField>
                                                                    </div>
                                                                    <div class="bordeTablaRetos">
                                                                        
                                                                        
                                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿En qué momento se encuentra este reto?">{!$Label.Etapa_del_Reto}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.reto.Etapa_del_Reto__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField>
                                                                        
                                                                        
                                                                        
                                                                    </div>
                                                                    <div style=" height: 82px;">
                                                                        
                                                                        
                                                                        <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__fecha_estimada_de_cierre}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.reto.Fecha_Compromiso__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField>
                                                                    </div>
                                                                </div>   
                                                                
                                                                
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                </apex:outputPanel>
                                                
                                                <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == 'Gestión'}">
                                                    
                                                    <apex:commandButton styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__eliminar_reto}" reRender="cadaArea, tablaModalOportunidades, todo, tablaModalRetos" action="{!borrarReto}">
                                                        <apex:param assignTo="{!retoABorrarId}" name="delid" value="{!reto.reto.id}"/>
                                                    </apex:commandButton>
                                                    
                                                    <br/> <br/>
                                                    
                                                    
                                                    <div class="rTable2">
                                                        
                                                        <div class="rTableHeading">
                                                            <div class="rTableHead tituloDeTabla">
                                                                {!$Label.certa_scp__reto} (de Gestión)
                                                            </div>
                                                            
                                                        </div>
                                                        
                                                        <div class="rTableBody">
                                                            
                                                            <div class="rTableRow">
                                                                <div class="rTableCell">
                                                                    <div class="bordeTablaRetos">
                                                                        
                                                                        
                                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cuál es el reto de tu cliente en el que debes trabajar en los proximos meses?">{!$Label.Nombre_del_Reto}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.reto.Nombre_del_Reto__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField>
                                                                    </div>
                                                                    <div>
                                                                        
                                                                        <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__categoria_del_reto}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.reto.CategoriaRetoGestion__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField> 
                                                                        
                                                                        
                                                                    </div>
                                                                    
                                                                </div>   
                                                                
                                                                
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    <div class="rTable2">
                                                        
                                                        
                                                        <div class="rTableHeading">
                                                            <div class="rTableHead tituloDeTabla">
                                                                &nbsp;
                                                            </div>
                                                            
                                                        </div> 
                                                        
                                                        
                                                        <div class="rTableBody">
                                                            
                                                            <div class="rTableRow">
                                                                <div class="rTableCell">
                                                                    
                                                                    <div class="bordeTablaRetos">
                                                                        
                                                                        
                                                                        <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__fecha_estimada_de_cierre}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.reto.Fecha_Compromiso__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField>
                                                                    </div>
                                                                    
                                                                    <div >
                                                                        
                                                                        
                                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="Notas u observaciones del reto">{!$Label.Observacion}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.reto.Nota__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField>
                                                                        
                                                                        
                                                                        
                                                                    </div>
                                                                </div>   
                                                                
                                                                
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                    
                                                    
                                                </apex:outputpanel>
                                                
                                                
                                                
                                                <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                    <div class="rTableSoluciones ">
                                                        <div class="rTableHeading2">
                                                            <div class="rTableHead tituloDeTabla">
                                                                
                                                                <button type="button" onclick="setearValorIdDelRetoActual('{!reto.reto.id}')" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalTecnologiaReto">
                                                                    <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Agregar_Solucion}
                                                                </button>
                                                            </div>
                                                            
                                                        </div>
                                                        <div class="rTableHeading">
                                                            <div class="rTableHead tituloDeTabla">
                                                                
                                                                {!$Label.Solu}
                                                            </div>
                                                            
                                                        </div>
                                                        
                                                        <div class="rTableBody">
                                                            <apex:repeat value="{!reto.soluciones}" var="solucion" id="gas3">    
                                                                <div class="rTableRow">
                                                                    <div class="rTableCell">
                                                                        <div class="bordeTablaRetos">
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué solucion de Telefonica da respuesta al reto de tu cliente?">Categoría</b></apex:outputText>
                                                                            <apex:outputField rendered="{!solucion.Otra_Solucion__c != null}" value="{!solucion.Otra_Solucion__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                            <apex:outputField rendered="{!solucion.Otra_Solucion__c == null}" value="{!solucion.Lista_de_Soluciones__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>  
                                                                        
                                                                        <div class="bordeTablaRetos">  
                                                                            <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__subcategoria}</b></apex:outputText>
                                                                            <apex:outputField value="{!solucion.SubcategoriaSolucion__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                            
                                                                            
                                                                            
                                                                            
                                                                        </div>
                                                                        <div class="bordeTablaRetos">
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Está disponible la solucion actualmente?">{!$Label.Disponibilidad}</b></apex:outputText>
                                                                            <apex:outputField value="{!solucion.Nivel_de_Desarrollo__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>
                                                                        <div >
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Quien es nuestro principal competidor en esta solucion?">{!$Label.Competencia}</b></apex:outputText>
                                                                            <apex:outputField value="{!solucion.Competidor__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>  
                                                                        </div>
                                                                        
                                                                    </div>
                                                                </div>
                                                            </apex:repeat>
                                                        </div>
                                                    </div>
                                                </apex:outputPanel>
                                                
                                                <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                    <div class="rTable">
                                                        <div class="rTableHeading2" style="height:38px;">
                                                            <div class="rTableHead tituloDeTabla" style="height:38px;">
                                                                
                                                                &nbsp;
                                                                
                                                            </div>
                                                            
                                                        </div>
                                                        <div class="rTableHeading">
                                                            <div class="rTableHead tituloDeTabla">
                                                                
                                                                
                                                                {!$Label.Area}
                                                            </div>
                                                            
                                                        </div>
                                                        
                                                        <div class="rTableBody">
                                                            <div class="rTableRow">
                                                                <div class="rTableCell">
                                                                    <div class="bordeTablaRetos"> 
                                                                        <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__nombre_del_area}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.areaDelReto.Titulo_Area__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField>
                                                                    </div>
                                                                    <div class="bordeTablaRetos">
                                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿En qué departamento de tu cliente vas a trabajar este reto?">{!$Label.Tipo_de_Area}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.areaDelReto.Tipo_de_Area__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField>
                                                                    </div>
                                                                    <div style=" height: 82px;">
                                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué grado de conocimiento tienes sobre el area?">{!$Label.Conocimiento}</b></apex:outputText>
                                                                        <apex:outputField value="{!reto.areaDelReto.Conocimiento_del_Area__c}">
                                                                            <apex:inlineEditSupport event="ondblclick"/>
                                                                        </apex:outputField> 
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </apex:outputPanel>
                                                
                                                <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                    <div class="rTableContactos">
                                                        <div class="rTableHeading2">
                                                            <div class="rTableHead tituloDeTabla">
                                                                
                                                                <button   type="button" onclick="setearValorIdDelRetoActual('{!reto.reto.id}')" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalContactoReto">
                                                                    <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Agregar_Contacto}
                                                                </button>
                                                            </div>
                                                            
                                                        </div>
                                                        <div class="rTableHeading">
                                                            <div class="rTableHead tituloDeTabla">
                                                                
                                                                {!$Label.Contacto}
                                                            </div>
                                                            
                                                        </div>
                                                        
                                                        <div class="rTableBody">
                                                            <apex:repeat value="{!reto.contactos}" var="contacto" id="gas2">   
                                                                <div class="rTableRow">
                                                                    <div class="rTableCell">
                                                                        <div class="bordeTablaRetos">
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="Selecciona el contacto con el que vas a trabajar este reto">{!$Label.certa_scp__name}</b></apex:outputText>
                                                                            <apex:outputField value="{!contacto.ContactoDeReto__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>
                                                                        <div class="bordeTablaRetos">
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué cargo ocupa en la organización del cliente?">{!$Label.certa_scp__cargo}</b></apex:outputText>
                                                                            <apex:outputField rendered="{!contacto.Otro_contacto_del_cliente__c != null}" value="{!contacto.Otro_contacto_del_cliente__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                            <apex:outputField rendered="{!contacto.Otro_contacto_del_cliente__c == null}" value="{!contacto.Tipo_de_Contacto__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>
                                                                        <div style=" height: 82px;"> 
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cómo es tu relación con este contacto?">{!$Label.certa_scp__nivel_de_relaci_n}</b></apex:outputText>
                                                                            <apex:outputField value="{!contacto.Nivel_de_Relaci_n__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField> 
                                                                        </div>
                                                                        
                                                                    </div>
                                                                </div>
                                                            </apex:repeat>
                                                        </div>  
                                                        
                                                    </div>
                                                </apex:outputPanel>
                                            </div>
                                            
                                            <br/><br/>   
                                            
                                            <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                
                                                <div style="text-align: start; margin-left:6%; background-color:#1a3a54; width:90.5%; height:43px; font-size:14px;" class="panel-heading tituloDeTabla" >
                                                    
                                                    
                                                    {!$Label.Oportunidades_Vinculadas_Reto}
                                                    
                                                    
                                                    <button style="margin-left: 28%; margin-top:-1%;     height: 32px;  font-size: 14px;   background-color: bisque;" type="button" onclick="setearValorIdDelRetoActual('{!reto.reto.id}')" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalOportunidadReto">
                                                        <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Vincular_una_Oportunidad}
                                                    </button>                                                                        
                                                    
                                                    <apex:outputLink style="background-color: bisque; margin-top:-1%;"  styleClass="btn btn btn-default btn-sm" value="/006/e?CF00NG000000FF44Q={!reto.reto.id}&CF00NG000000FF44Q_lkid={!reto.reto.id}" target="_blank">
                                                        <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp; {!$Label.Crear_Nueva_Oportunidad}
                                                    </apex:outputLink>
                                                </div>
                                                
                                                
                                                
                                                <br/> 
                                                
                                                <apex:outputPanel rendered="{!reto.reto.oportunidades__r.size > 0}">
                                                    <table style="width: 50%;margin-left: 25%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                                        <thead>
                                                            <tr>
                                                                <th style="width: 30%;padding-left: 0%;text-align: center; font-weight: bold; color: #647687;">
                                                                    {!$Label.Nombre_Oportunidad}
                                                                </th>
                                                                <th style="width:13%;padding-left:0;text-align: center; font-weight: bold; color: #647687;">
                                                                    {!$Label.Ir}
                                                                </th>
                                                                <th style="width:1%;padding-left:0;text-aling: center;">
                                                                    
                                                                    
                                                                    
                                                                    
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <apex:repeat value="{!reto.reto.oportunidades__r}" var="oportunidad">
                                                                <tr>
                                                                    <td style="text-align:center">
                                                                        <apex:outputText value="{!oportunidad.name}"/>
                                                                    </td>
                                                                    <td>
                                                                        <apex:outputLink style="padding: 4px;text-decoration: none;" value="/{!oportunidad.id}" target="_blank">{!$Label.certa_scp__ir_oportunidad}</apex:outputLink>
                                                                    </td>
                                                                    
                                                                    
                                                                    <td>
                                                                        <apex:outputPanel rendered="{!oportunidad.CloseDate != null}">
                                                                            <apex:outputPanel rendered="{!oportunidad.CloseDate > TODAY()}" >
                                                                                <apex:commandButton style="float:left" styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__desvincular_oportunidad} " oncomplete="renderizaModal" reRender="cadaArea, tablaOpp, tablaModalOportunidades, msgPanel" action="{!desvincularOportunidad}" status="borrandoSolucion">
                                                                                    
                                                                                    <apex:param assignTo="{!OportunidadADesvincularId}" name="OportunidadDesvincular" value="{!oportunidad.id}"/>
                                                                                    
                                                                                </apex:commandButton>
                                                                            </apex:outputPanel>
                                                                        </apex:outputPanel>
                                                                        
                                                                        <div>
                                                                            &nbsp;
                                                                            <apex:actionStatus id="borrandoSolucion">
                                                                                <apex:facet name="start">
                                                                                    <img src="/img/loading.gif"/>
                                                                                </apex:facet>
                                                                            </apex:actionStatus>
                                                                        </div>
                                                                        
                                                                        
                                                                    </td>
                                                                    
                                                                    
                                                                </tr>
                                                                
                                                                
                                                                
                                                                
                                                            </apex:repeat>
                                                            
                                                        </tbody>
                                                    </table>
                                                </apex:outputPanel>
                                                <br/>
                                            </apex:outputPanel>
                                            
                                            
                                            <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                         						
                                                
                                                <div style="text-align: start; margin-left:6%; background-color:#1a3a54; width:90.5%; height:43px; font-size:14px;" class="panel-heading tituloDeTabla" >
                                                    
                                                    {!$Label.Generar_plan_de_accion}
                                                    
                                                    <apex:commandButton value="Generar Plan de Acción" style="color:#5c7995; margin-left: 25.5%; margin-top:-1%; height: 32px;  font-size: 14px;background-color: bisque;" onclick="setearValorIdDelRetoActual('{!reto.reto.id}')"  action="{!crearPlanDeAccion}" reRender="pageContent" oncomplete="clickEnSeccion5();" />
                                                </div> 
                                                
                                            </apex:outputPanel>
                                            
                                            <br/>
                                            
                                            
                                            <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                
                                                <div  >
                                                    
                                                    <div style=" text-align: start; margin-left:6%; background-color:#1a3a54; width:90.5%; height:43px; font-size:14px;" class="panel-heading tituloDeTabla" >
                                                        
                                                        {!$Label.Quieres_Pedir_Ayuda}
                                                        
                                                    </div>
                                                    
                                                    <br/>
                                                    
                                                    
                                                    <apex:outputPanel id="pedirAyudaAVentas">
                                                        
                                                        <apex:outputPanel rendered="{!reto.reto.Pidio_ayuda_a_ventas__c}">
                                                            <br/>
                                                            <div style = "width: 50%; margin-left: 20%;" class="alert alert-success" role="alert">
                                                                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                                                                {!$Label.Solicitado_Ayuda_Venta}
                                                            </div>
                                                            
                                                            <apex:commandButton style="float:left;margin-left: 20%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__cancelar_ayuda}" reRender="cadaArea, pedirAyudaAVentas" action="{!cancelarApoyoAVentaEspecialista}">
                                                                <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                            </apex:commandButton>
                                                        </apex:outputPanel>
                                                        
                                                        <apex:outputPanel rendered="{! !reto.reto.Pidio_ayuda_a_ventas__c}">
                                                            
                                                            <apex:commandButton style="float:left;margin-left: 22%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__apoyo1}" reRender="cadaArea, pedirAyudaAVentas" action="{!pedirApoyoAVentas}">
                                                                <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                            </apex:commandButton>
                                                            
                                                            <apex:commandButton disabled="true" style="margin-left: 19%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__apoyo2}" reRender="cadaArea, pedirAyudaAVentas" action="{!pedirApoyoAVentas}">
                                                                <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                            </apex:commandButton>
                                                            
                                                            <br/><br/>
                                                            
                                                            <apex:commandButton disabled="true" style="float:left;margin-left: 20%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__apoyo3}" reRender="cadaArea, pedirAyudaAVentas" action="{!pedirApoyoAVentas}">
                                                                <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                            </apex:commandButton>
                                                            
                                                            <apex:commandButton disabled="true" style="margin-left: 10%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__apoyo4}" reRender="cadaArea, pedirAyudaAVentas" action="{!pedirApoyoAVentas}">
                                                                <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                            </apex:commandButton>
                                                        </apex:outputPanel>
                                                        
                                                    </apex:outputPanel>
                                                </div>
                                                <br/> <br/>
                                            </apex:outputPanel>
                                            
                                            <hr style="width:95%;"/>
                                        </apex:outputPanel>
                                        
                                    </apex:repeat>
                                    
                                </apex:pageBlockSectionItem>
                                
                                
                            </apex:pageBlockSection><!--col-lg-3  --> </apex:pageBlock>
                        
                    </div>
                    <apex:actionFunction action="{!renderizar}" reRender="pageContent" name="renderizar" />
                    <apex:actionFunction action="{!SaveChanges}" name="SaveChanges" rerender="pageContent" status="renderMeStatus" oncomplete="createDataTableSerch()"/>
                    <apex:actionFunction action="{!ExportToExcel}" name="exportToExcel"/>
                    <apex:actionFunction action="{!MergeTasks}" name="MergeTasks" rerender="pageContent" status="renderMeStatus"/>
                    <apex:actionFunction action="{!DeleteTasks}" name="DeleteTasks" rerender="pageContent" status="renderMeStatus"/>
                    <apex:actionFunction action="{!irACuestionario}" name="irACuestionario" status="renderMeStatus"/>
                    <apex:actionStatus id="renderMeStatus" onstart="ajaxshow()" onstop="showInput(); ajaxstop();"/>
                    
                    <apex:input label="" value="{!idDelRetoDelContacto}" style="display:none" styleClass="setearIdDelRetoDelContacto" />
                    
                    <apex:input label="" value="{!idDeSolucion}" style="display:none" styleClass="setearIdDeSolucion" />
                    
                    <!-- Tareas -->
                    <div id="div-Tareas" class="tab-pane fade">
                        <apex:pageBlock id="tareas" title="" mode="maindetail">
                            <apex:pageBlockSection id="pageContent" title="Plan de Acción" columns="1">
                                
                                
                                <div class="row">
                                    <div class="btn-group pull-right" role="group" aria-label="...">	    					
                                        <button type="button" class="btn btn-default btn-sm" onclick="SaveChanges()">
                                            <span class="glyphicon glyphicon-floppy-disk icon-btn-left"></span>&nbsp;{!$Label.save}
                                        </button>
                                        <button type="button" class="btn btn-default btn-sm" onclick="MergeTasks()">
                                            <span class="glyphicon glyphicon-link icon-btn-left"></span>&nbsp;{!$Label.Merge_tasks}
                                        </button>
                                        <button type="button" class="btn btn-default btn-sm" onclick="DeleteTasks()">
                                            <span class="glyphicon glyphicon-trash icon-btn-left"></span>&nbsp;{!$Label.Delete_tasks}
                                        </button>
                                        <button  type="button" class="btn btn-default btn-sm" onclick="irACuestionario()">
                                            <span class="glyphicon glyphicon-arrow-left icon-btn-left"></span>&nbsp;{!$Label.Cuestionario}
                                        </button>
                                    </div>
                                </div>
                                
                                
                                
                                <div class="ajaxloader" style="display: none; background-color:white; padding:5px; text-align:center; width:232px; border: 1px solid grey; margin-left: auto; margin-right: auto; border-radius: 5px;">
                                    <img src="{!$Resource.AjaxLoader}"/><br/>Loading...
                                </div>
                                
                                <br/>
                                <div style = "width: 98%;" class="center-block alert alert-info" role="alert">
                                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                    {!$Label.tutorial_accountMasterPlan}
                                </div>
                                
                                <apex:outputPanel styleClass="tabla1" >
                                    <table id="mainTable" style="width: 98%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                        <thead>
                                            <tr>
                                                <th style="min-width:16px;width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;"></th>
                                                <th style="width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;">
                                                    <apex:outputText value="{!$Label.certa_scp__created_date}"/>
                                                </th>
                                                <th style="width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;">
                                                    <apex:outputText value="{!$Label.certa_scp__subject}"/>
                                                </th>
                                                <th style="width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;">{!$Label.certa_scp__tarea}</th>
                                                <th style="width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;">{!$Label.certa_scp__url_attachment}</th>
                                                <th style="width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;">
                                                    <apex:outputText value="{!$Label.certa_scp__due_date}"/>
                                                </th>
                                                <th style="width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;">
                                                    <apex:outputText value="{!$Label.certa_scp__completed}"/>
                                                </th>
                                                <th style="width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;">
                                                    <apex:outputText value="{!$Label.certa_scp__task_status}"/>
                                                </th>
                                                <th style="width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;">
                                                    <apex:outputText value="{!$Label.certa_scp__priority}"/>                       
                                                </th>
                                                <th style="width: 0%;text-align: center; padding-left: 0%;font-size: 14px;font-weight: bold;">
                                                    <apex:outputText value="{!$Label.certa_scp__assigned_to}"/>                       
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>           
                                            <apex:repeat value="{!tasks}" var="item">
                                                <tr>
                                                    <td>                    
                                                        <apex:inputCheckbox value="{!item.selected}"/>
                                                    </td>
                                                    <td>                    
                                                        <apex:outputField value="{!item.task.CreatedDate}">
                                                        </apex:outputField>
                                                    </td>
                                                    <td> 
                                                        <apex:outputField value="{!item.task.Subject}">
                                                            <apex:inlineEditSupport event="ondblclick" changedStyleClass="myBoldClass" resetFunction="resetInlineEdit" rendered="{!canEdit}"/>
                                                        </apex:outputField>
                                                    </td>
                                                    <td>                    
                                                        <apex:outputField value="{!item.task.Description}">
                                                            <apex:inlineEditSupport event="ondblclick" changedStyleClass="myBoldClass" resetFunction="resetInlineEdit" rendered="{!canEdit}"/>
                                                        </apex:outputField>
                                                    </td>
                                                    <td>    
                                                        <apex:outputLink styleClass="AssignedToName" rendered="{!IF(item.task.URL__c != null,true,false)}" value="{!item.task.URL__c}" target="_blank">{!$Label.certa_scp__link}</apex:outputLink>
                                                        <apex:inputField styleClass="AssignedToId" style="display:none;" value="{!item.task.URL__c}" rendered="{!canEdit}"/>
                                                    </td>
                                                    <td class="">                    
                                                        <apex:outputField value="{!item.task.ActivityDate}">
                                                            <apex:inlineEditSupport event="ondblclick" changedStyleClass="myBoldClass" resetFunction="resetInlineEdit" rendered="{!canEdit}"/>
                                                        </apex:outputField>
                                                    </td>
                                                    <td>             
                                                        <apex:outputField value="{!item.task.End_Date__c}">
                                                        </apex:outputField>
                                                    </td>
                                                    <td>                    
                                                        <apex:outputField value="{!item.task.Status}">
                                                            <apex:inlineEditSupport event="ondblclick" changedStyleClass="myBoldClass" resetFunction="resetInlineEdit" rendered="{!canEdit}"/>
                                                        </apex:outputField>
                                                    </td>
                                                    <td>                    
                                                        <apex:outputField value="{!item.task.Priority}">
                                                            <apex:inlineEditSupport event="ondblclick" changedStyleClass="myBoldClass" resetFunction="resetInlineEdit" rendered="{!canEdit}"/>
                                                        </apex:outputField>
                                                    </td>
                                                    <td>                    
                                                        <apex:outputText styleClass="AssignedToName" value="{!item.task.Owner.name}"/>
                                                        <apex:inputField required="false" styleClass="AssignedToId" style="display:none;" value="{!item.task.Ownerid}" rendered="{!canEdit}"/>
                                                    </td>
                                                </tr>
                                            </apex:repeat>
                                        </tbody>
                                    </table>
                                </apex:outputPanel>
                                <apex:outputText rendered="{!canEdit}"><div style="clear:both; text-align:center; font-style: italic;">{!$Label.certa_scp__double_click}</div></apex:outputText>

                            </apex:pageBlockSection>
                        </apex:pageBlock>
                    </div>
                    
                    <!-- modal - Nuevo Hito Relevante -->
                    <div class="modal fade" id="myModalHito" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog" style="z-index:9999;">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">{!$Label.Nuevo_Hito_Relevante}</h4>
                                </div>
                                <div class="modal-body">
                                    <table style="border-collapse: separate;border-spacing: 5px;">
                                        <tr>
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__description}" />:
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito " style="width: 100%;" value="{!hitoAInsertar.Descripcion__c}"/><br/> 
                                            </td>
                                        </tr>
                                        
                                        <tr>
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__categoria}" />:
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito nombreCategoria" value="{!hitoAInsertar.Categoria__c}"/><br/>
                                                
                                                
                                                <apex:outputPanel styleClass="campoCategoria ocultar ">
                                                    
                                                    
                                                    <table style="margin-top:2%;" >
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    <apex:outputText value="{!$Label.certa_scp__nombre_de_la_categoria}" />:&nbsp;
                                                                </td>
                                                                <td class="data2Col">
                                                                    <apex:inputField value="{!hitoAInsertar.Name}"/> 
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    
                                                </apex:outputPanel>
                                                
                                                
                                            </td>
                                        </tr>
                                        
                                        <tr>
                                            <td style="text-align: right;">
                                                <apex:outputText style="width: 100%;" value="{!$Label.certa_scp__fecha}" />:
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito" id="datepicker" showDatePicker="true"  value="{!hitoAInsertar.Fecha__c}"/><br/>
                                            </td>
                                        </tr>
                                        
                                    </table>		        
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="InsertHito()">{!$Label.add_buttom}</button>
                                    <apex:actionFunction action="{!InsertHito}" name="InsertHito" rerender="hitosRelevantes" oncomplete="resetCamposHito()" />
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- modal - vincular reto a solucion tabla -->
                    <div class="modal fade" id="myModalSoluciones" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog" style="z-index:9999;">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">{!$Label.Agregar_Vincular_Reto}</h4>
                                </div>
                                <div class="modal-body">
                                    
                                    <apex:outputPanel id="tablaModalRetos">
                                        <div class="modal-body">
                                            
                                            <table style="border-collapse: separate;border-spacing: 5px;width:80%;margin-left: 10%;">
                                                <thead>
                                                    <tr>
                                                        <th style="padding-left:0% !important; text-align: center;">{!$Label.certa_scp__reto}</th>
                                                        <th style="padding-left:0% !important; text-align: center;">{!$Label.certa_scp__vincular}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    
                                                    
                                                    <apex:repeat value="{!listaWrappersRetos}" var="reto">
                                                        <tr>
                                                            <td style="text-align: center;">
                                                                {!reto.reto.Nombre_del_Reto__c}
                                                            </td>
                                                            <td style="text-align: center;">
                                                                <apex:inputCheckBox styleClass="resetHito" value="{!reto.vincular}" />                                                            
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                    
                                                </tbody>                                          
                                            </table>
                                        </div>
                                    </apex:outputPanel>
                                    
                                    
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="VincularRetoASolucion();">{!$Label.add_buttom}</button>
                                    <apex:actionFunction action="{!vincularRetoASolucion}" rerender="todo, tablaModalRetos" name="VincularRetoASolucion" />
                                </div>
                            </div>
                        </div>
                    </div> 
                    
                    <!-- modal - Nuevo contacto de reto -->
                    <div class="modal fade" id="myModalContactoReto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog" style="z-index:9999;">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">{!$Label.Agregar_Contacto}</h4>
                                </div>
                                <div class="modal-body">
                                    <table style="border-collapse: separate;border-spacing: 5px;width:80%">
                                        <tr>
                                            <td style="text-align: right;" >
                                                <apex:outputText value="{!$Label.certa_scp__cargo}" />:
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito tipoDeContacto" style="width: 100%;" value="{!contactoAInsertar.Tipo_de_Contacto__c}"/><br/> 
                                                
                                                
                                                <apex:outputPanel styleClass="campoContacto ocultar ">
                                                    <table style="margin-top:2%;"> <tr>
                                                        <td style="text-align: right;" >
                                                            <apex:outputText value="{!$Label.certa_scp__nombre_del_cargo}:" />&nbsp;
                                                        </td>
                                                        <td>
                                                            <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!contactoAInsertar.pruebaTexto__c}"/><br/> 
                                                        </td>
                                                        </tr>
                                                    </table>
                                                </apex:outputPanel>
                                            </td>
                                        </tr>
                                        
                                        
                                        <tr class="trOtroContacto" style="display:none;">
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__otro_contacto}" />:
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!contactoAInsertar.Otro_contacto_del_cliente__c}"/><br/> 
                                            </td>
                                        </tr>
                                        
                                        <tr>
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__nivel_de_relaci_n}" />:
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito" style="width:100%" value="{!contactoAInsertar.Nivel_de_Relaci_n__c}"/><br/>
                                            </td>
                                        </tr>
                                        
                                        <tr>
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__name}" />:
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito" style="width:100%" value="{!contactoAInsertar.ContactoDeReto__c}"/><br/>
                                            </td>
                                        </tr>
                                        
                                        
                                        
                                        
                                        
                                    </table>		        
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="InsertarContacto();">{!$Label.add_buttom}</button>
                                    <apex:actionFunction action="{!insertarContacto}" name="InsertarContacto" rerender="cadaArea, myModalContactoReto" oncomplete="resetCamposHito()" status="agregandoContacto"/>
                                </div>
                            </div>
                        </div>
                    </div> 
                    
                    <!-- modal - vincular una oportunidad existente a un reto -->
                    <div class="modal fade" id="myModalOportunidadReto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog" style="z-index:9999;">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">{!$Label.Vincular_una_Oportunidad}</h4>
                                </div>
                                
                                <apex:outputPanel id="tablaModalOportunidades">
                                    <div class="modal-body">
                                        
                                        <table style="border-collapse: separate;border-spacing: 5px;width:80%;margin-left: 10%;">
                                            <thead>
                                                <tr>
                                                    <th style="padding-left:0% !important; text-align: center;">{!$Label.certa_scp__nombre_oportunidad}</th>
                                                    <th style="padding-left:0% !important; text-align: center;">{!$Label.certa_scp__vincular}</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                
                                                
                                                <apex:repeat value="{!wppOportunidades}" var="wppOpp">
                                                    <tr>
                                                        <td style="text-align: center;">
                                                            {!wppOpp.oportunidad.name}
                                                        </td>
                                                        <td style="text-align: center;">
                                                            <apex:inputCheckBox value="{!wppOpp.vincular}" />                                                            
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                                
                                            </tbody>                                          
                                        </table>
                                    </div>
                                </apex:outputPanel>
                                
                                
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="setearOportunidades();">{!$Label.add_buttom}</button>
                                    <apex:actionFunction action="{!setearOportunidadesAContacto}" name="setearOportunidades" rerender="cadaArea, tablaOpp, tablaModalOportunidades"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- modal - Nueva solucion / tecnologia del reto -->
                    <div class="modal fade" id="myModalTecnologiaReto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                        <div class="modal-dialog" style="z-index:9999;">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title" id="myModalLabel">{!$Label.Agregar_Solucion}</h4>
                                </div>
                                <div class="modal-body">
                                    <table style="border-collapse: separate;border-spacing: 5px;width:80%">
                                        <tr>
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__categoria_de_solucion}:" />
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!solucionAInsertar.Lista_de_Soluciones__c}"/><br/> 
                                            </td>
                                        </tr>
                                        
                                        <tr>
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__subcategoria}:" />
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!solucionAInsertar.SubcategoriaSolucion__c}"/><br/> 
                                            </td>
                                        </tr>
                                        
                                        <tr class="trOtraSolucion" style="display:none;">
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__otra_solucion}" />:
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!solucionAInsertar.Otra_Solucion__c}"/><br/> 
                                            </td>
                                        </tr>
                                        
                                        <tr>
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__disponibilidad}:" />
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito" style="width:100%" value="{!solucionAInsertar.Nivel_de_Desarrollo__c}"/><br/>
                                            </td>
                                        </tr>
                                        
                                        <tr>
                                            <td style="text-align: right;">
                                                <apex:outputText value="{!$Label.certa_scp__competencia}:" />
                                            </td>
                                            <td>
                                                <apex:inputField styleClass="resetHito" style="width:100%" value="{!solucionAInsertar.Competidor__c}"/><br/>
                                            </td>
                                        </tr>
                                        
                                    </table>		        
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                    <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="InsertarSolucion();">{!$Label.add_buttom}</button>
                                    <apex:actionFunction action="{!insertarSolucion}" name="InsertarSolucion" rerender="cadaArea" oncomplete="resetCamposHito()" status="agregandoSolucion"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
            
        </div>
        </apex:form>
    </apex:outputpanel>
    
    <c:FastTask page="Planificación" account="{!idCuenta}"></c:FastTask>
    <chatter:feed entityId="{!idCuenta}" />
</apex:page>