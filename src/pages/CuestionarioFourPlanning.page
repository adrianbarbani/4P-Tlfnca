<apex:page controller="FourPlanningController" tabStyle="Strategic_Client_Plan__tab" sidebar="false" showHeader="true" rendered="{!mostrar}" docType="html-5.0" action="{!insertar4Planning}">
    

    <c:SCPMenu ></c:SCPMenu> 

    
    <apex:includeScript value="{!$Resource.JQueryUI}"  />
    <apex:includeScript value="{!$Resource.JQueryUITouch}" />
    <apex:includeScript value="{!$Resource.DataTable}"  />
    
    <script>
    jQuery.extend( jQuery.fn.dataTableExt.oSort, {
        "date-uk-pre": function ( a ) {
            if (a == null || a == "") {
                return 0;
            }
            var ukDatea = a.split('/');
            return (ukDatea[2] + ukDatea[1] + ukDatea[0]) * 1;
        },
        
        "date-uk-asc": function ( a, b ) {
            return ((a < b) ? -1 : ((a > b) ? 1 : 0));
        },
        
        "date-uk-desc": function ( a, b ) {
            return ((a < b) ? 1 : ((a > b) ? -1 : 0));
        }
    } );
    

    jQuery.extend( jQuery.fn.dataTableExt.oSort, {
        "currency-pre": function ( a ) {
			
            console.log(a);
            if(a.includes("EUR") && !a.includes("(EUR")){
                a = (a==="-") ? 0 : a.slice(a.indexOf("EUR")+4, a.indexOf("</span>"));
                a = a.replace(/\./g, "");
                a = a.slice(0, a.indexOf(","));
                console.log("euros");
                console.log(a);
                return a;
            }else{
                
                if(a.includes("(EUR")){
                    a = (a==="-") ? 0 : a.slice(a.indexOf("(EUR")+4, a.indexOf(")"));
                    a = a.replace(/\./g, "");
                    a = a.slice(0, a.indexOf(","));
                    console.log("ars");
                    console.log(a);
                    return a;
                }else{
                    a = (a==="-") ? 0 : a.slice(a.indexOf("$")+1, a.indexOf("</span>"));
                    a = a.replace(/\./g, "");
                    return a;
                }
            }
        },
        
        
        "currency-asc": function ( a, b ) {
            return a - b;
        },
        
        "currency-desc": function ( a, b ) {
            return b - a;
        }
    } );

    </script>
    
    <style>
        .pbSubheader h3 {
        display: inline;
        margin-left: 5px;
        font-weight: bold;
        }
        
        .dataTables_filter {
        text-align: right !important;
        }
        
        .separator {
        width: 100%;
        margin-top: 20px;
        }
        
        #big-deal-tab-content th {
        width : 55%;
        text-align : left;
        padding-left : 20%;
        font-size: 14px;
        font-weight: normal;
        }
        
        
        #big-deal-tab-content th label {
        font-size: 14px;
        font-weight: normal;
        }
        
        .icon-sectors {
        width: 90px;            
        }
        
        .icon-sectors-botonera {
        width: 38px;            
        }
        
        #ul-menu-img2 {
        width: 100% ! important;
        border-bottom: 0px solid #cfd0d2;
        
        }
        
        #ul-menu-img2 li {
        text-align: center;
        width: 14.2%;
        height: 185px;
        min-height: 190px;
        max-height: 190px;
        text-transform: none ! important;
        }
        
        #ul-menu-img2 li:hover, #ul-menu-img2 li.active {
        border: 2px solid #539fc6;
        
        }
        
        #ul-menu-img2 li a, #ul-menu-img2 li a:hover {
        border: 0px solid #539fc6 ! important;
        
        }
        
        
        
        
        
        #ul-menu-img {
        width: 100% ! important;
        border-bottom: 0px solid #cfd0d2;
        }
        
        #ul-menu-img li {
        text-align: center;
        width: 16.6%;
        height: 185px;
        min-height: 190px;
        max-height: 190px;
        text-transform: none ! important;
        }
        
        #ul-menu-img li:hover, #ul-menu-img li.active {
        border: 2px solid #539fc6;            
        }
        
        #ul-menu-img li a, #ul-menu-img li a:hover {
        border: 0px solid #539fc6 ! important;
        }
        
        
        .ocultar{
        display:none;
        }
        
        .bordesDeTabla{
        border-bottom: 1px solid #ececec;
        border-bottom-width: 1px;
        border-bottom-style: solid;
        }
        
        .tituloLabel{
        text-align: left;
        padding-left: 15% !important;
        }
        
        .esCero{
        background-color: black !important;
        }
        
        .menorDeSetenta{
        background-color:#F1E100 !important;
        }
        
        .menorDeVeinte{
        background-color:#FF0009 !important;
        }
        .menorDeCincuenta{
        background-color:#FF0009 !important;
        }
        
        .completo{
        background-color:#009813 !important;
        }
        
        .casiCompleto{
        background-color:#55C500 !important;
        }
        
        #custom-handle {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #custom-handle-nosotros {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #custom-handle-competencia {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #custom-handle-porcentajeFijo {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #custom-handle-porcentajeVariable {
        width: 3em;
        height: 1.6em;
        top: 50%;
        margin-top: -.8em;
        text-align: center;
        line-height: 1.6em;
        }
        
        #circle {
        width: 20px;
        height: 20px;
        -webkit-border-radius: 25px;
        -moz-border-radius: 25px;
        border-radius: 25px;
        float:left;
        }
        
        .datePicker {
        z-index: 9999;/*Changed this css property which was 100 prior*/
        position: absolute;
        display: none;
        top: 0;
        left: 0;
        width: 17em;
        background-color: #b7c6b2;
        border-bottom: 1px solid #000;
        border-right: 1px solid #000;
        margin: 0;
        padding: 1px 1px 2px 2px;
        }
        
        .modal-dialog{
        overflow-y: initial !important
        }
        .modal-body{
        height: 250px;
        overflow-y: auto;
        }
        
        
        
        
        
        
        .rTable {
        display: table;
        width: 21%;
        float: left;
        }
        
        .rTable2 {
        display: table;
        width: 47%;
        float: left;
        }
        
        .rTableSoluciones {
        display: table;
        width: 31%;
        float: left;
        }
        .rTableContactos {
        display: table;
        width: 22%;
        
        }
        .rTableRow {
        display: table-row;
        }
        .rTableHeading {
        display: table-header-group;
        background-color: #1a3a54;
        
        }
        
        .rTableHeading2 {
        display: table-header-group;
        background-color: white;
        min-height: 43px;
        
        }
        
        
        .rTableCell {
        background-color: #e2e2f5;
        font-size:14px;
        }
        .rTableCell, .rTableHead {
        display: table-cell;
        padding: 3px 10px;
        border: 1px solid white;
        }
        .rTableHeading {
        display: table-header-group;
        background-color: #1a3a54;
        font-weight: bold;
        }
        .rTableFoot {
        display: table-footer-group;
        font-weight: bold;
        background-color: #ddd;
        }
        .rTableBody {
        display: table-row-group;
        } 
        
        .tituloDeTabla{
        
        color: white;
        font-size: 14px;
        text-align: center;
        height:32px;
        }
        
        .tablaUser {
        /*background-color: #4eb1cb;*/
        background-color: #C1D6D6;
        }
        
        .bordeTablaRetos{
        border-bottom: 2px solid white;
        }
        
        .thVencimiento{
        width: 0 !important; 
        text-align: center !important;
        padding-left: 0 !important; 
        font-size: 14px; 
        font-weight: 900 !important;
        background-color: #1a3a54;
        color: white;
        border-color: white;
        cursor:pointer;
        }
        
    </style>
    
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
    <link rel="stylesheet" href="/resources/demos/style.css"/>
    <apex:includeScript value="{!$Resource.Ploty}"/>
    
    <!--
<apex:includeScript value="{!$Resource.jquery112}" />

-->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    
    
    
    
    <script>
        
        $j = jq213; //jQuery.noConflict();
    $j2 = jq161;
    
    $j(document).ready(function() {
        initializeToggles();
        iniciarDataTable();        
        $j( "#tabsNuevos" ).tab();
        
        
        //Sliders ========================
        
        
        
        var handle = $( "#custom-handle" );
        $( "#porcentajeFacturacion" ).slider({
            range: "max",
            min: 0,
            max: 100,
            value: {!fourPlanning.facturacion_cliente_garantizada__c},
            create: function() {
                handle.text( $( this ).slider( "value" ) );
            },
            slide: function( event, ui ) {
                $( ".porcentajeFacturacion" ).val( ui.value );
                handle.text( ui.value+'%' );
                verPorcentajeFijoYVariable();
            }
        });
        
        $( ".porcentajeFacturacion" ).val( $( "#porcentajeFacturacion" ).slider( "value" ) );
        
        
        
        
        
        
        
        
        
        
        
        //=====================================================================        
        
        
        $j("#" + GetURLParameter("section")).click();
        
        siEstaEnNoDejoVerLaSeccion();
        
        $j(".mostrarCuestionario").change(function(){
            
            siEstaEnNoDejoVerLaSeccion();
            
        }); 
        
        
        $j(".tipoDeContacto").change(function(){
            console.log($j(".tipoDeContacto").val());
            funcion2();
        });
        
        function funcion2(){
            if($j(".tipoDeContacto").val() === 'Otro'){
                $j('.campoContacto').removeClass('ocultar');
            }else{
                $j('.campoContacto').addClass('ocultar');
            }            
        }
        
        
        
        verOtro();
        verPorcentajeFijoYVariable();
        siEstaEnSiSeVeLaFlota();              
        
        $j('.guardar').on('click',function(){
            SaveChanges();
        });
        
        $j(".nivelDeContacto").change(function(){
            if($j(this).val() === 'Otros'){
                $j(".otroNivel").fadeIn();
            }else{
                $j(".otroNivel").fadeOut();
            }
        });
        
        
        $j(".porcentajeFacturacion").change(function(){
            console.log('dentro de cambiar');
            if($j(this).val() > 0){
                $j(".especificarPorcentaje").fadeIn();
            }else{
                $j(".especificarPorcentaje").fadeOut();
            }
        });
        
        
        function iniciarDataTable(){
            
            $j2('#mainOppsTable').dataTable({
                "bPaginate": false,        
                "bInfo": false,
                "aoColumns": [
                    null,
                    null,
                    { "sType": "date-uk" },
                    { "sType": "currency" },
                    null
                ],                
                "oLanguage": {
                "sSearch": "<span>Buscar:</span>",
                "sEmptyTable": "<span>No hay oportunidades cargadas</span>",
                "sZeroRecords": "No hay oportunidades que coincidan con el criterio de busqueda",
                //search
            },
                                            "language": {
                                            "sSearch": "Buscar",
                                            "search": "{!$Label.Buscar} ",
                                            "sEmptyTable": "No hay oportunidades cargadas",
                                            "zeroRecords": "No hay oportunidades que coincidan con el criterio de busqueda"
                                            }
                                            });
            
        }
        
        $j(".disponeDeAutomotor").change(function(){
            siEstaEnSiSeVeLaFlota();
        });
        
        $j('#myModalHito').on('shown.bs.modal', function () {
            $j('body').animate({ scrollTop: 0 }, 400);
        });
        
        function siEstaEnNoDejoVerLaSeccion(){
            if($j(".mostrarCuestionario").val() === 'No'){
                $j(".cuestionarioOculto").removeClass('ocultar');    
            }else{
                $j(".cuestionarioOculto").addClass('ocultar');
            }
        }
        
        function siEstaEnSiSeVeLaFlota(){
            console.log($j(".disponeDeAutomotor").val());
            if($j(".disponeDeAutomotor").val() === 'Si'){
                $j('.cuestionarioFlota').removeClass('ocultar');
            }else{
                $j('.cuestionarioFlota').addClass('ocultar');
            }
        }
        
        
        
        $j(".nombreIniciativa").change(function(){
            funcion1();
        });
        
        
        function funcion1(){
            console.log($j(".nombreIniciativa").val());
            if($j(".nombreIniciativa").val() === 'Otro'){
                $j('.campoIniciativa').removeClass('ocultar');
            }else{
                $j('.campoIniciativa').addClass('ocultar');
            }            
        }
        
        
        
        $j(".nombreCategoria").change(function(){
            funcion4();
        });
        
        function funcion4(){
            console.log($j(".nombreCategoria").val());
            if($j(".nombreCategoria").val() === 'Otro'){
                $j('.campoCategoria').removeClass('ocultar');
            }else{
                $j('.campoCategoria').addClass('ocultar');
            }            
        }
        
        $j(".tipoDeContactoEnTabla").click(function(){
            console.log($j(".tipoDeContactoEnTabla").val());
            funcionTabla();
        });
        
        function funcionTabla(){
            console.log($j(".tipoDeContactoEnTabla").val());
            if($j(".tipoDeContactoEnTabla").val() === 'Otro'){
                $j('.campoDeContactoEnTabla').removeClass('ocultar');
            }else{
                $j('.campoDeContactoEnTabla').addClass('ocultar');
            }            
        }
        
        
        
        
        $j(".celdaContenedoraDeActitud").tooltip({ 
            bodyHandler: function() { 
                return $j($j(this).children(".info")).html(); 
            }, 
            showURL: false 
        });
        
        var smallcell = $j(".celdaContenedoraDeActitud").outerWidth();
        
        
        
        $j(".paises").change(function(){
            siEstaEnSiSeVePregunta();
        });
        
        
        function siEstaEnSiSeVePregunta(){
            console.log($j(".paises").val());
            if($j(".paises").val() === 'Si'){
                $j('.cuestionarioPaises').removeClass('ocultar');
            }else{
                $j('.cuestionarioPaises').addClass('ocultar');
            }            
        }
        
        renderizarPagina();
    });
    
    
    
    function prueba(){
        console.log($j(".tipoDeContactoEnTabla").val());
        if($j(".tipoDeContactoEnTabla").val() === 'Otro'){
            $j('.campoDeContactoEnTabla').removeClass('ocultar');
        }else{
            $j('.campoDeContactoEnTabla').addClass('ocultar');
        }            
    }
    
    
    
    
    function prueba2(){
        console.log($j(".inputTipo").val());
        if($j(".inputTipo").val() === 'Gestión'){
            $j('.tabla2').removeClass('ocultar');
            $j('.tabla1').addClass('ocultar');
        }else{
            $j('.tabla2').addClass('ocultar');
            $j('.tabla1').removeClass('ocultar');
        } 
        
        if($j(".inputTipo").val() === ''){
            $j('.tabla2').addClass('ocultar');
            $j('.tabla1').addClass('ocultar');
        }
    }
    
    
    
    
    
    
    $j(window).bind('beforeunload', function(){
        return 'saksdk';
    });
    
    function resetCamposHito(){
        
        
        $j('.resetHito').each(function() {
            $j(this).val("");    
        });
        
        $j('.resetReto').each(function() {
            $j(this).val("");    
        });
        
        
        $j('.nosotrosInput').each(function() {
            $j(this).val("");    
        });
        
        $j('.competenciaInput').each(function() {
            $j(this).val("");    
        });
    }
    
    function verOtro(){
        if($j(".nivelDeContacto").val() === 'Otros'){
            $j(".otroNivel").fadeIn();
        }else{
            $j(".otroNivel").fadeOut();
        }
    }
    
    function verPorcentajeFijoYVariable(){
        if($j(".porcentajeFacturacion").val() > 0){
            $j(".especificarPorcentaje").fadeIn();
        }else{
            $j(".especificarPorcentaje").fadeOut();
        }
        
    }
    
    function resetCamposIniciativa(){
        
        $j('.resetIniciativa').each(function() {
            $j(this).val("");    
        });
    }
    
    
    
    function GetURLParameter(sParam) {
        
        var sPageURL = window.location.search.substring(1);
        var sURLVariables = sPageURL.split('&');
        
        for (var i = 0; i < sURLVariables.length; i++) {
            var sParameterName = sURLVariables[i].split('=');
            if (sParameterName[0] == sParam) {
                return sParameterName[1];
            }
        }
    }
    
    function ajaxshow () {
        $j(".ajaxloader").show();
    }
    function ajaxstop () {
        $j(".ajaxloader").hide();
    }
    
    function initializeToggles () {
        var toggle = $j("[id$=reach-defined-checkbox]");
        toggle.click(function () {
            toggleRowClass("reach-file-upload", this.checked);
            toggleRow("reach-file-valoration", this.checked);
        });
        toggleRowClass("reach-file-upload", toggle.is(':checked'));
        toggleRow("reach-file-valoration", toggle.is(':checked'));
        //---------------------------------------------------------------------
        toggle = $j("[id$=reach-similar-projects-exp]");
        toggle.click(function () {
            toggleRow("reach-similar-projects-exp-detail", 
                      $j(this).find('option:selected').val() === "Si");
        });
        toggleRow("reach-similar-projects-exp-detail", toggle.find('option:selected').val() === "Si");
        
        //---------------------------------------------------------------------
        toggle = $j("[id$=reach-technical-checkbox]");
        toggle.click(function () {
            //toggleRow("reach-technical-text", this.checked);
            toggleRowClass("reach-technical-text", this.checked);
            toggleRow("reach-technical-valoration", this.checked);
        });
        //toggleRow("reach-technical-text", toggle.is(':checked'));
        toggleRowClass("reach-technical-text", toggle.is(':checked'));
        toggleRow("reach-technical-valoration", toggle.is(':checked'));
        //---------------------------------------------------------------------
        toggle = $j("[id$=reach-third-party-required-checkbox]");
        toggle.click(function () {
            toggleRow("reach-third-party-amount", this.checked);
        });
        toggleRow("reach-third-party-amount", toggle.is(':checked'));
        //---------------------------------------------------------------------
        toggle = $j("[id$=reach-hire-checkbox]");
        toggle.click(function () {
            toggleRow("reach-hire-amount", this.checked);
        });
        toggleRow("reach-hire-amount", toggle.is(':checked'));
        //---------------------------------------------------------------------
        toggle = $j("[id$=team-fte-not-present]");
        var toggleB = $j("[id$=team-fte-third-party]");
        var toggleFunction = function () {
            toggleRow("team-fte-detail", 
                      ($j("[id$=team-fte-not-present]").find('option:selected').val() !== "" && 
                       $j("[id$=team-fte-not-present]").find('option:selected').val() !== "0") ||
                      ($j("[id$=team-fte-third-party]").find('option:selected').val() !== "" && 
                       $j("[id$=team-fte-third-party]").find('option:selected').val() !== "0"));
        }
        toggle.click(toggleFunction);
        toggleB.click(toggleFunction);
        toggleFunction();
        //---------------------------------------------------------------------
        toggle = $j("[id$=risk-project-SLA-checkbox]");
        toggle.click(function () {
            toggleRowClass("risk-project-SLA-detail", this.checked);
            toggleRow("risk-project-SLA-valoration", this.checked);
        });
        toggleRowClass("risk-project-SLA-detail", toggle.is(':checked'));
        toggleRow("risk-project-SLA-valoration", toggle.is(':checked'));
    }
    
    function toggleRow(id, condition) {
        //the closest("tr") obtain the element that is generated as 
        //part of the pageBlockSection that contains both the title and
        //the input field
        if(condition) {
            $j("[id$=" + id + "]").closest("tr").show("fast");
        }
        else {
            $j("[id$=" + id + "]").closest("tr").hide("fast");
        }
    }
    
    function toggleRowClass(aClass, condition) {
        //the closest("tr") obtain the element that is generated as 
        //part of the pageBlockSection that contains both the title and
        //the input field
        if(condition) {
            $j("." + aClass).closest("tr").show("fast");
        }
        else {
            $j("." + aClass).closest("tr").hide("fast");
        }
    }
    
    function fillInitiative() {
        $j("#spanIniciative input").val($j("#textIniciative").val());
        $j("#textIniciative").val("");
    }
    
    
    function setearValorIdDelRetoActual(id){
        $j(".setearIdDelRetoDelContacto").val(id);
    }
    
    function setearValorIdDeSolucionActual(id){
        $j(".setearIdDeSolucion").val(id);
    }
    
    function twistSectionInsideARepeat(twisty, sectionId) {
        var parentDiv = twisty;
        while (parentDiv.tagName != 'DIV') { parentDiv = parentDiv.parentNode; }
        var div = parentDiv.nextSibling; 
        var elemWasOn = false; 
        if (div.style.display != 'none') { 
            div.style.display = 'none'; 
            twisty.className ='showListButton';
            twisty.alt = twisty.title = 'Mostrar sección - '+twisty.name;
            elemWasOn = true; 
        } else {
            div.style.display = 'block'; 
            twisty.className = 'hideListButton';
            twisty.alt = twisty.title = 'Ocultar sección - '+twisty.name;
        } 
        return !elemWasOn;
    }
    
    function botonSi () {
        $j( "#detail-reach" ).click();
        $j('body').animate({ scrollTop: 127 }, 400);
    }
    
    function probandoRender(){
        $j("[data-toggle='tab']").toggle('destroy')                 
        $j("[data-toggle='tab']").toggle('create');    
        
    }
    
    
    function pruebaCategoria(){
        console.log($j(".tipoDeCategoriaEnTabla").val());
        if($j(".tipoDeCategoriaEnTabla").val() === 'Otro'){
            $j('.campoDeCategoriaEnTabla').removeClass('ocultar');
        }else{
            $j('.campoDeCategoriaEnTabla').addClass('ocultar');
        }            
    }
    
    
    
    function cambiarColor(id){
        
        var picklist = $j("."+id);
        
        console.log(picklist.val());
        
        if(picklist.val() == 'Oportunidades Ganadas'){
            $j("#"+id).css('background-color','#337ab7');
        }
        
        if(picklist.val() == 'Oportunidades en Funnel'){
            $j("#"+id).css('background-color','green');
        }
        
        if(picklist.val() == 'Lineas de trabajo Priorizadas'){
            $j("#"+id).css('background-color','orange');
        }
        if(picklist.val() == 'Lineas a Explorar'){
            $j("#"+id).css('background-color','grey');
        }
        if(picklist.val() == 'Lineas que no Aplican en el Cliente'){
            $j("#"+id).css('background-color','red');
        }
        if(picklist.val() == ''){
            $j("#"+id).css('background-color','black');
        }
        
    }
    
    
    
    </script>
    
    <apex:outputpanel styleClass="container-fluid bootstrap-sf1" id="pageContent">
        
        <div class="panel panel-default">
            <div class="panel-heading" style="height: 129px;">
                <h2 class="panel-title">
                    <span style="float:left;">
                        {!$Label.certa_scp__cuestionario}
                    </span>
                </h2>
                
                
                <div class="row paddingRight">
                    <div class="btn-group pull-right" role="group" >
                        
                        <apex:outputPanel id="buttonPanel">
                            <div class="btn-group pull-right" role="group" aria-label="...">
                                
                                <button type="button" class="btn btn-default btn-sm" onclick="irAInicio()">
                                    <!--<apex:image style="height:35px;" url="{!URLFOR($Resource.icono4Planning)}" styleClass="icon-sectors-botonera"/>-->
                                    <span class="glyphicon glyphicon-home"></span>&nbsp; 4Planning
                                </button>
                                
                                <button type="button" class="btn btn-default btn-sm" onclick="irAPlanDeAccion()">
                                    <!--<apex:image url="{!URLFOR($Resource.iconoHitos)}" styleClass="icon-sectors-botonera"/>-->
                                    <span class="glyphicon glyphicon-calendar icon-btn-left"></span>&nbsp;{!$Label.Hitos}
                                </button> 
                                
                                
                                <button type="button" class="btn btn-default btn-sm" onclick="irADesarrolloCuenta()">
                                    <!--<apex:image url="{!URLFOR($Resource.Iconos, '256/flow-market-icon.png')}" styleClass="icon-sectors-botonera"/>-->
                                    <span class="glyphicon glyphicon-stats"></span>&nbsp;{!$Label.Coeficiente_Cuenta}
                                </button> 
                                
                                <button type="button" class="btn btn-default btn-sm" onclick="irAEjesDeTrabajo()">
                                    <!--<apex:image url="{!URLFOR($Resource.iconoRetos)}" styleClass="icon-sectors-botonera"/>-->
                                    <span class="glyphicon glyphicon-list"></span>&nbsp;{!$Label.Retos}
                                </button>  
                                
                                <button type="button" class="btn btn-default btn-sm" onclick="irAForYou()">
                                    <!--<apex:image style="height:35px;" url="{!URLFOR($Resource.iconoForYou)}" styleClass="icon-sectors-botonera"/>-->
                                    <span class="glyphicon glyphicon-gift"></span>&nbsp;4You
                                </button> 
                                
                            </div>
                        </apex:outputPanel>  
                        
                    </div>
                    <div class="btn-group pull-right" style="position: absolute;right: 25px;margin-top: 60px;">
                        
                        <button style="margin-top:-14%;float:left;" type="button" class="btn btn-default btn-sm" onclick="SaveChanges()">
                            <!--<apex:image url="{!URLFOR($Resource.grabar)}" styleClass="icon-sectors-botonera"/>-->
                            <span class="glyphicon glyphicon-floppy-disk icon-btn-left"></span>&nbsp;{!$Label.Guardar_Datos} 
                            
                        </button>  
                        
                        <apex:actionStatus id="loadingSave">
                            <apex:facet name="start">
                                <img src="/img/loading.gif"/>
                            </apex:facet>
                        </apex:actionStatus>                        
                    </div>
                    
                </div>
                
                <!-- porcentaje completo -->
                
                <apex:outputPanel id="porcentajeCuenta">    
                    <span style="float: left;font-weight: bold;font-size: 70%; margin-top:-0.5%">{!$Label.Cuestionario_completo_al} {!porcentaje}%</span>
                    <br/>
                    
                    <div  class="row col-md-6" style="width: 25%; margin-top:-1%">
                        
                        <div class="progress">
                            <div class="progress-bar {!IF(porcentaje == 0, 'esCero','')} {!IF(porcentaje < 20, 'menorDeVeinte','')} {!IF(porcentaje > 79, 'completo','')} {!IF(porcentaje < 80 && porcentaje > 59, 'casiCompleto','')} {!IF(porcentaje < 60 && porcentaje > 49, 'menorDeSetenta','')} {!IF(porcentaje < 49 && porcentaje > 19, 'menorDeCincuenta','')}" role="progressbar" aria-valuenow="{!porcentaje}" aria-valuemin="0" aria-valuemax="100" style="width: {!porcentaje}%;min-width: 11%;">
                                {!porcentaje}%
                            </div>
                        </div>
                        
                        <!--
<div class="col-md-1 {!IF(porcentaje < 20, 'menorDeVeinte','')}" style="background-color: #F6898D;border: .1em solid #ccc;height: 24px;width: 12%;"></div>
<div class="col-md-1 {!IF(porcentaje < 40 && porcentaje > 19, 'menorDeCincuenta','')}" style="background-color: #FDC175;border: .1em solid #ccc;height: 24px;width: 12%;"></div>
<div class="col-md-1 {!IF(porcentaje < 60 && porcentaje > 39, 'menorDeSetenta','')}" style="background-color: #FFF9A1;border: .1em solid #ccc;height: 24px;width: 12%;"></div>
<div class="col-md-1 {!IF(porcentaje < 80 && porcentaje > 59, 'casiCompleto','')}" style="background-color: #ECF9B3;border: .1em solid #ccc;height: 24px;width: 12%;"></div>
<div class="col-md-1 {!IF(porcentaje > 79, 'completo','')}" style="background-color: #86DA73;border: .1em solid #ccc;height: 24px;width: 12%;"></div>
-->                    
                    </div>
                    
                    
                    
                    
                    <!--<apex:form >
<div class="btn-group pull-right">

<span style="float: left;font-weight: bold;font-size: 70%;">4Planning PRO &nbsp;
<apex:inputCheckbox value="{!fourPlanning.X4_Planning_Pro__c}" onchange="guardarCheckbox();"/></span>
</div>
</apex:form>-->
                    
                </apex:outputPanel>
                
                
            </div>
            
            <div class="panel-body">
                
                <apex:form >                    
                    <apex:actionFunction action="{!guardarFourPlanningCompleto}" name="SaveChanges" oncomplete="calcularPorcentajeCuestionarioCompleto()" reRender="cadaArea, msgPanel, porcentajeCuenta, presupuesto, todo, tablaModalRetos, contactosAfinidad" status="loadingSave"/>
                    <apex:actionFunction action="{!generarAreas}" name="generarAreas" reRender="cadaArea" status="loadingSend"/>
                    <apex:actionFunction action="{!irAPlanDeAccion}" name="irAPlanDeAccion"/>
                    <apex:actionFunction action="{!calcularPorcentajeCuestionarioCompleto}" name="calcularPorcentajeCuestionarioCompleto" reRender="porcentajeCuenta"/>
                    <apex:actionFunction action="{!irADesarrolloCuenta}" name="irADesarrolloCuenta"/>
                    <apex:actionFunction action="{!irAEjesDeTrabajo}" name="irAEjesDeTrabajo"/>
                    <apex:actionFunction action="{!irAForYou}" name="irAForYou"/>
                    <apex:actionFunction action="{!irAInicio}" name="irAInicio"/>
                    <apex:actionFunction action="{!renderizarPagina}" name="renderizarPagina" reRender="cadaArea"/>
                    <apex:actionFunction action="{!guardoPro}" name="guardarCheckbox" oncomplete="SaveChanges();" reRender="botones" status="loadingSave"  /> 
                    <apex:actionFunction action="{!cambioTodosADonuts}" name="cambioTodosADonuts" rerender="presupuesto" />
                    <apex:actionFunction action="{!cambioTodosABarras}" name="cambioTodosABarras" rerender="presupuesto" />
                    
                    <apex:actionFunction action="{!goToOrg}" name="goToOrg"/> 
                    
                    <apex:actionFunction action="{!cambioTotalesADonuts}" name="cambioTotalesADonuts" rerender="presupuesto" />
                    <apex:actionFunction action="{!cambioTotalesABarras}" name="cambioTotalesABarras" rerender="presupuesto" />
                    
                    <apex:actionFunction name="renderizaModal" rerender="tablaModalOportunidades" action="renderizarPagina"/>
                    
                    <apex:actionFunction name="renderizaModalRetos" rerender="tablaModalRetos" action="renderizarPagina"/>
                    
                    <apex:actionFunction action="{!guardarFourPlanningCompleto}" name="laprueba" reRender="preguntas, tablaIniciativasDeNegocio, hitosRelevantes, contacto, contactosAfinidad" status="loadingSave"/>
                    
                    <apex:actionFunction name="idDelRetoAlQuePerteneceElContacto" reRender="cadaArea" >
                        <apex:param name="idDelRetoDelContacto" value="" assignTo="{!idDelRetoDelContacto}" />
                    </apex:actionFunction>
                    
                    <apex:actionFunction action="crearEventoUtil" name="eventoUtil" reRender="panelBotonBackShop, panelRespuestaBackShop" >
                        <apex:param name="idDelEvento" value="" assignTo="{!idDelEvento}" />
                    </apex:actionFunction>
                    
                    <apex:actionFunction action="crearEventoInutil" name="eventoInutil" reRender="panelBotonBackShop, panelRespuestaBackShop" >
                        <apex:param name="idDelEvento" value="" assignTo="{!idDelEvento}" />
                    </apex:actionFunction>
                    
                    <apex:input label="" value="{!idDelRetoDelContacto}" style="display:none" styleClass="setearIdDelRetoDelContacto" />
                    
                    <apex:input label="" value="{!idDeSolucion}" style="display:none" styleClass="setearIdDeSolucion" />
                    <br/>
                    
                    <apex:outputPanel id="botones">
                        <!--    botones seleccion de zona 
Los <a> tenian un class="guardar"
<apex:outputPanel rendered="{! !fourplanning.Certa_SCP__X4_Planning_Pro__c}" >
<ul id="ul-menu-img" class="nav nav-tabs">
<li class="active"><a id="general-info" data-toggle="tab" href="#div-general-info"><apex:image url="{!URLFOR($Resource.Iconos, '256/file-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__descripcion_del_cliente}</h2></li>
<li><a id="economical-info" data-toggle="tab" href="#div-economical-info"><apex:image url="{!URLFOR($Resource.Iconos, '256/find-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__conocimiento_de_la_actividad}</h2></li>
<li><a id="offer-presale" data-toggle="tab" href="#div-Team-offer-presale"><apex:image url="{!URLFOR($Resource.Iconos, '256/person-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__relacion}</h2></li>
<li><a id="offer-schedule" data-toggle="tab" href="#div-offer-schedule"><apex:image url="{!URLFOR($Resource.Iconos, '256/name-card-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__contacto_ejecutivo}</h2></li>
<li><a id="detail-reach" data-toggle="tab" href="#div-detail-reach"><apex:image url="{!URLFOR($Resource.Iconos, '256/keys-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__elaboracion_de_planes_por_area}</h2></li>
<li><a id="risks" data-toggle="tab" href="#div-Risks"><apex:image url="{!URLFOR($Resource.Iconos, '256/calendar-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__hitos_relevantes}</h2></li>
<!--<li><a id="backshop" data-toggle="tab" href="#div-backshop"><apex:image url="{!URLFOR($Resource.Iconos, '256/global-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>BackShop</h2></li>


</ul>
</apex:outputPanel>-->   
                        
                        <apex:outputPanel > <!--rendered="{!fourplanning.X4_Planning_Pro__c}"-->
                            <ul id="ul-menu-img2" class="nav nav-tabs">
                                <li class="active"><a id="general-info" data-toggle="tab" href="#div-general-info"><apex:image url="{!URLFOR($Resource.Iconos, '256/file-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__descripcion_del_cliente}</h2></li>
                                <li><a id="economical-info" data-toggle="tab" href="#div-economical-info"><apex:image url="{!URLFOR($Resource.Iconos, '256/find-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__conocimiento_de_la_actividad}</h2></li>
                                <li><a id="offer-presale" data-toggle="tab" href="#div-Team-offer-presale"><apex:image url="{!URLFOR($Resource.Iconos, '256/person-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__relacion}</h2></li>
                                <li><a id="offer-schedule" data-toggle="tab" href="#div-offer-schedule"><apex:image url="{!URLFOR($Resource.Iconos, '256/name-card-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>{!$Label.certa_scp__contacto_ejecutivo}</h2></li>
                                
                                <li><a id="presupuesto" data-toggle="tab" href="#div-presupuesto"><apex:image url="{!URLFOR($Resource.Iconos, '256/system-analysis-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>Cobertura del Portfolio y Vencimientos</h2></li>
                                <li><a id="detail-reach" data-toggle="tab" href="#div-detail-reach"><apex:image url="{!URLFOR($Resource.Iconos, '256/keys-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>Retos y Oportunidades</h2></li>
                                <li><a id="risks" data-toggle="tab" href="#div-Risks"><apex:image url="{!URLFOR($Resource.Iconos, '256/calendar-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>Otros Hitos Relevantes</h2></li>
                                <!--<li><a id="backshop" data-toggle="tab" href="#div-backshop"><apex:image url="{!URLFOR($Resource.Iconos, '256/global-icon.png')}" styleClass="icon-sectors"/><br/></a><h2>BackShop</h2></li>-->
                                
                                
                            </ul>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <apex:outputPanel id="msgPanel">
                        <br/>
                        <apex:messages style="width: 98%;" styleClass="center-block alert alert-danger" />
                        
                    </apex:outputPanel>   
                    
                    
                    <br/>
                    <div class="tab-content" id="big-deal-tab-content">
                        
                        <!-- Descripcion del cliente ----------------------------------------------------------- -->
                        <div id="div-general-info" class="tab-pane fade active in">
                            <apex:pageBlock id="preguntas" title="" mode="maindetail">
                                <apex:pageBlockSection title="{!$Label.certa_scp__descripcion_del_cliente}" columns="1">
                                    
                                    <apex:inputField value="{!cuenta.Industry}" label="Sector"/>                                              
                                    
                                    <apex:inputField value="{!cuenta.Micro_Industry__c}" label="Sub sector" onchange="laprueba()" />
                                    
                                    
                                    <!-- Publico y privado -->
                                    
                                    <apex:outputText rendered="{! !esSectorPublico}" label="{!$Label.certa_scp__cu_les_son_los_ingresos_anuales_del_cliente_de_su_negocio_no_de_nuestro_nego} {!monedaDeLaCuenta}">
                                        
                                        
                                        <apex:outputPanel id="panel1">
                                            <apex:outputPanel rendered="{! !fourPlanning.No_informa_dato__c}">
                                                <apex:inputField value="{!fourPlanning.Facturacion__c}"/>&nbsp; &nbsp; 
                                            </apex:outputPanel>
                                            
                                            <apex:outputPanel rendered="{!fourPlanning.No_informa_dato__c}">
                                                <apex:inputField html-disabled="true" value="{!fourPlanning.Facturacion__c}"/>&nbsp; &nbsp; 
                                            </apex:outputPanel>
                                            
                                        </apex:outputPanel>
                                        
                                        <apex:inputCheckbox value="{!fourPlanning.No_informa_dato__c}" onchange="cambiarCheckbox();"/>&nbsp;&nbsp;
                                        {!$Label.No_informa_dato}
                                        
                                        <apex:actionFunction action="{!pruebaCheckbox}" name="cambiarCheckbox" reRender="preguntas, panel1" />
                                    </apex:outputText>
                                    
                                    
                                    
                                    
                                    
                                    <!--<apex:inputField rendered="{! !esSectorPublico}" value="{!fourPlanning.Facturacion__c}" label="{!$Label.certa_scp__cu_les_son_los_ingresos_anuales_del_cliente_de_su_negocio_no_de_nuestro_nego} {!monedaDeLaCuenta}" />-->
                                    
                                    
                                    <apex:outputText rendered="{!esSectorPublico}" label="{!$Label.certa_scp__presupuesto_anual_cliente} {!monedaDeLaCuenta}">
                                        
                                        <apex:outputPanel id="panel2">
                                            <apex:outputPanel rendered="{! !fourPlanning.No_informa_dato__c}">
                                                <apex:inputField value="{!fourPlanning.Qu_presupuesto_anual_maneja_tu_cliente__c}"/>&nbsp; &nbsp; 
                                                <!--<apex:inputText value="{!fourPlanning.Qu_presupuesto_anual_maneja_tu_cliente__c}" disabled="{!fourPlanning.No_informa_dato__c}"/> &nbsp; &nbsp;-->
                                            </apex:outputPanel>
                                            
                                            <apex:outputPanel rendered="{!fourPlanning.No_informa_dato__c}">
                                                <apex:inputField html-disabled="true" value="{!fourPlanning.Qu_presupuesto_anual_maneja_tu_cliente__c}"/>&nbsp; &nbsp; 
                                            </apex:outputPanel>
                                            
                                        </apex:outputPanel>
                                        
                                        <apex:inputCheckbox value="{!fourPlanning.No_informa_dato__c}" onchange="cambiarCheckbox2();"/>&nbsp;&nbsp;
                                        {!$Label.No_informa_dato}
                                        <apex:actionFunction action="{!pruebaCheckbox}" name="cambiarCheckbox2" reRender="preguntas, panel2" />
                                    </apex:outputText>
                                    
                                    <!-- <apex:inputField rendered="{!esSectorPublico}" value="{!fourPlanning.Qu_presupuesto_anual_maneja_tu_cliente__c}" label="{!$Label.certa_scp__presupuesto_anual_cliente} {!monedaDeLaCuenta}" />-->
                                    
                                    
                                    <!-- Publico y privado -->
                                    <!--<apex:inputField rendered="{! !esSectorPublico}" value="{!fourPlanning.Rango_Empleados__c}" label="{!$Label.certa_scp__cantidad_empleados}" />

<apex:inputField rendered="{!esSectorPublico}" value="{!fourPlanning.Rango_Empleados__c}" label="{!$Label.certa_scp__numero_empleados_organismo}" />-->
                                    
                                    
                                    
                                    <apex:outputText rendered="{! !esSectorPublico}" label="{!$Label.certa_scp__cantidad_empleados}" >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <!--<apex:inputField value="{!fourPlanning.Rango_Empleados__c}"  />-->
                                            <apex:inputField value="{!fourPlanning.Cantidad_de_empleados_exacto__c}"/>
                                        </div></apex:outputText>
                                    
                                    
                                    <apex:outputText rendered="{!esSectorPublico}" label="{!$Label.certa_scp__numero_empleados_organismo}" >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <!--<apex:inputField value="{!fourPlanning.Rango_Empleados__c}"  />-->
                                            <apex:inputField value="{!fourPlanning.Cantidad_de_empleados_exacto__c}"/>
                                        </div></apex:outputText>
                                    
                                    
                                    <apex:inputField value="{!fourPlanning.Empleados_Crece_Decrece_Matiene__c}" label="{!$Label.certa_scp__numero_emleados_crece_decrece_mantiene}"></apex:inputField>
                                    
                                    
                                    
                                    <apex:outputText label="{!$Label.certa_scp__cantidad_de_edificios_centrales_y_o_administrativos}" >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <!--<apex:inputField value="{!fourPlanning.Rango_Edificios__c}"  />-->
                                            <apex:inputField value="{!fourPlanning.Cantidad_de_sedes_exactas__c}"  />
                                            
                                        </div></apex:outputText>
                                    
                                    
                                    <!-- Publico y privado -->
                                    <apex:outputText rendered="{! !esSectorPublico}" label="{!$Label.certa_scp__indica_la_cantidad_de_sucursales}"  >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <apex:inputField value="{!fourPlanning.Cantidad_de_sucursales__c}" />
                                            <!-- <apex:inputField value="{!fourPlanning.Rango_Sucursales__c}" />-->
                                            
                                        </div></apex:outputText>
                                    
                                    <apex:outputText rendered="{!esSectorPublico}"  label="{!$Label.certa_scp__numero_centros_institucion}"   >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <apex:inputField value="{!fourPlanning.Cantidad_de_sucursales__c}" />
                                            <!--  <apex:inputField value="{!fourPlanning.Rango_Sucursales__c}" />-->
                                        </div></apex:outputText>
                                    
                                    <!-- <apex:inputField rendered="{!esSectorPublico}" value="{!fourPlanning.Cantidad_de_sucursales__c}" label="{!$Label.certa_scp__numero_centros_institucion}" />-->
                                    
                                    <!-- Publico o privado --> 
                                    <apex:inputField rendered="{! !esSectorPublico}" value="{!fourPlanning.Como_se_mantiene_el_numero_de_sucursales__c}" label="{!$Label.certa_scp__el_n_mero_de_sucursales_crece_decrece_o_se_mantiene}" />
                                    
                                    <apex:inputField rendered="{!esSectorPublico}" value="{!fourPlanning.Como_se_mantiene_el_numero_de_sucursales__c}" label="{!$Label.certa_scp__numero_centros_crece}" />
                                    
                                    <!-- Publico o privado --> 
                                    
                                    <apex:outputText rendered="{! !esSectorPublico}" styleClass="disponeDeAutomotor" label="{!$Label.certa_scp__el_cliente_dispone_de_parque_automotor}"  >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <apex:inputField styleClass="disponeDeAutomotor" value="{!fourPlanning.Dispone_de_parque_automotor__c}"  />
                                        </div></apex:outputText>
                                    
                                    <apex:outputText rendered="{!esSectorPublico}" styleClass="disponeDeAutomotor" label="{!$Label.certa_scp__organismo_parque_automotor}"  >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <apex:inputField styleClass="disponeDeAutomotor" value="{!fourPlanning.Dispone_de_parque_automotor__c}"  />
                                        </div></apex:outputText>
                                    
                                    
                                    <!--apex:inputField rendered="{!esSectorPublico}" styleClass="disponeDeAutomotor" value="{!fourPlanning.Dispone_de_parque_automotor__c}" label="{!$Label.certa_scp__organismo_parque_automotor}" />-->
                                    
                                    <apex:outputPanel styleClass="cuestionarioFlota ocultar" >
                                        
                                        <table class="detailList" border="0" cellpadding="0" cellspacing="0">
                                            <tbody>
                                                <tr class="">
                                                    <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                        <label>{!$Label.Parque_Automotor_Propio_o_Gestionado}</label>
                                                    </th>
                                                    <td class="data2Col">
                                                        <apex:inputField value="{!fourPlanning.Parque_Automotor_Propio_o_Gestionado__c}"/> 
                                                    </td>
                                                </tr>
                                                <tr class="">
                                                    <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                        <label>{!$Label.certa_scp__cantidad_vehiculos_parque}</label>
                                                    </th>
                                                    <td class="data2Col">
                                                        <apex:inputField value="{!fourPlanning.De_cuantos_veh_culos_dispone_el_parque__c}"/> 
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        
                                    </apex:outputPanel>
                                    
                                    
                                    <apex:inputField rendered="{! !esSectorPublico}" styleClass="paises" value="{!fourPlanning.Tiene_Presencia_Internacional__c}" label="{!$Label.certa_scp__cliente_tiene_presencia_internacional}"/>
                                    
                                    <apex:outputPanel styleClass="cuestionarioPaises ocultar" >
                                        
                                        <table class="detailList" border="0" cellpadding="0" cellspacing="0">
                                            <tbody>
                                                <tr class="">
                                                    <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                        <label>{!$Label.Selecciona_Paises_Negocio}</label>
                                                    </th>
                                                    <td class="data2Col">
                                                        <apex:inputField value="{!fourPlanning.Presencia_Regional__c}"/> 
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        
                                    </apex:outputPanel>
                                    
                                </apex:pageBlockSection>
                                
                            </apex:pageBlock>
                        </div>
                        
                        <!-- Contacto Ejecutivo ----------------------------------------------------------- -->
                        <div id="div-offer-schedule" class="tab-pane fade">
                            <apex:pageBlock id="contacto" title="" mode="maindetail">
                                <apex:pageBlockSection id="contacto2" title="{!$Label.certa_scp__contacto_ejecutivo}" columns="1">
                                    
                                    <apex:outputText label="{!$Label.certa_scp__con_qu_frecuencia_nos_reunimos_con_el_cliente}" >
                                        <div style="float:left;" class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <apex:inputField value="{!fourPlanning.Frecuencia_de_Contacto_con_el_Cliente__c}" />
                                        </div>
                                        
                                        <!--  <apex:outputPanel rendered="{!esSectorPublico}">
<button style="margin-left:10%; margin-top:-0.5%" type="button" class="btn btn-default btn-sm" onclick="goToOrg()">
<span class="glyphicon glyphicon-edit icon-btn-left"></span>&nbsp;{!$Label.view_influence_map}
</button> 
</apex:outputPanel>-->
                                    </apex:outputText>
                                    
                                    
                                    <apex:outputText label="¿Cuáles son los niveles de interlocución que tienes en el cliente?" >
                                        <div>
                                            <apex:inputField rendered="{! !esSectorPublico}" styleClass="nivelDeContacto" value="{!fourPlanning.SeleccionMultiple__c}"/>
                                            <apex:inputField rendered="{!esSectorPublico}" styleClass="nivelDeContacto" value="{!fourPlanning.SeleccionMultipleContactoPublico__c}" />    
                                        </div>
                                        
                                    </apex:outputText>
                                    
                                    
                                    
                                    <!--  <apex:inputField rendered="{! !esSectorPublico}" styleClass="nivelDeContacto" value="{!fourPlanning.Mayor_Nivel_de_Contacto_con_el_Cliente__c}" label="{!$Label.certa_scp__cu_l_es_nuestro_mayor_nivel_de_contacto_con_el_cliente}" />


<apex:inputField rendered="{!esSectorPublico}" styleClass="nivelDeContacto" value="{!fourPlanning.Nivel_contacto_publico__c}" label="{!$Label.certa_scp__cu_l_es_nuestro_mayor_nivel_de_contacto_con_el_cliente}" />
-->    
                                    
                                    
                                    <!-- input oculto solo se muestra si el superior es Otros 
<apex:outputPanel styleClass="otroNivel ocultar" >

<table class="detailList" border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr class="">
<th class="labelCol vfLabelColTextWrap first" scope="row">
<label>{!$Label.Indique_cual}</label>
</th>
<td>
<apex:inputField styleClass="otroNivel ocultar" style="margin-left:1%" value="{!fourPlanning.Otro_nivel_de_contacto_con_cliente__c}"/>    
</td>
</tr>
</tbody>
</table>

</apex:outputPanel>-->
                                    
                                    <apex:inputField value="{!fourPlanning.Agenda_Periodica_Ejecutiva__c}" label="{!$Label.certa_scp__tenemos_agenda_peri_dica_ejecutiva_con_participaci_n_de_nivel_directivo_de_amba}" />
                                    
                                    <apex:outputText label="{!$Label.certa_scp__tenemos_agenda_peri_dica_operacional_sobre_la_calidad_de_los_servicios_prestado}" >
                                        <div class="requiredInput">
                                            <div class="requiredBlock"></div>
                                            <apex:inputField value="{!fourPlanning.Agenda_Periodica_Operacional__c}" />
                                        </div>
                                    </apex:outputText>
                                    
                                    <apex:outputText label="{!$Label.certa_scp__selecciona_los_3_contactos_en_el_cliente_con_los_que_tiene_mayor_afinidad}">
                                        
                                        <apex:outputPanel id="contactosAfinidad">
                                            <apex:inputField onchange="{probando();}" value="{!fourPlanning.Contacto_con_mayor_afinidad_1__c}" />&nbsp; 
                                            <apex:actionFunction name="probando" rerender="contactosAfinidad" action="{!cambioContacto}"/>
                                            <apex:outputText value="({!fourPlanning.Contacto_con_mayor_afinidad_1__r.Title})" />&nbsp; <br/>
                                            <apex:inputField value="{!fourPlanning.Contacto_con_mayor_afinidad_2__c}" />&nbsp;
                                            <apex:outputText value="({!fourPlanning.Contacto_con_mayor_afinidad_2__r.Title})" />&nbsp; <br/>
                                            <apex:inputField value="{!fourPlanning.Contacto_con_mayor_afinidad_3__c}" />
                                            <apex:outputText value="({!fourPlanning.Contacto_con_mayor_afinidad_3__r.Title})" />
                                            <br/>
                                        </apex:outputPanel>
                                        <apex:outPutPanel >
                                            <button style="margin-top:2%;" type="button" class="btn btn-default btn-sm" onclick="goToOrg()">
                                                <span class="glyphicon glyphicon-edit icon-btn-left"></span>&nbsp;{!$Label.view_influence_map}
                                            </button> 
                                        </apex:outPutPanel> 
                                        
                                    </apex:outputText>   
                                    
                                    <apex:inputField value="{!fourPlanning.realcion_empresa_otros_clientes__c}" label="{!$Label.certa_scp__conoces_lo_que_telef_nica_hace_en_otros_pa_ses_con_clientes_semejantes_al_tuyo}" />
                                    
                                    <apex:outputText >&nbsp;</apex:outputText>
                                    
                                    
                                    <apex:outputText label="{!$Label.certa_scp__nuestra_agenda_de_trabajo_con_el_cliente_es_principalmente}"/>
                                    
                                    <apex:outputPanel >
                                        
                                        <table class="detailList" border="0" cellpadding="0" cellspacing="0">
                                            <tbody>
                                                <!--<tr class="bordesDeTabla">
<th class="labelCol vfLabelColTextWrap first" scope="row">
<label></label>
</th>
<td class="data2Col first">

</td>
</tr>-->
                                                <tr class="bordesDeTabla">
                                                    <td class="data2Col first" style="width:100%">
                                                        <div style="float:left;margin-left: 30%;width:10%;">
                                                            <em style="color: grey;">1 {!$Label.Operativa}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                        </div> 
                                                        
                                                        <div style="float:left;">
                                                            <apex:selectRadio value="{!contactoEjecutivo1}"> 
                                                                
                                                                <apex:selectOptions value="{!respuestas}"/>
                                                                
                                                            </apex:selectRadio>
                                                        </div>
                                                        
                                                        <!--<div id="agendaDeTrabajo1slider" style="width:25%;float: left;margin-top: 0.5%;"></div> -->
                                                        <div >
                                                            <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5 {!$Label.Comercial}</em>
                                                        </div>
                                                        
                                                        <!-- <apex:inputField label="" styleClass="agendaDeTrabajo1Input" style="display:none" value="{!fourPlanning.Agenda_de_Trabajo_1__c}" />-->
                                                    </td>
                                                </tr>
                                                
                                                <tr class="bordesDeTabla" >
                                                    <td class="data2Col first" style="width:100%">
                                                        <div style="float:left;margin-left: 30%;width:10%">
                                                            <em style="color: grey;">1 {!$Label.Tradicional}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                        </div> 
                                                        
                                                        <div style="float:left;">
                                                            <apex:selectRadio value="{!contactoEjecutivo2}"> 
                                                                
                                                                <apex:selectOptions value="{!respuestas}"/>
                                                                
                                                            </apex:selectRadio>
                                                        </div>
                                                        
                                                        <!--<div id="agendaDeTrabajo2slider" style="width:25%;float: left;margin-top: 0.5%;"></div> -->
                                                        <div >
                                                            <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5 {!$Label.Digital}</em>
                                                        </div>
                                                        
                                                        <!--<apex:inputField label="" styleClass="agendaDeTrabajo2Input" style="display:none" value="{!fourPlanning.Agenda_de_Trabajo_2__c}" />-->
                                                    </td>
                                                </tr>
                                                
                                                
                                                <tr class="bordesDeTabla">
                                                    <td class="data2Col first" style="width:100%">
                                                        <div style="float:left;margin-left: 30%;width:10%">
                                                            <em style="color: grey;">1 {!$Label.Renegociacion}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                        </div> 
                                                        
                                                        <div style="float:left;">
                                                            <apex:selectRadio value="{!contactoEjecutivo3}"> 
                                                                
                                                                <apex:selectOptions value="{!respuestas}"/>
                                                                
                                                            </apex:selectRadio>
                                                        </div>
                                                        
                                                        <!--<div id="agendaDeTrabajo3slider" style="width:25%;float: left;margin-top: 0.5%;"></div> -->
                                                        <div >
                                                            <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5 {!$Label.Desarrollo}</em>
                                                        </div>
                                                        
                                                        <!--<apex:inputField label="" styleClass="agendaDeTrabajo3Input" style="display:none" value="{!fourPlanning.Agenda_de_Trabajo_3__c}" />-->
                                                    </td>
                                                </tr>
                                                
                                                <tr class="bordesDeTabla">
                                                    <td class="data2Col first" style="width:100%">
                                                        <div style="float:left;margin-left: 30%;width:10%">
                                                            <em style="color: grey;">1 {!$Label.Conflictiva}</em>
                                                        </div> 
                                                        
                                                        <div style="float:left;">
                                                            
                                                            <apex:selectRadio value="{!contactoEjecutivo4}"> 
                                                                
                                                                <apex:selectOptions value="{!respuestas}"/>
                                                                
                                                            </apex:selectRadio>
                                                        </div>
                                                        
                                                        
                                                        <!-- <div id="agendaDeTrabajo4slider" style="width:25%;float: left;margin-top: 0.5%;"></div> -->
                                                        <div >
                                                            <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5 {!$Label.Constructiva}
                                                            </em>
                                                        </div>
                                                        
                                                        <!--<apex:inputField label="" styleClass="agendaDeTrabajo4Input" style="display:none" value="{!fourPlanning.Agenda_de_Trabajo_4__c}" />-->
                                                    </td>
                                                </tr>
                                                
                                            </tbody>
                                        </table>
                                        
                                    </apex:outputPanel>
                                    
                                    
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                        </div>
                        
                        <!-- Conocimiento negocio del cliente -------------------------------------------------------- -->
                        <div id="div-economical-info" class="tab-pane fade">
                            
                            <apex:pageBlock title="" mode="maindetail" id="tablaIniciativasDeNegocio">
                                <apex:pageBlockSection title="{!$Label.certa_scp__conocimiento_de_la_actividad}" columns="1" >                            
                                    
                                    
                                    <apex:outputText label="{!$Label.certa_scp__cu_les_son_los_principales_desaf_os_e_iniciativas_estrat_gicas_del_cliente}">     
                                    </apex:outputText> 
                                    
                                    <apex:pageBlockSectionItem >
                                        <apex:outputPanel layout="none" >
                                            <table style="width: 60%;margin-left: 19%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                                <thead>
                                                    <tr>
                                                        <th style="padding-left: 1% !important;">
                                                            {!$Label.Titulo}
                                                        </th>
                                                        <th>
                                                            {!$Label.certa_scp__description}
                                                        </th>
                                                        <th>
                                                            
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <apex:repeat value="{!iniciativasDelNegocioDelCliente}" var="item">
                                                        <tr>
                                                            <td>
                                                                <apex:outputField value="{!item.Titulo_Iniciativa__c}">
                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                </apex:outputField>
                                                                
                                                            </td>
                                                            <td>
                                                                <apex:outputField value="{!item.Strategic_Initiative__c}">
                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                </apex:outputField>
                                                                
                                                            </td>
                                                            <td>
                                                                <apex:commandButton styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__delete}" reRender="tablaIniciativasDeNegocio" action="{!DeleteStrategicInitiatives}">
                                                                    <apex:param assignTo="{!delid}" name="delid" value="{!item.id}"/>
                                                                </apex:commandButton>
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </tbody>
                                            </table>  
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                    
                                    <apex:outputText >
                                        <button style="margin-left: 69%;" type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModal">
                                            <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.add_buttom}&nbsp;{!$Label.Initiative}
                                        </button>
                                        <br/>
                                    </apex:outputText>
                                    <br/>
                                    
                                    <apex:outputText rendered="{! !esSectorPublico}" label="{!$Label.certa_scp__indica_cu_les_son_las_principales_empresas_con_las_que_compite_tu_cliente}">
                                        <apex:inputField value="{!fourPlanning.Competidor_Principal_1__c}" />&nbsp;  
                                        <apex:inputField value="{!fourPlanning.Competidor_Principal_2__c}" />&nbsp;
                                        <apex:inputField value="{!fourPlanning.Competidor_Principal_3__c}" />  
                                    </apex:outputText> 
                                    
                                    
                                    <apex:inputField rendered="{! !esSectorPublico}" value="{!fourPlanning.Canal_de_comercializaci_n_multiple__c}" label="{!$Label.certa_scp__indica_cu_les_son_los_canales_de_comercializaci_n_que_utiliza_tu_cliente} {!$Label.certa_scp__indique_por_orden_de_importancia}" />
                                    <apex:inputField rendered="{!esSectorPublico}" value="{!fourPlanning.Canal_de_comercializaci_n_multiple__c}" label="{!$Label.certa_scp__selecciona_los_canales_que_utiliza_para_interactuar_con_el_ciudadano} {!$Label.certa_scp__indique_por_orden_de_importancia}" />
                                    
                                    <apex:inputField rendered="{! !esSectorPublico}" value="{!fourPlanning.comercializacion_que_mas_crece_multiple__c}" label="{!$Label.certa_scp__cu_l_es_el_canal_de_comercializaci_n_que_m_s_esta_creciendo} {!$Label.certa_scp__indique_por_orden_de_importancia}" />
                                    <apex:inputField rendered="{!esSectorPublico}" value="{!fourPlanning.comercializacion_que_mas_crece_multiple__c}" label="{!$Label.certa_scp__proveedores_importantes}" />
                                    
                                    
                                    
                                    
                                    
                                    
                                    <!--<apex:outputPanel styleClass="especificarPorcentaje ocultar" >

<table class="detailList" border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr class="">
<th class="labelCol vfLabelColTextWrap first" scope="row">
<label>{!$Label.Porcentaje_Fija}</label>
</th>
<td>
<div id="porcentajeFijo" style="width:50%;float: left;margin-top: 0.5%;">
<div id="custom-handle-porcentajeFijo" class="ui-slider-handle"></div>
</div> 
<apex:inputField styleClass="porcentajeFijo" style="margin-left:1%;display:none" value="{!fourPlanning.Porcentaje_facturacion_fija__c}"/>    
</td>
</tr>
<tr class="">
<th class="labelCol vfLabelColTextWrap first" scope="row">
<label>{!$Label.Porcentaje_Variable}</label>
</th>
<td>
<div id="porcentajeVariable" style="width:50%;float: left;margin-top: 0.5%;">
<div id="custom-handle-porcentajeVariable" class="ui-slider-handle"></div>
</div> 
<apex:inputField styleClass="porcentajeVariable" style="margin-left:1%;display:none" value="{!fourPlanning.Porcentaje_facturacion_variable__c}"/>    
</td>
</tr>
</tbody>
</table>

</apex:outputPanel> -->
                                    
                                </apex:pageBlockSection>
                                
                            </apex:pageBlock>
                            
                        </div>
                        
                        <!-- Retos/Oportunidades (Ex Areas de Trabajo) -------------------------------------------------------- -->
                        <div id="div-detail-reach" class="tab-pane fade">
                            
                            <apex:pageBlock id="cadaArea" title="" mode="maindetail">
                                
                                
                                <apex:pageBlockSection id="seccionRetos" title="Retos y Oportunidades" columns="1">
                                    
                                    
                                    <div class="panel-heading" style="background-color: #d9edf2; height:50px; width:90%; margin-left:6%;">
                                        Creacion de nuevo reto: {!$Label.certa_scp__que_iniciativas_cliente}
                                    </div>
                                    
                                    
                                    <div style = "width: 90%; margin-left:6%;" class="center-block alert alert-info" role="alert">
                                        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                                        ¿Que es un Reto? Son los desafíos que tienen las diferentes áreas de nuestro cliente y que el comercial de la cuenta identifica como líneas prioritarias de trabajo para los próximos meses.
                                        <br/>
                                        Un reto de Negocio: Utilizamos esta tipología cuando podemos afrontar una iniciativa de nuestro cliente con uno o varios servicios del portfolio y la vinculación a una oportunidad comercial concreta.
                                        <br/>
                                        Un reto de Gestión: No relacionados con productos y servicios. Tienen que ver con temas operativos como calidad, relacionamiento con el Cliente, puesta en marcha y ejecución de proyectos.
                                    </div>
                                    
                                    
                                    <!-- <apex:outputText style="width: 0%;padding-left: 25%; margin-left: -15%;" label="{!$Label.certa_scp__que_iniciativas_cliente}" /> -->
                                    
                                    <div class="panel-heading" style="background-color: #d9edf2; height:50px; width:90%; margin-left:6%;">
                                        Nuevo Reto
                                    </div>
                                    
                                    <apex:inputField styleClass="inputTipo" onchange="prueba2();" value="{!retoAInsertar.Tipo_de_Reto__c}" />
                                    
                                    <!-- Tabla para crear Reto -->
                                    
                                    <apex:outputPanel styleClass="tabla1 ocultar" >
                                        
                                        <table style="width: 90%;margin-left: 6%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                            <thead>
                                                <tr>
                                                    <th style= "font-weight: bold; color: #647687; width: 25%;padding-left: 0;text-align: center;">
                                                        {!$Label.Reto}
                                                    </th>
                                                    <th style="font-weight: bold; color: #647687; width: 25%;padding-left: 0;text-align: center;">
                                                        {!$Label.Solu}
                                                    </th>
                                                    <th style="font-weight: bold; color: #647687; width: 25%;padding-left: 0;text-align: center;">
                                                        {!$Label.Area}
                                                    </th>
                                                    <th style="font-weight: bold; color: #647687; width: 25%;padding-left: 0;text-align: center;">
                                                        {!$Label.Contacto}
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cual es el reto de tu cliente en el que debes trabajar en los proximos meses?">{!$Label.Nombre_del_Reto}</b></apex:outputText><br/>
                                                        <div class="requiredInput">
                                                            <div class="requiredBlock"></div>
                                                            <apex:inputField style="width: 100%;" value="{!retoAInsertar.Nombre_del_Reto__c}"/></div>
                                                    </td>
                                                    
                                                    <td >
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué solucion de Telefonica da respuesta al reto de tu cliente?">Categoría</b></apex:outputText><br/>
                                                        <div class="requiredInput">
                                                            <div class="requiredBlock"></div>
                                                            <apex:inputField style="width: 100%;" value="{!solucionAInsertar2.Lista_de_Soluciones__c}"/></div>
                                                        <br/>
                                                        <div style="margin-top:-5%;">
                                                            <apex:outputText ><b style="color: #1a3a54;">Subcategoría</b></apex:outputText><br/>
                                                            <apex:inputField style="width: 100%;" value="{!solucionAInsertar2.SubcategoriaSolucion__c}"/>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        
                                                        <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__nombre_del_area}</b></apex:outputText><br/>
                                                        <div class="requiredInput">
                                                            <div class="requiredBlock"></div>
                                                            <apex:inputField style="width: 100%;" value="{!areaAInsertar.Titulo_Area__c}"/></div>
                                                        
                                                    </td>
                                                    <td >
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="Selecciona el contacto con el que vas a trabajar este reto">{!$Label.certa_scp__name}</b></apex:outputText><br/>
                                                        
                                                        <apex:inputField style="width:93%" value="{!contactoAInsertar2.ContactoDeReto__c}"/>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿En qué momento se encuentra este reto?">{!$Label.Etapa_del_Reto}</b></apex:outputText><br/>
                                                        <div class="requiredInput">
                                                            <div class="requiredBlock"></div>
                                                            <apex:inputField style="width: 100%;" value="{!retoAInsertar.Etapa_del_Reto__c}"/></div>
                                                    </td>
                                                    <td>
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Está disponible la solucion actualmente?">{!$Label.Disponibilidad}</b></apex:outputText><br/>
                                                        
                                                        <div class="requiredInput">
                                                            <div class="requiredBlock"></div>
                                                            <apex:inputField style="width:100%" value="{!solucionAInsertar2.Nivel_de_Desarrollo__c}"/></div>
                                                    </td>
                                                    <td>
                                                        
                                                        
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿En qué departamento de tu cliente vas a trabajar este reto?">{!$Label.Tipo_de_Area}</b></apex:outputText><br/>
                                                        <div class="requiredInput">
                                                            <div class="requiredBlock"></div>
                                                            <apex:inputField style="width:100%" value="{!areaAInsertar.Tipo_de_Area__c}"/></div>
                                                        
                                                        
                                                    </td>
                                                    <td >
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Que cargo ocupa en la organizacion del cliente?">{!$Label.certa_scp__cargo}</b></apex:outputText><br/>
                                                        
                                                        <apex:inputField styleClass="tipoDeContactoEnTabla" onchange="prueba();" style="width: 100%;" value="{!contactoAInsertar2.Tipo_de_Contacto__c}"/>
                                                        
                                                        <apex:outputPanel styleClass="campoDeContactoEnTabla ocultar ">
                                                            
                                                            
                                                            <table style="margin-top:2%;" >
                                                                <tbody>
                                                                    <tr>
                                                                        <td  >
                                                                            <outputText><b  style="color: #1a3a54;">Nombre del Cargo</b></outputText><br/>
                                                                            <apex:inputField style="width: 100%;" value="{!contactoAInsertar2.pruebaTexto__c}"/>
                                                                        </td>
                                                                        
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            
                                                        </apex:outputPanel>
                                                        
                                                    </td>
                                                </tr>
                                                
                                                
                                                <tr>
                                                    
                                                    <td>
                                                        <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__fecha_estimada_de_cierre}</b></apex:outputText><br/>
                                                        <apex:inputField style="width: 64%;" value="{!retoAInsertar.Fecha_Compromiso__c}"/>
                                                    </td>
                                                    <td>
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Quien es nuestro principal competidor en esta solucion?">{!$Label.Competencia}</b></apex:outputText><br/>
                                                        
                                                        <apex:inputField style="width: 100%;" value="{!solucionAInsertar2.Competidor__c}"/>
                                                        
                                                    </td>
                                                    <td>
                                                        
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué grado de conocimiento tienes sobre el area?">{!$Label.Conocimiento}</b></apex:outputText><br/>
                                                        
                                                        <apex:inputField style="width:100%" value="{!areaAInsertar.Conocimiento_del_Area__c}"/>
                                                        
                                                    </td>
                                                    <td >
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cómo es tu relación con este contacto?">{!$Label.certa_scp__nivel_de_relaci_n}</b></apex:outputText><br/>
                                                        
                                                        <apex:inputField style="width:100%" value="{!contactoAInsertar2.Nivel_de_Relaci_n__c}"/>
                                                    </td>
                                                </tr>
                                                
                                                
                                            </tbody>
                                        </table> 
                                        <br/>
                                        <button style="margin-left: 71%;" type="button" class="btn btn-default btn-sm" data-toggle="modal" onclick="InsertarReto();">
                                            <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;Insertar Reto
                                        </button>
                                        <br/><br/>
                                        
                                        <apex:actionFunction action="{!insertarReto}" name="InsertarReto" rerender="msgPanel, cadaArea, retoRender, tablaModalRetos" oncomplete="resetCamposHito(); prueba2();" status="agregandoSolucion"/>
                                        
                                        
                                        
                                    </apex:outputPanel>
                                    
                                    <!-- Tabla retos gestion -->
                                    
                                    <apex:outputPanel styleClass="tabla2 ocultar" >
                                        
                                        <table style="width: 60%;margin-left: 19%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                            <!--------------------------------------------------------------------------------- <thead>
<tr>
<th style= "font-weight: bold; color: #647687; width: 25%;padding-left: 0;text-align: center;">
{!$Label.Reto}
</th>


</tr>
</thead>-->
                                            
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        
                                                        <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cual es el reto de tu cliente en el que debes trabajar en los proximos meses?">{!$Label.Nombre_del_Reto}</b></apex:outputText><br/>
                                                        <div class="requiredInput">
                                                            <div class="requiredBlock"></div>
                                                            <apex:inputField style="width: 100%;" value="{!retoAInsertar2.Nombre_del_Reto__c}"/></div>
                                                    </td>
                                                    
                                                    <td>
                                                        <apex:outputText ><b style="color: #1a3a54;">Categoría del Reto</b></apex:outputText><br/>
                                                        <apex:inputField styleClass="tipoDeCategoriaEnTabla" onchange="pruebaCategoria();" style="width: 64%;" value="{!retoAInsertar2.CategoriaRetoGestion__c}" />
                                                        
                                                        
                                                        <apex:outputPanel styleClass="campoDeCategoriaEnTabla ocultar ">
                                                            
                                                            
                                                            <table style="margin-top:2%;" >
                                                                <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <outputText><b  style="color: #1a3a54;">Nombre de la Categoría</b></outputText><br/>
                                                                            <apex:input style="width: 100%;" value="{!categoriaCustom}"/>
                                                                        </td>
                                                                        
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            
                                                        </apex:outputPanel>
                                                        
                                                        
                                                    </td>
                                                    
                                                </tr>
                                                
                                                
                                                
                                                <tr>
                                                    
                                                    <td>
                                                        <apex:outputText ><b style="color: #1a3a54;">Observacion</b></apex:outputText><br/>
                                                        <apex:inputTextArea style="width:100%" value="{!retoAInsertar2.Nota__c}"/>
                                                    </td>
                                                    
                                                    <td>
                                                        <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__fecha_estimada_de_cierre}</b></apex:outputText><br/>
                                                        <apex:inputField style="width: 64%;" value="{!retoAInsertar2.Fecha_Compromiso__c}"/>
                                                    </td>
                                                </tr>
                                            </tbody>
                                            
                                            
                                        </table>
                                        
                                        <br/>
                                        <button style="margin-left: 71%;" type="button" class="btn btn-default btn-sm" data-toggle="modal" onclick="InsertarRetoCustom();">
                                            <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;Insertar Reto
                                        </button>
                                        <br/><br/>
                                        
                                        <apex:actionFunction action="{!insertarRetoCustom}" name="InsertarRetoCustom" rerender="msgPanel, cadaArea, retoRender, tablaModalRetos" oncomplete="resetCamposHito(); prueba2();" status="agregandoSolucion"/>
                                    </apex:outputPanel>
                                    
                                    
                                    
                                    <div class="panel-heading" style="background-color: #d9edf2; height:50px; width:90%; margin-left:6%;">
                                        Retos Actuales
                                    </div>
                                    
                                    
                                    <!-- Tabla de Retos -->
                                    
                                    <apex:pageBlockSectionItem >
                                        <apex:repeat value="{!listaWrappersRetos}" var="reto" id="number">
                                            <apex:outputPanel >
                                                <div style="margin-left: 25px; margin-bottom:-10px">
                                                    <br/>
                                                </div>            
                                                <br/> 
                                                
                                                
                                                <div class="row" style="margin-left: 6%;">
                                                    
                                                    <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                        <div class="rTable">
                                                            <div class="rTableHeading2">
                                                                <div class="rTableHead tituloDeTabla">
                                                                    
                                                                    <apex:commandButton styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__eliminar_reto}" reRender="todo, cadaArea, tablaModalOportunidades, tablaModalRetos" action="{!borrarReto}">
                                                                        <apex:param assignTo="{!retoABorrarId}" name="delid" value="{!reto.reto.id}"/>
                                                                    </apex:commandButton>
                                                                    
                                                                </div>
                                                                
                                                            </div>
                                                            <div class="rTableHeading">
                                                                <div class="rTableHead tituloDeTabla">
                                                                    {!$Label.certa_scp__reto}
                                                                </div>
                                                                
                                                            </div>
                                                            
                                                            <div class="rTableBody">
                                                                
                                                                <div class="rTableRow">
                                                                    <div class="rTableCell">
                                                                        <div class="bordeTablaRetos">
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cuál es el reto de tu cliente en el que debes trabajar en los proximos meses?">{!$Label.Nombre_del_Reto}</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.reto.Nombre_del_Reto__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>
                                                                        <div class="bordeTablaRetos">
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿En qué momento se encuentra este reto?">{!$Label.Etapa_del_Reto}</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.reto.Etapa_del_Reto__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                            
                                                                            
                                                                            
                                                                        </div>
                                                                        <div style=" height: 82px;">
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__fecha_estimada_de_cierre}</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.reto.Fecha_Compromiso__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>
                                                                    </div>   
                                                                    
                                                                    
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                    </apex:outputPanel>
                                                    
                                                    <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == 'Gestión'}">
                                                        
                                                        <apex:commandButton styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__eliminar_reto}" reRender="cadaArea, tablaModalOportunidades, todo, tablaModalRetos" action="{!borrarReto}">
                                                            <apex:param assignTo="{!retoABorrarId}" name="delid" value="{!reto.reto.id}"/>
                                                        </apex:commandButton>
                                                        
                                                        <br/> <br/>
                                                        
                                                        
                                                        <div class="rTable2">
                                                            
                                                            <div class="rTableHeading">
                                                                <div class="rTableHead tituloDeTabla">
                                                                    {!$Label.certa_scp__reto} (de Gestión)
                                                                </div>
                                                                
                                                            </div>
                                                            
                                                            <div class="rTableBody">
                                                                
                                                                <div class="rTableRow">
                                                                    <div class="rTableCell">
                                                                        <div class="bordeTablaRetos">
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cuál es el reto de tu cliente en el que debes trabajar en los proximos meses?">{!$Label.Nombre_del_Reto}</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.reto.Nombre_del_Reto__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>
                                                                        <div>
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;">Categoria del Reto</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.reto.CategoriaRetoGestion__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField> 
                                                                            
                                                                            
                                                                        </div>
                                                                        
                                                                    </div>   
                                                                    
                                                                    
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                        
                                                        
                                                        
                                                        
                                                        
                                                        <div class="rTable2">
                                                            
                                                            
                                                            <div class="rTableHeading">
                                                                <div class="rTableHead tituloDeTabla">
                                                                    &nbsp;
                                                                </div>
                                                                
                                                            </div> 
                                                            
                                                            
                                                            <div class="rTableBody">
                                                                
                                                                <div class="rTableRow">
                                                                    <div class="rTableCell">
                                                                        
                                                                        <div class="bordeTablaRetos">
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__fecha_estimada_de_cierre}</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.reto.Fecha_Compromiso__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>
                                                                        
                                                                        <div >
                                                                            
                                                                            
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="Notas u observaciones del reto">Observacion</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.reto.Nota__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                            
                                                                            
                                                                            
                                                                        </div>
                                                                    </div>   
                                                                    
                                                                    
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                        
                                                        
                                                    </apex:outputpanel>
                                                    
                                                    
                                                    
                                                    <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                        <div class="rTableSoluciones ">
                                                            <div class="rTableHeading2">
                                                                <div class="rTableHead tituloDeTabla">
                                                                    
                                                                    <button type="button" onclick="setearValorIdDelRetoActual('{!reto.reto.id}')" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalTecnologiaReto">
                                                                        <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Agregar_Solucion}
                                                                    </button>
                                                                </div>
                                                                
                                                            </div>
                                                            <div class="rTableHeading">
                                                                <div class="rTableHead tituloDeTabla">
                                                                    
                                                                    {!$Label.Solu}
                                                                </div>
                                                                
                                                            </div>
                                                            
                                                            <div class="rTableBody">
                                                                <apex:repeat value="{!reto.soluciones}" var="solucion" id="gas3">    
                                                                    <div class="rTableRow">
                                                                        <div class="rTableCell">
                                                                            <div class="bordeTablaRetos">
                                                                                
                                                                                
                                                                                <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué solucion de Telefonica da respuesta al reto de tu cliente?">Categoría</b></apex:outputText>
                                                                                <apex:outputField rendered="{!solucion.Otra_Solucion__c != null}" value="{!solucion.Otra_Solucion__c}">
                                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                                </apex:outputField>
                                                                                <apex:outputField rendered="{!solucion.Otra_Solucion__c == null}" value="{!solucion.Lista_de_Soluciones__c}">
                                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                                </apex:outputField>
                                                                            </div>  
                                                                            
                                                                            <div class="bordeTablaRetos">  
                                                                                <apex:outputText ><b style="color: #1a3a54;">Subcategoría</b></apex:outputText>
                                                                                <apex:outputField value="{!solucion.SubcategoriaSolucion__c}">
                                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                                </apex:outputField>
                                                                                
                                                                                
                                                                                
                                                                                
                                                                            </div>
                                                                            <div class="bordeTablaRetos">
                                                                                
                                                                                
                                                                                <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Está disponible la solucion actualmente?">{!$Label.Disponibilidad}</b></apex:outputText>
                                                                                <apex:outputField value="{!solucion.Nivel_de_Desarrollo__c}">
                                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                                </apex:outputField>
                                                                            </div>
                                                                            <div >
                                                                                
                                                                                
                                                                                <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Quien es nuestro principal competidor en esta solucion?">{!$Label.Competencia}</b></apex:outputText>
                                                                                <apex:outputField value="{!solucion.Competidor__c}">
                                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                                </apex:outputField>  
                                                                            </div>
                                                                            
                                                                        </div>
                                                                    </div>
                                                                </apex:repeat>
                                                            </div>
                                                        </div>
                                                    </apex:outputPanel>
                                                    
                                                    <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                        <div class="rTable">
                                                            <div class="rTableHeading2" style="height:38px;">
                                                                <div class="rTableHead tituloDeTabla" style="height:38px;">
                                                                    
                                                                    &nbsp;
                                                                    
                                                                </div>
                                                                
                                                            </div>
                                                            <div class="rTableHeading">
                                                                <div class="rTableHead tituloDeTabla">
                                                                    
                                                                    
                                                                    {!$Label.Area}
                                                                </div>
                                                                
                                                            </div>
                                                            
                                                            <div class="rTableBody">
                                                                <div class="rTableRow">
                                                                    <div class="rTableCell">
                                                                        <div class="bordeTablaRetos"> 
                                                                            <apex:outputText ><b style="color: #1a3a54;">{!$Label.certa_scp__nombre_del_area}</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.areaDelReto.Titulo_Area__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>
                                                                        <div class="bordeTablaRetos">
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿En qué departamento de tu cliente vas a trabajar este reto?">{!$Label.Tipo_de_Area}</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.areaDelReto.Tipo_de_Area__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </div>
                                                                        <div style=" height: 82px;">
                                                                            <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué grado de conocimiento tienes sobre el area?">{!$Label.Conocimiento}</b></apex:outputText>
                                                                            <apex:outputField value="{!reto.areaDelReto.Conocimiento_del_Area__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField> 
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </apex:outputPanel>
                                                    
                                                    <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                        <div class="rTableContactos">
                                                            <div class="rTableHeading2">
                                                                <div class="rTableHead tituloDeTabla">
                                                                    
                                                                    <button   type="button" onclick="setearValorIdDelRetoActual('{!reto.reto.id}')" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalContactoReto">
                                                                        <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Agregar_Contacto}
                                                                    </button>
                                                                </div>
                                                                
                                                            </div>
                                                            <div class="rTableHeading">
                                                                <div class="rTableHead tituloDeTabla">
                                                                    
                                                                    {!$Label.Contacto}
                                                                </div>
                                                                
                                                            </div>
                                                            
                                                            <div class="rTableBody">
                                                                <apex:repeat value="{!reto.contactos}" var="contacto" id="gas2">   
                                                                    <div class="rTableRow">
                                                                        <div class="rTableCell">
                                                                            <div class="bordeTablaRetos">
                                                                                <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="Selecciona el contacto con el que vas a trabajar este reto">{!$Label.certa_scp__name}</b></apex:outputText>
                                                                                <apex:outputField value="{!contacto.ContactoDeReto__c}">
                                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                                </apex:outputField>
                                                                            </div>
                                                                            <div class="bordeTablaRetos">
                                                                                <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Qué cargo ocupa en la organización del cliente?">{!$Label.certa_scp__cargo}</b></apex:outputText>
                                                                                <apex:outputField rendered="{!contacto.Otro_contacto_del_cliente__c != null}" value="{!contacto.Otro_contacto_del_cliente__c}">
                                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                                </apex:outputField>
                                                                                <apex:outputField rendered="{!contacto.Otro_contacto_del_cliente__c == null}" value="{!contacto.Tipo_de_Contacto__c}">
                                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                                </apex:outputField>
                                                                            </div>
                                                                            <div style=" height: 82px;"> 
                                                                                
                                                                                
                                                                                <apex:outputText ><b style="color: #1a3a54;" data-toggle="tooltip" data-placement="top" title="¿Cómo es tu relación con este contacto?">{!$Label.certa_scp__nivel_de_relaci_n}</b></apex:outputText>
                                                                                <apex:outputField value="{!contacto.Nivel_de_Relaci_n__c}">
                                                                                    <apex:inlineEditSupport event="ondblclick"/>
                                                                                </apex:outputField> 
                                                                            </div>
                                                                            
                                                                        </div>
                                                                    </div>
                                                                </apex:repeat>
                                                            </div>  
                                                            
                                                        </div>
                                                    </apex:outputPanel>
                                                </div>
                                                
                                                <br/><br/>   
                                                
                                                <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                    
                                                    <div style="text-align: start; margin-left:6%; background-color:#1a3a54; width:90.5%; height:43px; font-size:14px;" class="panel-heading tituloDeTabla" >
                                                        
                                                        
                                                        {!$Label.Oportunidades_Vinculadas_Reto}
                                                        
                                                        
                                                        <button style="margin-left: 28%; margin-top:-1%;     height: 32px;  font-size: 14px;   background-color: bisque;" type="button" onclick="setearValorIdDelRetoActual('{!reto.reto.id}')" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalOportunidadReto">
                                                            <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Vincular_una_Oportunidad}
                                                        </button>                                                                        
                                                        
                                                        <apex:outputLink style="background-color: bisque; margin-top:-1%;"  styleClass="btn btn btn-default btn-sm" value="/006/e?CF00NG000000FF44Q={!reto.reto.id}&CF00NG000000FF44Q_lkid={!reto.reto.id}" target="_blank">
                                                            <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp; {!$Label.Crear_Nueva_Oportunidad}
                                                        </apex:outputLink>
                                                    </div>
                                                    
                                                    
                                                    
                                                    <br/> 
                                                    
                                                    <apex:outputPanel rendered="{!reto.reto.oportunidades__r.size > 0}">
                                                        <table style="width: 50%;margin-left: 25%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                                            <thead>
                                                                <tr>
                                                                    <th style="width: 30%;padding-left: 0%;text-align: center; font-weight: bold; color: #647687;">
                                                                        {!$Label.Nombre_Oportunidad}
                                                                    </th>
                                                                    <th style="width:13%;padding-left:0;text-align: center; font-weight: bold; color: #647687;">
                                                                        {!$Label.Ir}
                                                                    </th>
                                                                    <th style="width:1%;padding-left:0;text-aling: center;">
                                                                        
                                                                        
                                                                        
                                                                        
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <apex:repeat value="{!reto.reto.oportunidades__r}" var="oportunidad">
                                                                    <tr>
                                                                        <td style="text-align:center">
                                                                            <apex:outputText value="{!oportunidad.name}"/>
                                                                        </td>
                                                                        <td>
                                                                            <apex:outputLink style="padding: 4px;text-decoration: none;" value="/{!oportunidad.id}" target="_blank">{!$Label.certa_scp__ir_oportunidad}</apex:outputLink>
                                                                        </td>
                                                                        
                                                                        
                                                                        <td>
                                                                            <apex:outputPanel rendered="{!oportunidad.CloseDate != null}">
                                                                                <apex:outputPanel rendered="{!oportunidad.CloseDate > TODAY()}" >
                                                                                    <apex:commandButton style="float:left" styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__desvincular_oportunidad} " oncomplete="renderizaModal" reRender="cadaArea, tablaOpp, tablaModalOportunidades, msgPanel" action="{!desvincularOportunidad}" status="borrandoSolucion">
                                                                                        
                                                                                        <apex:param assignTo="{!OportunidadADesvincularId}" name="OportunidadDesvincular" value="{!oportunidad.id}"/>
                                                                                        
                                                                                    </apex:commandButton>
                                                                                </apex:outputPanel>
                                                                            </apex:outputPanel>
                                                                            
                                                                            <div>
                                                                                &nbsp;
                                                                                <apex:actionStatus id="borrandoSolucion">
                                                                                    <apex:facet name="start">
                                                                                        <img src="/img/loading.gif"/>
                                                                                    </apex:facet>
                                                                                </apex:actionStatus>
                                                                            </div>
                                                                            
                                                                            
                                                                        </td>
                                                                        
                                                                        
                                                                    </tr>
                                                                    
                                                                    
                                                                    
                                                                    
                                                                </apex:repeat>
                                                                
                                                            </tbody>
                                                        </table>
                                                    </apex:outputPanel>
                                                    <br/>
                                                </apex:outputPanel>
                                                
                                                
                                                <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                    
                                                    <div style="text-align: start; margin-left:6%; background-color:#1a3a54; width:90.5%; height:43px; font-size:14px;" class="panel-heading tituloDeTabla" >
                                                        
                                                        Generar Plan de Acción para este Reto
                                                        
                                                        <apex:commandButton value="Generar Plan de Acción" style="color:#5c7995; margin-left: 25.5%; margin-top:-1%; height: 32px;  font-size: 14px;   background-color: bisque;" onclick="setearValorIdDelRetoActual('{!reto.reto.id}')"  action="{!crearPlanDeAccion}" />
                                                    </div> 
                                                    
                                                </apex:outputPanel>
                                                
                                                <br/>
                                                
                                                
                                                <apex:outputPanel rendered="{!reto.reto.Tipo_de_Reto__c == null || reto.reto.Tipo_de_Reto__c == 'Negocio'}">
                                                    
                                                    <div  >
                                                        
                                                        <div style=" text-align: start; margin-left:6%; background-color:#1a3a54; width:90.5%; height:43px; font-size:14px;" class="panel-heading tituloDeTabla" >
                                                            
                                                            {!$Label.Quieres_Pedir_Ayuda}
                                                            
                                                            <!--<button style="margin-left: 23%;" type="button" onclick="setearValorIdDelRetoActual('{!reto.reto.id}')" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalAyuda">
¿Qué tipo de ayuda necesitas?
</button>--> </div>
                                                        
                                                        
                                                        
                                                        <!--<apex:commandButton style="margin-left: 81%;" styleClass="btn btn-default btn-sm" value="Eliminar Reto" reRender="cadaArea" action="{!BorrarArea}">
<apex:param assignTo="{!areaABorrarId}" name="delareaid" value="{!reto.areaDelReto.id}"/>
</apex:commandButton>-->
                                                        <br/>
                                                        
                                                        
                                                        <apex:outputPanel id="pedirAyudaAVentas">
                                                            
                                                            <apex:outputPanel rendered="{!reto.reto.Pidio_ayuda_a_ventas__c}">
                                                                <br/>
                                                                <div style = "width: 50%; margin-left: 20%;" class="alert alert-success" role="alert">
                                                                    <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                                                                    {!$Label.Solicitado_Ayuda_Venta}
                                                                </div>
                                                                
                                                                <apex:commandButton style="float:left;margin-left: 20%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__cancelar_ayuda}" reRender="cadaArea, pedirAyudaAVentas" action="{!cancelarApoyoAVentaEspecialista}">
                                                                    <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                    <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                                </apex:commandButton>
                                                            </apex:outputPanel>
                                                            
                                                            <apex:outputPanel rendered="{! !reto.reto.Pidio_ayuda_a_ventas__c}">
                                                                
                                                                <apex:commandButton style="float:left;margin-left: 22%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__apoyo1}" reRender="cadaArea, pedirAyudaAVentas" action="{!pedirApoyoAVentas}">
                                                                    <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                    <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                                </apex:commandButton>
                                                                
                                                                <apex:commandButton disabled="true" style="margin-left: 19%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__apoyo2}" reRender="cadaArea, pedirAyudaAVentas" action="{!pedirApoyoAVentas}">
                                                                    <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                    <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                                </apex:commandButton>
                                                                
                                                                <br/><br/>
                                                                
                                                                <apex:commandButton disabled="true" style="float:left;margin-left: 20%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__apoyo3}" reRender="cadaArea, pedirAyudaAVentas" action="{!pedirApoyoAVentas}">
                                                                    <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                    <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                                </apex:commandButton>
                                                                
                                                                <apex:commandButton disabled="true" style="margin-left: 10%;" oncomplete="renderizarPagina();"  styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__apoyo4}" reRender="cadaArea, pedirAyudaAVentas" action="{!pedirApoyoAVentas}">
                                                                    <apex:param assignTo="{!nombreRetoAyuda}" name="nombreRetoAyuda" value="{!reto.reto.Nombre_del_Reto__c}"/>
                                                                    <apex:param assignTo="{!idRetoQuePideAyuda}" name="idRetoQuePideAyuda" value="{!reto.reto.id}"/>
                                                                </apex:commandButton>
                                                            </apex:outputPanel>
                                                            
                                                        </apex:outputPanel>
                                                    </div>
                                                    <br/> <br/>
                                                </apex:outputPanel>
                                                
                                                <hr style="width:95%;"/>
                                            </apex:outputPanel>
                                            
                                        </apex:repeat>
                                        
                                    </apex:pageBlockSectionItem>
                                    
                                    
                                </apex:pageBlockSection><!--col-lg-3  --> </apex:pageBlock>
                            
                        </div>
                        
                        <!-- Relacion Institucional -------------------------------------------------------- -->
                        <div id="div-Team-offer-presale" class="tab-pane fade">
                            <apex:pageBlock title="" mode="maindetail">
                                <apex:pageBlockSection title="{!$Label.certa_scp__relacion}" columns="1">
                                    
                                    <apex:outputPanel >
                                        
                                        <table class="detailList" border="0" cellpadding="0" cellspacing="0">
                                            <tbody>
                                                <tr class="bordesDeTabla">
                                                    <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                        <label></label>
                                                    </th>
                                                    <td class="data2Col first">
                                                        
                                                    </td>
                                                </tr>
                                                <tr class="bordesDeTabla">
                                                    <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                        <label>{!$Label.Top_Proveedores_Cliente}</label>
                                                    </th>
                                                    <td class="data2Col first">
                                                        
                                                    </td>
                                                </tr>
                                                <tr class="bordesDeTabla">
                                                    <td class="data2Col first">
                                                        <div style="float:left;margin-left: 25%;width:22%;">
                                                            <em style="color: grey;">{!$Label.No_Cinco_Primeros}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                        </div> 
                                                        <!--<div id="slider" style="width:25%;float: left;margin-top: 0.5%;"></div>-->
                                                        
                                                        <div style="float:left;">
                                                            <apex:selectRadio value="{!relacionInstitucional1}"> 
                                                                
                                                                <apex:selectOptions value="{!respuestas}"/>
                                                                
                                                            </apex:selectRadio>
                                                        </div>
                                                        
                                                        
                                                        <div >
                                                            <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{!$Label.Estamos_Primeros}</em>
                                                        </div>
                                                        
                                                        <!--<apex:inputField label="" styleClass="primerInput" style="display:none" value="{!fourPlanning.Top_5_de_proveedores__c}" />-->
                                                    </td>
                                                </tr>
                                                
                                                <tr class="bordesDeTabla">
                                                    <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                        <label>{!$Label.Vinculo_Direcciones} </label>
                                                    </th>
                                                    <td class="data2Col first">
                                                        
                                                    </td>
                                                </tr>
                                                <tr class="bordesDeTabla">
                                                    <td class="data2Col first">
                                                        <div style="float:left;margin-left: 25%;width:22%">
                                                            <em style="color: grey;">{!$Label.No_Tenemos_Vinculo}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                        </div> 
                                                        <!--<div id="sliderVinculo" style="width:25%;float: left;margin-top: 0.5%;"></div> -->
                                                        <div style="float:left;">
                                                            <apex:selectRadio value="{!relacionInstitucional2}"> 
                                                                
                                                                <apex:selectOptions value="{!respuestas}"/>
                                                                
                                                            </apex:selectRadio>
                                                        </div>
                                                        
                                                        <div >
                                                            <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{!$Label.Tenemos_Estrecho_Vinculo}</em>
                                                        </div>
                                                        
                                                        <!--<apex:inputField label="" styleClass="segundoInput" style="display:none" value="{!fourPlanning.vinculo_direccion_tecnologia__c}" />-->
                                                    </td>
                                                </tr>
                                                
                                                <tr class="bordesDeTabla">
                                                    <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                        <label>{!$Label.Quien_Prospecta_Venta}</label>
                                                    </th>
                                                    <td class="data2Col first">
                                                        
                                                    </td>
                                                </tr>
                                                <tr class="bordesDeTabla">
                                                    <td class="data2Col first">
                                                        <div style="float:left;margin-left: 25%;width:22%">
                                                            <em style="color: grey;">{!$Label.Analistas_Fabricantes_Canales}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                        </div> 
                                                        <!-- <div id="sliderVentaTecnologica" style="width:25%;float: left;margin-top: 0.5%;"></div> -->
                                                        <div style="float:left;">
                                                            <apex:selectRadio value="{!relacionInstitucional3}"> 
                                                                
                                                                <apex:selectOptions value="{!respuestas}"/>
                                                                
                                                            </apex:selectRadio>
                                                        </div>
                                                        
                                                        <div >
                                                            <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{!$Label.Consultoras_Telefonica}</em>
                                                        </div>
                                                        
                                                        <!-- <apex:inputField label="" styleClass="tercerInput" style="display:none" value="{!fourPlanning.prospecta_venta_tecnologia_cliente__c}" />-->
                                                    </td>
                                                </tr>
                                                
                                                <tr class="bordesDeTabla">
                                                    <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                        <label>{!$Label.Estas_Futuro_Cliente}</label>
                                                    </th>
                                                    <td class="data2Col first">
                                                        
                                                    </td>
                                                </tr>
                                                <tr class="bordesDeTabla">
                                                    <td class="data2Col first">
                                                        <div style="float:left;margin-left: 25%;width:22%">
                                                            <em style="color: grey;">{!$Label.No_Considera_Futuro}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                        </div> 
                                                        <!--<div id="sliderFuturoCliente" style="width:25%;float: left;margin-top: 0.5%;"></div> -->
                                                        <div style="float:left;">
                                                            <apex:selectRadio value="{!relacionInstitucional4}"> 
                                                                
                                                                <apex:selectOptions value="{!respuestas}"/>
                                                                
                                                            </apex:selectRadio>
                                                        </div>
                                                        
                                                        <div >
                                                            <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{!$Label.Principal_Socio_Futuro}
                                                            </em>
                                                        </div>
                                                        
                                                        <!--<apex:inputField label="" styleClass="cuartoInput" style="display:none" value="{!fourPlanning.esta_en_el_futuro_del_cliente__c}" />-->
                                                    </td>
                                                </tr>
                                                
                                                <tr class="bordesDeTabla">
                                                    <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                        <label>{!$Label.Planes_Cliente}</label>
                                                    </th>
                                                    <td class="data2Col first">
                                                        
                                                    </td>
                                                </tr>
                                                <tr class="bordesDeTabla">
                                                    <td class="data2Col first">
                                                        <div style="float:left;margin-left: 25%;width:22%">
                                                            <em style="color: grey;">{!$Label.No_los_conozco}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                        </div> 
                                                        <!--<div id="sliderPlanesEstrategicos" style="width:25%;float: left;margin-top: 0.5%;"></div> -->
                                                        <div style="float:left;">
                                                            <apex:selectRadio value="{!relacionInstitucional5}"> 
                                                                
                                                                <apex:selectOptions value="{!respuestas}"/>
                                                                
                                                            </apex:selectRadio>
                                                        </div>
                                                        
                                                        <div >
                                                            <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{!$Label.Son_Compartidos_Telefonica}
                                                            </em>
                                                        </div>
                                                        
                                                        <!--<apex:inputField label="" styleClass="quintoInput" style="display:none" value="{!fourPlanning.lanes_estrat_gicos_de_tu_cliente__c}" />-->
                                                    </td>
                                                </tr>
                                                
                                            </tbody>
                                        </table>
                                        
                                    </apex:outputPanel>
                                    
                                    
                                    <!--                                    
<apex:inputField value="{!fourPlanning.Area_que_fracasamos_en_el_pasado__c}" label="{!$Label.Existen_reas_en_el_cliente_con_las_que_teniendo_productos_y_soluciones_no_es}" />

<apex:inputField value="{!fourPlanning.Mejoraria_Relacion_Con_El_Cliente__c}" label="{!$Label.En_las_reas_con_las_que_tenemos_relaci_n_Crees_que_esta_mejorar_a_si_tuvi_sem}" />

-->
                                    
                                    <!-- cuestionario oculto, solo se va a mostrar si la pregunta superior se responde como no. --> 
                                    <!-- solo se muestra si el subsector es banca -->
                                    <apex:outputPanel rendered="{!renderBanca}" >
                                        <apex:outputPanel styleClass="cuestionarioOculto ocultar" >
                                            
                                            
                                            <table class="detailList" border="0" cellpadding="0" cellspacing="0">
                                                <tbody>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                            <label></label>
                                                        </th>
                                                        <td class="data2Col first">
                                                            
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                            <label>{!$Label.Que_tipo_de_banca_realiza}</label>
                                                        </th>
                                                        <td class="data2Col first">
                                                            <apex:inputField value="{!fourPlanning.Tipo_de_Banca__c}"/>
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__cu_l_es_su_mbito_de_actuaci_n}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.Numero_de_sucursales__c}"/>
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__cu_l_es_el_n_mero_de_empleados}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.Numero_de_Empleados__c}"/>
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__tipos_de_canales_que_dispone}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.Canal_que_Dispone__c}"/>
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap tituloLabel" scope="row">
                                                            <label><b>{!$Label.certa_scp__importancia_en_el_banco}</b><i style="color:hsla(0,0%,67%,1);"> {!$Label.certa_scp__x1_menos_importante_5_mas_importante}</i></label>
                                                        </th>
                                                        <td class="data2Col">
                                                            
                                                        </td>      
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__web_banking}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.Importancia_web__c}"/>
                                                        </td>      
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__red_de_cajeros}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.Importancia_red_de_cajeros__c}"/>
                                                        </td>      
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__banca_movil}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.importancia_banca_movil__c}"/>
                                                        </td>      
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__crecimiento_y_transformaci_n_de_oficinas}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.Importancia_crecimiento_oficinas__c}"/>
                                                        </td>      
                                                    </tr>  
                                                </tbody>
                                            </table>
                                            
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                    
                                    <!-- solo se muestra si el subsector es mineria -->
                                    <apex:outputPanel rendered="{!renderMineria}" >
                                        <apex:outputPanel styleClass="cuestionarioOculto ocultar" >
                                            
                                            
                                            <table class="detailList" border="0" cellpadding="0" cellspacing="0">
                                                <tbody>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                            <label></label>
                                                        </th>
                                                        <td class="data2Col first">
                                                            
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                            <label>{!$Label.Qu_tipo_de_Extracci_n_realiza}</label>
                                                        </th>
                                                        <td class="data2Col first">
                                                            <apex:inputField value="{!fourPlanning.Tipo_de_Extraccion__c}"/>
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__cu_l_es_el_volumen_de_extracci_n}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.Volumen_de_Extraccion__c}"/>
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__cu_l_es_el_volumen_de_producci_n}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.Volumen_de_Produccion__c}"/>
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__log_stica_tiene_flota_de_vehiculos_propia}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.flota_vehiculos_propios__c}"/>
                                                        </td>
                                                    </tr>
                                                    <tr class="bordesDeTabla">
                                                        <th class="labelCol vfLabelColTextWrap" scope="row">
                                                            <label>{!$Label.certa_scp__log_stica_tiene_centro_de_distribuci_n_propio}</label>
                                                        </th>
                                                        <td class="data2Col">
                                                            <apex:inputField value="{!fourPlanning.centro_distribucion_propia__c}"/>
                                                        </td>      
                                                    </tr>
                                                </tbody>
                                            </table>
                                            
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                    
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                        </div>
                        
                        <!-- Hitos Relevantes ------------------------------------------------------------------------- -->
                        <div id="div-Risks" class="tab-pane fade">
                            <apex:pageBlock title="" mode="maindetail" id="hitosRelevantes">
                                <apex:pageBlockSection title="{!$Label.certa_scp__hitos_relevantes}" columns="1">
                                    
                                    <apex:inputField value="{!fourPlanning.Vencimiento_Datos_Fijos__c}" label="{!$Label.certa_scp__fecha_de_vencimiento_de_contratos_de_datos_fijos}" />
                                    
                                    <apex:inputField value="{!fourPlanning.Fecha_Vencimiento_Contratos_Voz_Fija__c}" label="{!$Label.certa_scp__fecha_vencimiento_contratos_voz_fija}"/>
                                    
                                    <apex:inputField value="{!fourPlanning.Vencimiento_Servicios_Moviles__c}" label="{!$Label.certa_scp__fecha_de_vencimiento_de_contrato_de_servicios_m_viles}" />
                                    
                                    
                                    <apex:outputText label="{!$Label.certa_scp__fecha_de_vencimiento_de_contratos_de_otros_servicios}">
                                        <apex:inputField value="{!fourPlanning.Vencimiento_Otros_Servicios__c}"/>&nbsp;&nbsp;
                                        {!$Label.Servicio} &nbsp;
                                        <apex:inputField value="{!fourPlanning.Otros_Servicios__c}"/>
                                        
                                    </apex:outputText> 
                                    
                                    
                                    <apex:inputField rendered="{!esSectorPublico}" value="{!fourPlanning.Le_afectan_los_cambios_politicos__c}" label="{!$Label.certa_scp__afectan_cambios_politicos}" />
                                    
                                    <apex:inputField rendered="{!esSectorPublico}" value="{!fourPlanning.Compra_de_caracter_politico_o__c}" label="{!$Label.certa_scp__persona_decision_servicios}" />
                                    
                                    <apex:outputText label="{!$Label.certa_scp__a_qu_evento_de_telef_nica_vas_a_invitar_al_cliente}">
                                        <apex:inputField value="{!fourPlanning.Evento_telefonica_cliente__c}"/>&nbsp;&nbsp;
                                        {!$Label.certa_scp__fecha_del_evento}&nbsp;
                                        <apex:inputField value="{!fourPlanning.Fecha_Evento__c}"/>
                                        
                                    </apex:outputText> 
                                    
                                    <apex:outputText label="{!$Label.certa_scp__otros_hitos_relevantes}">     
                                    </apex:outputText> 
                                    
                                    <apex:pageBlockSectionItem >
                                        <apex:outputPanel layout="none" >
                                            <table style="width: 60%;margin-left: 19%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                                <thead>
                                                    <tr>
                                                        <th>
                                                            {!$Label.certa_scp__description}
                                                        </th>
                                                        <th style="width: 10%;padding-left: 0;text-align: center;">
                                                            {!$Label.certa_scp__fecha} 
                                                        </th>
                                                        <th style="padding-left : 0% !important;text-align: center;">
                                                            {!$Label.certa_scp__categoria}
                                                        </th>
                                                        <th>
                                                            
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <apex:variable var="c" value="{!0}"/>
                                                    <apex:repeat value="{!hitos}" var="hito" id="number">
                                                        <tr>
                                                            <td id="elemento - {!c+1}">
                                                                <apex:variable var="c" value="{!c+1}"/>
                                                                <apex:outputText value="{!hito.Descripcion__c}"/>
                                                            </td>
                                                            <td>
                                                                <apex:outputText value="{0,date,dd/MM/yyyy}"> <apex:param value="{!hito.Fecha__c}" /> </apex:outputText>
                                                            </td>
                                                            <td >
                                                                <apex:outputField value="{!hito.Categoria__c}"/>
                                                            </td>
                                                            <td>
                                                                <apex:commandButton styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__delete}" reRender="hitosRelevantes" action="{!BorrarHito}">
                                                                    <apex:param assignTo="{!hitoABorrarId}" name="delid" value="{!hito.id}"/>
                                                                </apex:commandButton>
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                </tbody>
                                            </table>  
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                    
                                    <apex:outputText >
                                        <button style="margin-left: 67%;" type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalHito">
                                            <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;{!$Label.Nuevo_Hito_Relevante}
                                        </button>
                                        <br/>
                                    </apex:outputText>
                                    
                                    
                                    <table class="detailList" border="0" cellpadding="0" cellspacing="0">
                                        <tbody>
                                            <tr class="bordesDeTabla">
                                                <th class="labelCol vfLabelColTextWrap first" scope="row">
                                                    <label>{!$Label.Porcentaje_Facturacion_Cliente}</label>
                                                </th>
                                                <td class="data2Col first">
                                                    
                                                </td>
                                            </tr>
                                            <tr class="bordesDeTabla">
                                                <td class="data2Col first" style="width:100%">
                                                    <div style="float:left;margin-left: 15%;width:10%;">
                                                        <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                    </div> 
                                                    <div id="porcentajeFacturacion" style="width:50%;float: left;margin-top: 0.5%;">
                                                        <div id="custom-handle" class="ui-slider-handle"></div>
                                                    </div> 
                                                    <div >
                                                        <em style="color: grey;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</em>
                                                    </div>
                                                    
                                                    <apex:inputField label="" styleClass="porcentajeFacturacion" style="display:none" value="{!fourPlanning.facturacion_cliente_garantizada__c}" />
                                                </td>
                                            </tr>
                                            
                                        </tbody>
                                    </table>
                                    
                                    
                                    
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                        </div>
                        
                        <!-- BackShop --------------------------------------------------------------------------------- -->
                        <div id="div-backshop" class="tab-pane fade">
                            <apex:pageBlock title="" mode="maindetail" id="eventosBackShop">
                                <apex:pageBlockSection title="BackShop" columns="1">
                                    
                                    <div style = "width: 98%;" class="center-block alert alert-info" role="alert">
                                        <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
                                        {!$Label.Recibiras_Informacion}
                                    </div>
                                    
                                    
                                    <apex:repeat value="{!wppEventos}" var="wppEvento" >                                        
                                        <apex:outputPanel >
                                            <br/>
                                            <div style="width:90%;margin-left:5%">
                                                <div class="panel panel-default">
                                                    <!-- Default panel contents -->
                                                    <div class="panel-heading" style="background-color: rgba(128, 128, 128, 0.12)">
                                                        <apex:outputField value="{!wppEvento.evento.name}" />
                                                        <!--
<apex:outputField style="margin-left:78%;font-weight: 600;font-size: 13px;" value="{!evento.createdDate}"/>
-->
                                                    </div>
                                                    <div class="panel-body">
                                                        <p><apex:outputField value="{!wppEvento.evento.Descripcion__c}"/></p>
                                                    </div>
                                                    
                                                </div>
                                                
                                                <ul class="list-group">
                                                    <li class="list-group-item"><apex:outputField value="{!wppEvento.evento.Link__c}" /></li>
                                                    
                                                    <apex:outputPanel id="panelBotonBackShop" rendered="{!wppEvento.historial == null}">
                                                        <li class="list-group-item">
                                                            {!$Label.certa_scp__informacion_utilidad}
                                                            
                                                            <apex:commandButton style="margin-left:1%" styleClass="btn btn-default btn-xs" value="{!$Label.certa_scp__si}" reRender="eventosBackShop, panelBotonBackShop, panelRespuestaBackShop" action="{!crearEventoUtil}">
                                                                <apex:param assignTo="{!idDelEvento}" name="idDelEvento" value="{!wppEvento.evento.id}"/>
                                                            </apex:commandButton>
                                                            
                                                            <apex:commandButton style="margin-left:1%" styleClass="btn btn-default btn-xs" value="{!$Label.certa_scp__no}" reRender="eventosBackShop, panelBotonBackShop, panelRespuestaBackShop" action="{!crearEventoInutil}">
                                                                <apex:param assignTo="{!idDelEvento}" name="idDelEvento" value="{!wppEvento.evento.id}"/>
                                                            </apex:commandButton>
                                                            
                                                        </li>
                                                    </apex:outputPanel>
                                                    <apex:outputPanel id="panelRespuestaBackShop" rendered="{!wppEvento.historial != null}">
                                                        
                                                        <li class="list-group-item">
                                                            {!$Label.certa_scp__informacion_utilidad}
                                                            
                                                            <apex:outputText rendered="{!wppEvento.historial.Es_de_utilidad__c}">
                                                                {!$Label.certa_scp__si} 
                                                                
                                                                <apex:commandButton style="margin-left:1%" styleClass="btn btn-default btn-xs" value="{!$Label.certa_scp__no}" reRender="eventosBackShop, panelBotonBackShop, panelRespuestaBackShop" action="{!actualizarEventoUtil}">
                                                                    <apex:param assignTo="{!idDelEvento}" name="idDelEvento" value="{!wppEvento.evento.id}"/>
                                                                    
                                                                </apex:commandButton> 
                                                                
                                                                <li class="list-group-item" >
                                                                    
                                                                    <apex:outputText rendered="{! !wppEvento.historial.NoSeUtilizo__c}">
                                                                        {!$Label.certa_scp__informacion_ayuda_negocio}
                                                                        
                                                                        <apex:commandButton style="margin-left:1%" styleClass="btn btn-default btn-xs" value="{!$Label.certa_scp__si}" reRender="eventosBackShop, panelBotonBackShop, panelRespuestaBackShop"  action="{!IdentificaNegocio}" oncomplete="botonSi();">
                                                                            <apex:param assignTo="{!idDelEvento}" name="idDelEvento" value="{!wppEvento.evento.id}"/>
                                                                        </apex:commandButton>
                                                                        
                                                                        <apex:commandButton style="margin-left:1%" styleClass="btn btn-default btn-xs" value="{!$Label.certa_scp__no}" reRender="eventosBackShop, panelBotonBackShop, panelRespuestaBackShop" action="{!NoIdentificaNegocio}">
                                                                            <apex:param assignTo="{!idDelEvento}" name="idDelEvento" value="{!wppEvento.evento.id}"/>
                                                                        </apex:commandButton>
                                                                    </apex:outputText>
                                                                    
                                                                    <apex:outputText rendered="{!wppEvento.historial.NoSeUtilizo__c}">
                                                                        {!$Label.certa_scp__informacion_ayuda_negocio}  
                                                                        <apex:outputText rendered="{! wppEvento.historial.Identificar_Negocio__c}">
                                                                            {!$Label.certa_scp__si}
                                                                            
                                                                            <apex:commandButton style="margin-left:1%" styleClass="btn btn-default btn-xs" value="{!$Label.certa_scp__no}" reRender="eventosBackShop, panelBotonBackShop, panelRespuestaBackShop" action="{!NoIdentificaNegocio}">
                                                                                <apex:param assignTo="{!idDelEvento}" name="idDelEvento" value="{!wppEvento.evento.id}"/>
                                                                            </apex:commandButton>
                                                                        </apex:outputText>
                                                                        
                                                                        <apex:outputText rendered="{! !wppEvento.historial.Identificar_Negocio__c}">
                                                                            {!$Label.certa_scp__no}
                                                                            
                                                                            <apex:commandButton style="margin-left:1%" styleClass="btn btn-default btn-xs" value="{!$Label.certa_scp__si}" reRender="eventosBackShop, panelBotonBackShop, panelRespuestaBackShop" action="{!IdentificaNegocio}" oncomplete="botonSi();">
                                                                                <apex:param assignTo="{!idDelEvento}" name="idDelEvento" value="{!wppEvento.evento.id}"/>
                                                                            </apex:commandButton>
                                                                            <li class="list-group-item">
                                                                                
                                                                                {!$Label.certa_scp__por_que}
                                                                                <br/>
                                                                                
                                                                                <apex:inputField label="dasdasd" value="{!wppEvento.historial.Por_que_no_negocio__c}"/>
                                                                                
                                                                                
                                                                            </li>
                                                                        </apex:outputText>
                                                                        
                                                                        
                                                                    </apex:outputText>   
                                                                </li>
                                                                
                                                                
                                                                
                                                            </apex:outputText>
                                                            
                                                            <apex:outputText rendered="{! !wppEvento.historial.Es_de_utilidad__c}">
                                                                {!$Label.certa_scp__no} 
                                                                
                                                                <apex:commandButton style="margin-left:1%" styleClass="btn btn-default btn-xs" value="{!$Label.certa_scp__si}" reRender="eventosBackShop, panelBotonBackShop, panelRespuestaBackShop" action="{!actualizarEventoInutil}">
                                                                    <apex:param assignTo="{!idDelEvento}" name="idDelEvento" value="{!wppEvento.evento.id}"/>
                                                                </apex:commandButton>
                                                                
                                                                <li class="list-group-item">
                                                                    
                                                                    {!$Label.certa_scp__por_que}
                                                                    <br/>
                                                                    
                                                                    <apex:inputField value="{!wppEvento.historial.Por_que_no_util__c}"/>
                                                                    
                                                                    
                                                                </li>  
                                                                
                                                                
                                                            </apex:outputText>
                                                        </li>
                                                        
                                                    </apex:outputPanel>
                                                    
                                                </ul>
                                            </div>
                                        </apex:outputPanel>
                                        
                                    </apex:repeat>                                    
                                    
                                </apex:pageBlockSection>
                            </apex:pageBlock>
                        </div>
                        
                        <!-- Wallet share (proximamente vencimientos) ---------------------------------------------------------------------- -->
                        <div id="div-presupuesto" class="tab-pane fade">
                            <apex:pageBlock title="" mode="maindetail" id="presupuesto">
                                
                                
                                <apex:pageBlockSection id="todo" title="Cobertura del Portfolio y Vencimientos" columns="1">
                                    
                                    
                                    <apex:pageBlockSectionItem >
                                        <apex:outputPanel id="panelSoluciones" layout="none"  >
                                            
                                            
                                            <ul class="nav nav-tabs" role="tablist">
                                                <li role="presentation" class="active"><a href="#area1" aria-controls="area1" role="tab" data-toggle="tab">Vencimientos</a></li>
                                                <li role="presentation"><a href="#area2" aria-controls="area2" role="tab" data-toggle="tab">Cobertura de Portfolio</a></li>
                                            </ul>
                                            
                                            <div class="tab-content">
                                                <div role="tabpanel" class="tab-pane active fade in" id="area1">
                                                    <!-- asd -->
                                                    <br/>
                                                    <br/>
                                                    <!-- center a div inside a div-->
                                                    <div style="display: flex;
                                                                justify-content: center;
                                                                align-items: center; ">
                                                        
                                                        <div id="vencimientos" style="width: 1250px;">    
                                                        </div>
                                                        
                                                    </div>
                                                    <script>
                                                    
                                                    // Vencimientos Fijos.
                                                    
                                                    var todosLosVencimientos = [];
                                                    
                                                    var vencimientosFijos = {!vencimientosFijosJson};
                                                    
                                                    console.log('aca abajo las fechas');
                                                    console.log({!fechasJson});
                                                    
                                                    var xFijos = [];
                                                    var yFijos = [];
                                                    for(i=0; i< vencimientosFijos.length ; i++){
                                                        todosLosVencimientos.push(vencimientosFijos[i]);
                                                        xFijos.push(vencimientosFijos[i].mes);
                                                        yFijos.push(vencimientosFijos[i].fcv);
                                                    }
                                                    
                                                    var fijos = {
                                                        x: xFijos,
                                                        y: yFijos,
                                                        name: 'Fija',
                                                        type: 'bar'
                                                    };
                                                    
                                                    // Vencimientos Movil.
                                                    var vencimientosMovil = {!vencimientosMovilJson};
                                                    
                                                    var xMovil = [];
                                                    var yMovil = [];
                                                    for(i=0; i< vencimientosMovil.length ; i++){
                                                        todosLosVencimientos.push(vencimientosMovil[i]);
                                                        xMovil.push(vencimientosMovil[i].mes);
                                                        yMovil.push(vencimientosMovil[i].fcv);
                                                    }
                                                    
                                                    console.log(xMovil);
                                                    console.log(yMovil);
                                                    
                                                    var movil = {
                                                        x: xMovil,
                                                        y: yMovil,
                                                        name: 'Movil',
                                                        type: 'bar'
                                                    };
                                                    
                                                    // Servicios Digitales.
                                                    var vencimientosDigitales = {!vencimientosServiciosDigitalesJson};
                                                    
                                                    
                                                    var xDigital = [];
                                                    var yDigital = [];
                                                    for(i=0; i< vencimientosDigitales.length ; i++){
                                                        todosLosVencimientos.push(vencimientosDigitales[i]);
                                                        xDigital.push(vencimientosDigitales[i].mes);
                                                        yDigital.push(vencimientosDigitales[i].fcv);
                                                    }
                                                    
                                                    var digital = {
                                                        x: xDigital,
                                                        y: yDigital,
                                                        name: 'Servicios Digitales',
                                                        type: 'bar'
                                                    };
                                                    
                                                    // Otros.
                                                    var vencimientosOtros = {!vencimientosOtrosJson};
                                                    
                                                    vencimientosOtros.sort(function(a, b) { 
                                                        return a.claveOrdenar - b.claveOrdenar;
                                                    })
                                                    
                                                    console.log('la de aca abajo');
                                                    console.log(vencimientosOtros);
                                                    
                                                    var xOtros = [];
                                                    var yOtros = [];
                                                    for(i=0; i< vencimientosOtros.length ; i++){
                                                        todosLosVencimientos.push(vencimientosOtros[i]);
                                                        xOtros.push(vencimientosOtros[i].mes);
                                                        yOtros.push(vencimientosOtros[i].fcv);
                                                    }
                                                    
                                                    console.log(xOtros);
                                                    console.log(yOtros);
                                                    
                                                    console.log('todos los vencimientos:');
                                                    console.log(todosLosVencimientos);
                                                    
                                                    todosLosVencimientos.sort(function(a, b) { 
                                                        return a.claveOrdenar - b.claveOrdenar;
                                                    })
                                                    
                                                    var todosLosx = [];
                                                    for(i=0; i< todosLosVencimientos.length ; i++){
                                                        todosLosx.push(todosLosVencimientos[i].mes);
                                                    }
                                                    
                                                    
                                                    var uniqueNames = [];
                                                    $j.each(todosLosx, function(i, el){
                                                        if($j.inArray(el, uniqueNames) === -1) uniqueNames.push(el);
                                                    });
                                                    
                                                    var otros = {
                                                        x: xOtros,
                                                        y: yOtros,
                                                        name: 'Otros',
                                                        type: 'bar'
                                                    };
                                                    
                                                    
                                                    var data = [fijos, movil, digital, otros];
                                                    
                                                    uniqueNames = {!fechasJson};
                                                    
                                                    var layout = {
                                                        width: 1250,
                                                        barmode: 'stack',
                                                        xaxis: {
                                                            categoryorder:'array',
                                                            categoryarray: uniqueNames,
                                                        }        
                                                    };
                                                    
                                                    Plotly.newPlot('vencimientos', data, layout, {displayModeBar: true, displaylogo: false, showlegend: false, modeBarButtonsToRemove: ['toImage','sendDataToCloud','zoom2d','select2d','lasso2d','hoverClosestCartesian','hoverCompareCartesian','autoScale2d'] });
                                                    </script>
                                                    
                                                    <div style="overflow: auto;max-height: 120vh;">
                                                        <table id="mainOppsTable" style="width: 90%;margin-left: 5%;margin-bottom: 0px;" class ="table table-striped table-bordered table-condensed">
                                                            <thead>
                                                                <tr>
                                                                    <th class="thVencimiento">
                                                                        Nombre de la Oportunidad
                                                                    </th>
                                                                    <th class="thVencimiento">
                                                                        Linea de Negocio
                                                                    </th>
                                                                    <th class="thVencimiento">
                                                                        Fecha Fin de Contrato
                                                                    </th>
                                                                    <th class="thVencimiento">
                                                                        Venta Bruta Total (FCV)
                                                                    </th>
                                                                    <th class="thVencimiento">
                                                                        Link 
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <apex:repeat value="{!wrapersOportunidadesVencimientos}" var="opp">
                                                                <tr>
                                                                    <td style="text-align:center">
                                                                        {!opp.name}
                                                                    </td>
                                                                    <td style="text-align:center">
                                                                        {!opp.lineaDeNegocio}
                                                                    </td>
                                                                    <td style="text-align:center">
                                                                        <apex:outputText value="{0,date,dd/MM/yy}"> 
                                                                            <apex:param value="{!opp.fecha}" /> 
                                                                        </apex:outputText> 
                                                                        
                                                                    </td>
                                                                    <td style="text-align:center">
                                                                        

                                                                        <apex:outputField value="{!opp.opp.currency2__c}" />
																		
                                                                        <apex:outputText rendered="{!opp.fcv = null}">0</apex:outputText>
                                                                    </td>
                                                                    <td style="text-align:center">
                                                                        <apex:outputLink value="/{!opp.id}">Ir a la Oportunidad</apex:outputLink>
                                                                    </td>
                                                                </tr>
                                                            </apex:repeat>
                                                        </table>
                                                        
                                                    </div>
                                                </div>
                                                <div role="tabpanel" class="tab-pane fade out" id="area2">
                                                    <br/>
                                                    <button type="button" class="btn btn-default btn-sm pull-right" data-toggle="modal" data-target="#myModalNuevoVencimiento">
                                                        <span class="glyphicon glyphicon-plus icon-btn-left"></span>&nbsp;Nuevo Servicio
                                                    </button>    
                                                    
                                                    <br/>
                                                    <apex:outputPanel id="tablaPortfolio">
                                                        <table id="tablaSoluciones" style="width: 90%;margin-left: 6%;margin-bottom: 0px;margin-top: 45px;" class ="table table-striped table-bordered table-condensed">
                                                            <thead>
                                                                <tr>
                                                                    <th style= "font-weight: bold; color: white; width: 20%;padding-left: 0;text-align: center; font-size: 14px; height:32px; background-color: #1a3a54;">Rama Local</th>
                                                                    <th style= "font-weight: bold; color: white; width: 20%;padding-left: 0;text-align: center; background-color: #1a3a54;">Familia Local</th>
                                                                    <th style= "font-weight: bold; color: white; width: 20%;padding-left: 0;text-align: center; background-color: #1a3a54;">Status</th>
                                                                    <th style= "font-weight: bold; color: white; width: 20%;padding-left: 0;text-align: center; background-color: #1a3a54;">Proveedor Actual</th>
                                                                    <th style= "font-weight: bold; color: white; width: 10%;padding-left: 0;text-align: center; background-color: #1a3a54;">Agregar/Vincular Reto </th>
                                                                    <th style= "font-weight: bold; color: white; width: 10%;padding-left: 0;text-align: center; background-color: #1a3a54;"></th>
                                                                    
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <apex:repeat value="{!solucionesEnCuenta}" var="sol">
                                                                    <tr>
                                                                        <td style="text-align: center; vertical-align:middle;">
                                                                            <apex:outputField value="{!sol.TipoSolucion__r.Linea_de_Servicio__r.Name}">
                                                                            </apex:outputField>
                                                                        </td>
                                                                        <td style="text-align: center; vertical-align:middle;">
                                                                            <apex:outputField value="{!sol.TipoSolucion__r.Name}">
                                                                            </apex:outputField>
                                                                        </td>
                                                                        <td id="{!sol.id}" style="text-align: center;vertical-align:middle;
                                                                                                  border: 1px solid #cfd0d2;
                                                                                                  background-color:
                                                                                                  {!IF(sol.estado__c = 'Oportunidades Ganadas', '#337ab7',
                                                                                                  IF(sol.estado__c = 'Oportunidades en Funnel','green',
                                                                                                  IF(sol.estado__c = 'Lineas de trabajo Priorizadas','orange',
                                                                                                  IF(sol.estado__c = 'Lineas a Explorar','grey',
                                                                                                  IF(sol.estado__c = 'Lineas que no Aplican en el Cliente','red','black')))))}"
                                                                            >
                                                                            
                                                                            <apex:inputField styleClass="{!sol.id}" style="width: 100%;" value="{!sol.Estado__c}" onchange="cambiarColor('{!sol.id}')"/>
                                                                            
                                                                        </td>
                                                                        <td style="text-align: center;vertical-align:middle;">
                                                                            <apex:outputField value="{!sol.Proveedor__c}">
                                                                                <apex:inlineEditSupport event="ondblclick"/>
                                                                            </apex:outputField>
                                                                        </td>
                                                                        
                                                                        <td style="text-align: center;vertical-align:middle;">
                                                                            <apex:outputPanel rendered="{!sol.Reto__c == null}" style="vertical-align:middle;">
                                                                                <button   type="button" onclick="setearValorIdDeSolucionActual('{!sol.id}')" class="btn btn-default btn-sm" style="vertical-align:middle;" data-toggle="modal" data-target="#myModalSoluciones">
                                                                                    <span class="glyphicon glyphicon-plus icon-btn-left" style="vertical-align:middle;"></span>
                                                                                </button>
                                                                            </apex:outputPanel>
                                                                            
                                                                            <apex:outPutPanel rendered="{!sol.Reto__c != null}">
                                                                                <apex:outputText value="{!sol.Reto__r.Nombre_del_Reto__c}" style="vertical-align:middle;width:80%;"/>&nbsp; &nbsp;
                                                                                
                                                                                <apex:commandButton style="vertical-align:middle; width:13%;" styleClass="btn btn-default btn-sm" value="X" reRender="todo, tablaModalRetos" action="{!desvincularReto}">
                                                                                    
                                                                                    <apex:param assignTo="{!solucionADesvincular}" name="solucionADesvincular" value="{!sol.id}"/>
                                                                                    
                                                                                </apex:commandButton>   
                                                                                
                                                                            </apex:outPutPanel>
                                                                            
                                                                            
                                                                        </td>
                                                                        <td style="text-align:center;">
                                                                            <apex:commandButton styleClass="btn btn-default btn-sm" value="{!$Label.certa_scp__delete}" reRender="tablaPortfolio" action="{!borrarSolucionEnCuenta}">
                                                                                <apex:param assignTo="{!delid}" name="delid" value="{!sol.id}"/>
                                                                            </apex:commandButton>
                                                                        </td>
                                                                    </tr>
                                                                </apex:repeat>
                                                            </tbody>
                                                        </table> 
                                                    </apex:outputPanel>
                                                    <br/>
                                                    <br/>
                                                    
                                                    
                                                </div>
                                            </div>
                                            
                                        </apex:outputPanel>
                                    </apex:pageBlockSectionItem>
                                    
                                    
                                </apex:pageBlockSection>
                                
                                
                                
                                <!--    <apex:pageBlockSection rendered="{!(WrappersOportunidadesParaElGraficoAnioAnterior.size>0 || WrappersOportunidadesParaElGraficoAnioActual.size>0)}"  title="Informe de Ventas" columns="1">

<div class="panel-heading" style="background-color: #d9edf2; height:50px;">
Informe de ventas por línea de negocio
</div>

<apex:outputPanel rendered="{! WrappersOportunidadesParaElGraficoAnioAnterior.size>0 }">
<div id="graficoOportunidadesAnioAnterior" style="width: 440px; height: 440px; margin-left: 210px; margin-bottom: 1%;">-->
                                <!-- Plotly chart will be drawn inside this DIV -->
                                <!--    </div>

<script>

var nombres = [];
var valores = [];
var lista = {!listaOportunidadesJsonAnioAnterior};


console.log(lista);


for (i = 0; i < lista.length; i++) {
    nombres.push(lista[i].lineaDeNegocio);
    valores.push(lista[i].Nav);
}


var data = [{
    
    values: valores,
    labels: nombres,
    
    type: 'pie',
    sort: false
}];

var layout = {
    title: 'Ventas por línea de negocio 2016',
    height:450,
    width: 640
};

Plotly.newPlot('graficoOportunidadesAnioAnterior', data, layout, {displayModeBar: false});
</script> 
</apex:outputPanel>

<apex:outputPanel rendered="{! WrappersOportunidadesParaElGraficoAnioActual.size>0 }">
<div id="graficoOportunidadesAnioActual" style="width: 440px; height: 440px; margin-left: 210px; margin-bottom: 1%;">
<!-- Plotly chart will be drawn inside this DIV -->
                                <!--   </div>

<script>

var nombres = [];
var valores = [];
var lista = {!listaOportunidadesJsonAnioActual};


console.log(lista);


for (i = 0; i < lista.length; i++) {
    nombres.push(lista[i].lineaDeNegocio);
    valores.push(lista[i].Nav);
}


var data = [{
    
    values: valores,
    labels: nombres,
    
    type: 'pie',
    sort: false
}];

var layout = {
    title: 'Ventas por línea de negocio 2017',
    height:450,
    width: 640
};

Plotly.newPlot('graficoOportunidadesAnioActual', data, layout, {displayModeBar: false});
</script> 

</apex:outputPanel>


</apex:pageBlockSection>


<apex:pageBlockSection title="Wallet-Share" columns="1">


<apex:outputPanel rendered="{!listaFinalPresupuestos.size > 0}">
<div class="panel-heading" style="background-color: #d9edf2;">
Presupuestos Generales

<div class="btn-group pull-right" role="group" aria-label="...">
<button type="button" class="btn btn-default" onclick="cambioTotalesADonuts();" >Gráfico Donuts</button>
<button type="button" class="btn btn-default" onclick="cambioTotalesABarras();">Gráfico Barras</button>

</div>

</div>


<apex:outputPanel rendered="{!totalBarras}">
<!--<div id="myDiv2-{!pre.anio}" style="width: 480px; height: 490px; margin-left: 19%; margin-bottom: 1%;">
<!-- Plotly chart will be drawn inside this DIV 
</div>-->
                                <!--
<div id="myDivX" style="width: 480px; height: 590px; margin-left: 17%; margin-bottom: 1%;">
<!-- Plotly chart will be drawn inside this DIV -->
                                <!--   </div>

<script>

var data = [];
var lista = {!listaPresupuestosJson};


console.log(lista);


for (i = 0; i < lista.length; i++) { 
    
    var trace1 = {
        x: ['Telefónica', 'Disponible', 'Competencia'],
        y: [lista[i].nosotros, lista[i].disponible, lista[i].competencia],
        name: 'Año ' + lista[i].anio,
        type: 'bar'
    };
    
    
    data.push(trace1);
    
}



var layout = {barmode: 'group',
              height:600,
              width: 790
             };

Plotly.newPlot('myDivX', data, layout, {displayModeBar: false});


</script>



</apex:outputPanel>




<apex:outputPanel rendered="{!totalDonuts}" >

<apex:repeat value="{!listaFinalPresupuestos}" var="pre" >                                        


<div id="myDiv-{!pre.anio}" style="width: 480px; height: 490px; margin-left: 19%; margin-bottom: 1%;">
<!-- Plotly chart will be drawn inside this DIV -->
                                <!--  </div>

<script>
var data = [{
    
    values: [{!pre.nosotros}, {!pre.competencia}, {!pre.disponible}],
    labels: ['Total Telefónica', 'Total Competencia', 'Total Disponible'],
    marker: {
        colors:['rgba(14, 127, 0, .5)', 'rgba(204, 0, 0, .5)','rgba(221, 232, 0, .5)'],
    },
    type: 'pie',
    hole: .4,
    sort: false
}];

var layout = {
    title: 'Presupuesto Total Año ' + {!pre.anio},
    height:500,
    width: 690
};

Plotly.newPlot('myDiv-{!pre.anio}', data, layout, {displayModeBar: false});
</script>







</apex:repeat>
</apex:outputPanel> 

</apex:outputPanel>

<br/>
<br/>

<div class="panel-heading" style="background-color: #d9edf2;">
Presupuestos Parciales &nbsp;&nbsp;



<button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModalPresupuesto">
<span class="glyphicon glyphicon-plus icon-btn-right"></span>&nbsp;Nuevo Presupuesto
</button>


<div class="btn-group pull-right" role="group" aria-label="...">
<button type="button" class="btn btn-default" onclick="cambioTodosADonuts();" >Gráfico Donuts</button>
<button type="button" class="btn btn-default" onclick="cambioTodosABarras();">Gráfico Barras</button>

</div>

</div>


<apex:repeat value="{!presupuestos}" var="pre" >                                        

<apex:outputPanel >
<br/>
<div style="width:90%;margin-left:5%">
<div class="panel panel-default">
<!-- Default panel contents -->
                                <!--    <div class="panel-heading" style="background-color: rgb(177, 218, 237)">
Categoría:&nbsp;<apex:outputField value="{!pre.Categoria__c}" /> (Año&nbsp;<apex:outputField value="{!pre.Anio__c}" />)<apex:commandButton style="margin-left: 88%;" styleClass="btn btn-default btn-sm" value="Borrar Presupuesto" rerender="presupuesto" action="{!BorrarPresupuesto}">
<apex:param assignTo="{!presupuestoABorrarId}" name="delid" value="{!pre.id}"/>
</apex:commandButton>
</div>
<div id="textos" style="float: left; margin-top: 6%;">



<div class="panel-body">
<p>Monto total: <apex:outputText value="{!monedaDeLaCuenta}" />&nbsp;<apex:outputField value="{!pre.Presupuesto_Total__c}"><apex:inlineEditSupport event="ondblclick" /></apex:outputField></p>
</div>
<div class="panel-body">
<p>Cuanto tenemos nosotros: <apex:outputText value="{!monedaDeLaCuenta}" />&nbsp;<apex:outputField value="{!pre.Presupuesto_Nosotros__c}"><apex:inlineEditSupport event="ondblclick"/></apex:outputField></p>
</div>

<div class="panel-body">
<p>Cuanto tiene la competencia: <apex:outputText value="{!monedaDeLaCuenta}" />&nbsp;<apex:outputField value="{!pre.Presupuesto_Competencia__c}"><apex:inlineEditSupport event="ondblclick"/></apex:outputField></p>
</div>

<div class="panel-body">
<p>Cuanto aun no se gasto: <apex:outputText value="{!monedaDeLaCuenta}" />&nbsp;<br/><apex:outputField value="{!pre.Presupuesto_Disponible__c}"/></p>
</div>
</div>


<apex:outputText >
<button style="margin-left: 87%;" type="button" class="btn btn-default btn-sm" data-toggle="modal" onclick="botonSi();">
<span class="glyphicon glyphicon-plus icon-btn-right"></span>&nbsp;Identificar Proyecto
</button>
<br/>

</apex:outputText>

<apex:outputPanel rendered="{!donuts}">
<div id="myDiv-{!pre.id}" style="width: 480px; height: 380px; margin-left: 20%; margin-top: -375px;">
<!-- Plotly chart will be drawn inside this DIV -->
                                <!--    </div>
</apex:outputPanel>

<apex:outputPanel rendered="{!barras}">
<div id="myDiv2-{!pre.id}" style="width: 480px; height: 380px; margin-left: 25%; margin-top: -375px;">
<!-- Plotly chart will be drawn inside this DIV -->
                                <!--     </div>
</apex:outputPanel>


<script>



var data = [{
    
    values: [{!pre.Presupuesto_Nosotros__c}, {!pre.Presupuesto_Competencia__c}, {!pre.Presupuesto_Disponible__c}],
    labels: ['Telefónica', 'Competencia', 'Disponible'],
    marker: {
        colors:['rgba(14, 127, 0, .5)', 'rgba(204, 0, 0, .5)','rgba(221, 232, 0, .5)'],
    },
    type: 'pie',
    hole: .4,
    sort: false
}];

var layout = {
    title: 'Distribución del Presupuesto',
    height:400,
    width: 650
};

Plotly.newPlot('myDiv-{!pre.id}', data, layout, {displayModeBar: false});

</script>

<script>
var data = [
    {
        x: ['Telefónica', 'Disponible', 'Competencia'],
        y: [{!pre.Presupuesto_Nosotros__c}, {!pre.Presupuesto_Disponible__c}, {!pre.Presupuesto_Competencia__c}],
        marker: {
            color:['rgba(14, 127, 0, .5)', 'rgba(221, 232, 0, .5)', 'rgba(204, 0, 0, .5)'],
        },
        type: 'bar'
    }
];

var layout = {
    title: 'Distribución del Presupuesto',
    height:400,
    width: 650
};

Plotly.newPlot('myDiv2-{!pre.id}', data, layout,{displayModeBar: false});



</script>




</div>
</div>
</apex:outputPanel>
</apex:repeat>

<!--<div id="myDiv-{!fourPlanning.id}" style="width: 480px; height: 380px; margin-left: 19%;">

</div>-->
                                
                                
                                <!--   </apex:pageBlockSection>-->
                            </apex:pageBlock>
                        </div>
                        
                        <!-- modal - Nuevo Vencimiento -->
                        <div class="modal fade" id="myModalNuevoVencimiento" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" style="z-index:9999;">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">Nuevo Vencimiento</h4>
                                    </div>
                                    <div class="modal-body">
                                        <table style="border-collapse: separate;border-spacing: 5px;width:80%">
                                            
                                            <tr>
                                                <td style="text-align: right;width: 40%;">
                                                    &nbsp;Rama:
                                                </td>
                                                <td style="width:100%">
                                                    <apex:actionFunction name="renderizar" reRender="serviciosRender"  />
                                                    <apex:selectList style="width:100%" size="1" multiselect="false" onchange="renderizar();"  value="{!lineaDeServicioSeleccionado}">
                                                        <apex:selectOptions value="{!ramas}"/>
                                                    </apex:selectList>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="text-align: right;width: 40%;">
                                                    &nbsp;Familia:
                                                </td>
                                                <td style="width:100%">
                                                    <apex:selectList style="width:100%" id="serviciosRender" size="1" multiselect="false"  value="{!familiaSeleccionada}">
                                                        <apex:selectOptions value="{!familias}"/>
                                                    </apex:selectList>
                                                </td>
                                            </tr>
                                            
                                        </table>		        
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="InsertVencimiento()">{!$Label.add_buttom}</button>
                                        <apex:actionFunction action="{!InsertVencimiento}" name="InsertVencimiento" rerender="tablaPortfolio"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- modal - Nueva Iniciativa Comercial -->
                        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" style="z-index:9999;">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">{!$Label.New_Initiative}</h4>
                                    </div>
                                    <div class="modal-body">
                                        <table style="border-collapse: separate;border-spacing: 5px;">
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="{!$ObjectType.Strategic_Initiative__c.fields.Title__c.label}" />:
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetIniciativa nombreIniciativa" style="width: 100%;" value="{!newInitiative.Titulo_Iniciativa__c}"/><br/><br/>
                                                    
                                                    
                                                    <apex:outputPanel styleClass="campoIniciativa ocultar" >
                                                        
                                                        <table >
                                                            <tbody>
                                                                <tr class="">
                                                                    
                                                                    <td class="data2Col">
                                                                        <apex:inputField value="{!newInitiative.Title__c}"/> 
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        
                                                    </apex:outputPanel>
                                                    
                                                    
                                                    
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="{!$Label.certa_scp__description}" />:
                                                </td>
                                                <td>
                                                    <textarea id="textIniciative" cols="52" rows="6"></textarea> 
                                                    <span id="spanIniciative" style="display:none;">
                                                        <apex:inputField styleClass="resetIniciativa" style="width: 100%;" value="{!newInitiative.Strategic_Initiative__c}"/><br/>
                                                    </span>
                                                </td>
                                            </tr>
                                        </table>		        
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="fillInitiative();InsertIniciative()">{!$Label.add_buttom}</button>
                                        <apex:actionFunction action="{!InsertIniciative}" name="InsertIniciative" rerender="tablaIniciativasDeNegocio" oncomplete="resetCamposIniciativa()" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- modal - Nuevo Hito Relevante -->
                        <div class="modal fade" id="myModalHito" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" style="z-index:9999;">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">{!$Label.Nuevo_Hito_Relevante}</h4>
                                    </div>
                                    <div class="modal-body">
                                        <table style="border-collapse: separate;border-spacing: 5px;">
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="{!$Label.certa_scp__description}" />:
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito " style="width: 100%;" value="{!hitoAInsertar.Descripcion__c}"/><br/> 
                                                </td>
                                            </tr>
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="{!$Label.certa_scp__categoria}" />:
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito nombreCategoria" value="{!hitoAInsertar.Categoria__c}"/><br/>
                                                    
                                                    
                                                    <apex:outputPanel styleClass="campoCategoria ocultar ">
                                                        
                                                        
                                                        <table style="margin-top:2%;" >
                                                            <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <apex:outputText value="Nombre de la categoría" />:&nbsp;
                                                                    </td>
                                                                    <td class="data2Col">
                                                                        <apex:inputField value="{!hitoAInsertar.Name}"/> 
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                        
                                                    </apex:outputPanel>
                                                    
                                                    
                                                </td>
                                            </tr>
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText style="width: 100%;" value="{!$Label.certa_scp__fecha}" />:
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" id="datepicker" showDatePicker="true"  value="{!hitoAInsertar.Fecha__c}"/><br/>
                                                </td>
                                            </tr>
                                            
                                        </table>		        
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="InsertHito()">{!$Label.add_buttom}</button>
                                        <apex:actionFunction action="{!InsertHito}" name="InsertHito" rerender="hitosRelevantes" oncomplete="resetCamposHito()" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- modal - Nuevo Presupuesto -->
                        <div class="modal fade" id="myModalPresupuesto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" style="z-index:9999;">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">Nuevo Presupuesto</h4>
                                    </div>
                                    <div class="modal-body" style ="height: 9%;">
                                        <table style="border-collapse: separate;border-spacing: 5px;">
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="Año" />:
                                                </td>
                                                <td style= "text-align: center;">
                                                    <apex:inputField styleClass="resetHito" style="width: 200%;" value="{!presupuestoAInsertar.Anio__c}"/><br/> 
                                                </td>
                                            </tr>
                                            
                                            
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="Categoría:" />
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width: 200%;" value="{!presupuestoAInsertar.Categoria__c}"/> 
                                                </td>
                                            </tr>
                                            
                                            
                                            <tr >
                                                <td style="text-align: right;">
                                                    <apex:outputText value="Presupuesto Total ({!monedaDeLaCuenta}): "/>
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width:200%;" value="{!presupuestoAInsertar.Presupuesto_Total__c}"/>
                                                </td>
                                            </tr>
                                            
                                            <!--<apex:inputField label="" styleClass="totalInput" style="display:none" value="{!presupuestoAInsertar.Presupuesto_Total__c}" />-->
                                            
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText style="width: 100%;" value="Cuánto tenemos nosotros " /> <apex:outputText value="({!monedaDeLaCuenta}):" />
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width:200%;"  value="{!presupuestoAInsertar.Presupuesto_Nosotros__c}"/>
                                                    <br/><!--<div id="sliderNosotros" style="width: 170%; margin-left: 20%; ">
<div id="custom-handle-nosotros" class="ui-slider-handle"></div>
</div>

<apex:inputField label="" styleClass="nosotrosInput" style="display:none" value="{!presupuestoAInsertar.Presupuesto_Nosotros__c}" />
-->
                                                    
                                                </td>
                                            </tr>
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText style="width: 100%;" value="Cuánto tiene la competencia " /> <apex:outputText value="({!monedaDeLaCuenta}):" />
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width:200%;" value="{!presupuestoAInsertar.Presupuesto_Competencia__c}"/>
                                                    <br/><!--<div id="sliderCompetencia" style="width: 170%; margin-left: 20%; ">
<div id="custom-handle-competencia" class="ui-slider-handle"></div>
</div>

<apex:inputField label="" styleClass="competenciaInput" style="display:none" value="{!presupuestoAInsertar.Presupuesto_Competencia__c}" />
-->
                                                    
                                                </td>
                                            </tr>
                                            
                                            
                                        </table>		        
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="InsertPresupuesto()">{!$Label.add_buttom}</button>
                                        <apex:actionFunction action="{!InsertarPresupuesto}" name="InsertPresupuesto" rerender="presupuesto" oncomplete="resetCamposHito()" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- modal - Nueva Area 
<div class="modal fade" id="myModalArea" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<div class="modal-dialog" style="z-index:9999;">
<div class="modal-content">
<div class="modal-header">
<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
<h4 class="modal-title" id="myModalLabel">{!$Label.Nueva_Area}</h4>
</div>
<div class="modal-body">
<table style="border-collapse: separate;border-spacing: 5px;width:80%">
<tr>
<td style="text-align: right;">
<apex:outputText value="{!$Label.certa_scp__nombre_del_area}" />:
</td>
<td>
<apex:inputField styleClass="resetHito" style="width: 100%;" value="{!areaAInsertar.Titulo_Area__c}"/><br/> 
</td>
</tr>

<tr>
<td style="text-align: right;">
<apex:outputText value="{!$Label.certa_scp__tipo_de_area}" />:
</td>
<td>
<apex:inputField styleClass="resetHito" style="width:100%" value="{!areaAInsertar.Tipo_de_Area__c}"/><br/>
</td>
</tr>

<tr>
<td style="text-align: right;">
<apex:outputText value="{!$Label.certa_scp__conocimiento_del_area}" />:
</td>
<td>
<apex:inputField styleClass="resetHito" style="width:100%" value="{!areaAInsertar.Conocimiento_del_Area__c}"/><br/>
</td>
</tr>

</table>		        
</div>
<div class="modal-footer">
<button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="InsertarArea();">{!$Label.add_buttom}</button>
<apex:actionFunction action="{!InsertarArea}" name="InsertarArea" rerender="cadaArea" oncomplete="resetCamposHito()" />
</div>
</div>
</div>
</div>-->
                        <!-- modal - vincular reto a solucion tabla -->
                        <div class="modal fade" id="myModalSoluciones" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" style="z-index:9999;">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">Agregar/Vincular Reto</h4>
                                    </div>
                                    <div class="modal-body">
                                        
                                        <apex:outputPanel id="tablaModalRetos">
                                            <div class="modal-body">
                                                
                                                <table style="border-collapse: separate;border-spacing: 5px;width:80%;margin-left: 10%;">
                                                    <thead>
                                                        <tr>
                                                            <th style="padding-left:0% !important; text-align: center;">Reto</th>
                                                            <th style="padding-left:0% !important; text-align: center;">{!$Label.certa_scp__vincular}</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        
                                                        
                                                        <apex:repeat value="{!listaWrappersRetos}" var="reto">
                                                            <tr>
                                                                <td style="text-align: center;">
                                                                    {!reto.reto.Nombre_del_Reto__c}
                                                                </td>
                                                                <td style="text-align: center;">
                                                                    <apex:inputCheckBox styleClass="resetHito" value="{!reto.vincular}" />                                                            
                                                                </td>
                                                            </tr>
                                                        </apex:repeat>
                                                        
                                                    </tbody>                                          
                                                </table>
                                            </div>
                                        </apex:outputPanel>
                                        
                                        
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="VincularRetoASolucion();">{!$Label.add_buttom}</button>
                                        <apex:actionFunction action="{!vincularRetoASolucion}" rerender="todo, tablaModalRetos" name="VincularRetoASolucion" />
                                    </div>
                                </div>
                            </div>
                        </div> 
                        
                        <!-- modal - Nuevo contacto de reto -->
                        <div class="modal fade" id="myModalContactoReto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" style="z-index:9999;">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">{!$Label.Agregar_Contacto}</h4>
                                    </div>
                                    <div class="modal-body">
                                        <table style="border-collapse: separate;border-spacing: 5px;width:80%">
                                            <tr>
                                                <td style="text-align: right;" >
                                                    <apex:outputText value="{!$Label.certa_scp__cargo}" />:
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito tipoDeContacto" style="width: 100%;" value="{!contactoAInsertar.Tipo_de_Contacto__c}"/><br/> 
                                                    
                                                    
                                                    <apex:outputPanel styleClass="campoContacto ocultar ">
                                                        <table style="margin-top:2%;"> <tr>
                                                            <td style="text-align: right;" >
                                                                <apex:outputText value="Nombre del Cargo:" />&nbsp;
                                                            </td>
                                                            <td>
                                                                <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!contactoAInsertar.pruebaTexto__c}"/><br/> 
                                                            </td>
                                                            </tr>
                                                        </table>
                                                    </apex:outputPanel>
                                                </td>
                                            </tr>
                                            
                                            
                                            <tr class="trOtroContacto" style="display:none;">
                                                <td style="text-align: right;">
                                                    <apex:outputText value="{!$Label.certa_scp__otro_contacto}" />:
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!contactoAInsertar.Otro_contacto_del_cliente__c}"/><br/> 
                                                </td>
                                            </tr>
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="{!$Label.certa_scp__nivel_de_relaci_n}" />:
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width:100%" value="{!contactoAInsertar.Nivel_de_Relaci_n__c}"/><br/>
                                                </td>
                                            </tr>
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="{!$Label.certa_scp__name}" />:
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width:100%" value="{!contactoAInsertar.ContactoDeReto__c}"/><br/>
                                                </td>
                                            </tr>
                                            
                                            
                                            
                                            
                                            
                                        </table>		        
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="InsertarContacto();">{!$Label.add_buttom}</button>
                                        <apex:actionFunction action="{!insertarContacto}" name="InsertarContacto" rerender="cadaArea, myModalContactoReto" oncomplete="resetCamposHito()" status="agregandoContacto"/>
                                    </div>
                                </div>
                            </div>
                        </div> 
                        
                        <!-- modal - vincular una oportunidad existente a un reto -->
                        <div class="modal fade" id="myModalOportunidadReto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" style="z-index:9999;">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">{!$Label.Vincular_una_Oportunidad}</h4>
                                    </div>
                                    
                                    <apex:outputPanel id="tablaModalOportunidades">
                                        <div class="modal-body">
                                            
                                            <table style="border-collapse: separate;border-spacing: 5px;width:80%;margin-left: 10%;">
                                                <thead>
                                                    <tr>
                                                        <th style="padding-left:0% !important; text-align: center;">{!$Label.certa_scp__nombre_oportunidad}</th>
                                                        <th style="padding-left:0% !important; text-align: center;">{!$Label.certa_scp__vincular}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    
                                                    
                                                    <apex:repeat value="{!wppOportunidades}" var="wppOpp">
                                                        <tr>
                                                            <td style="text-align: center;">
                                                                {!wppOpp.oportunidad.name}
                                                            </td>
                                                            <td style="text-align: center;">
                                                                <apex:inputCheckBox value="{!wppOpp.vincular}" />                                                            
                                                            </td>
                                                        </tr>
                                                    </apex:repeat>
                                                    
                                                </tbody>                                          
                                            </table>
                                        </div>
                                    </apex:outputPanel>
                                    
                                    
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="setearOportunidades();">{!$Label.add_buttom}</button>
                                        <apex:actionFunction action="{!setearOportunidadesAContacto}" name="setearOportunidades" rerender="cadaArea, tablaOpp, tablaModalOportunidades"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- modal - Nueva solucion / tecnologia del reto -->
                        <div class="modal fade" id="myModalTecnologiaReto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog" style="z-index:9999;">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">{!$Label.Agregar_Solucion}</h4>
                                    </div>
                                    <div class="modal-body">
                                        <table style="border-collapse: separate;border-spacing: 5px;width:80%">
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="Categoría de Solucion:" />
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!solucionAInsertar.Lista_de_Soluciones__c}"/><br/> 
                                                </td>
                                            </tr>
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="Subcategoría:" />
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!solucionAInsertar.SubcategoriaSolucion__c}"/><br/> 
                                                </td>
                                            </tr>
                                            
                                            <tr class="trOtraSolucion" style="display:none;">
                                                <td style="text-align: right;">
                                                    <apex:outputText value="Otra solución" />:
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width: 100%;" value="{!solucionAInsertar.Otra_Solucion__c}"/><br/> 
                                                </td>
                                            </tr>
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="{!$Label.certa_scp__disponibilidad}:" />
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width:100%" value="{!solucionAInsertar.Nivel_de_Desarrollo__c}"/><br/>
                                                </td>
                                            </tr>
                                            
                                            <tr>
                                                <td style="text-align: right;">
                                                    <apex:outputText value="{!$Label.certa_scp__competencia}:" />
                                                </td>
                                                <td>
                                                    <apex:inputField styleClass="resetHito" style="width:100%" value="{!solucionAInsertar.Competidor__c}"/><br/>
                                                </td>
                                            </tr>
                                            
                                        </table>		        
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">{!$Label.Close}</button>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="InsertarSolucion();">{!$Label.add_buttom}</button>
                                        <apex:actionFunction action="{!insertarSolucion}" name="InsertarSolucion" rerender="cadaArea" oncomplete="resetCamposHito()" status="agregandoSolucion"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </apex:form>
                
                
            </div>
            
            <br/><br/>
            <!-- Botonera inferior -->
            
            <div class="row paddingRight">
                <div class="btn-group pull-right" role="group" aria-label="...">
                    
                    <apex:outputPanel id="buttonPanelInferior">
                        <div class="btn-group pull-right" role="group" aria-label="...">
                            
                            <button type="button" class="btn btn-default btn-sm" onclick="irAInicio()">
                                <!--<apex:image style="height:35px;" url="{!URLFOR($Resource.icono4Planning)}" styleClass="icon-sectors-botonera"/>-->
                                <span class="glyphicon glyphicon-home"></span>&nbsp; 4Planning
                            </button>
                            
                            
                            <button type="button" class="btn btn-default btn-sm" onclick="irAPlanDeAccion()">
                                <!--<apex:image url="{!URLFOR($Resource.iconoHitos)}" styleClass="icon-sectors-botonera"/>-->
                                <span class="glyphicon glyphicon-calendar icon-btn-left"></span>&nbsp;{!$Label.Hitos}
                            </button> 
                            
                            
                            <button type="button" class="btn btn-default btn-sm" onclick="irADesarrolloCuenta()">
                                <!--<apex:image url="{!URLFOR($Resource.Iconos, '256/flow-market-icon.png')}" styleClass="icon-sectors-botonera"/>-->
                                <span class="glyphicon glyphicon-stats"></span>&nbsp;{!$Label.Coeficiente_Cuenta}
                            </button> 
                            
                            <button type="button" class="btn btn-default btn-sm" onclick="irAEjesDeTrabajo()">
                                <!--<apex:image url="{!URLFOR($Resource.iconoRetos)}" styleClass="icon-sectors-botonera"/>-->
                                <span class="glyphicon glyphicon-list"></span>&nbsp;{!$Label.Retos}
                            </button>  
                            
                            <button type="button" class="btn btn-default btn-sm" onclick="irAForYou()">
                                <!--<apex:image style="height:35px;" url="{!URLFOR($Resource.iconoForYou)}" styleClass="icon-sectors-botonera"/>-->
                                <span class="glyphicon glyphicon-gift"></span>&nbsp;4You
                            </button> 
                            <button type="button" class="btn btn-default btn-sm" onclick="SaveChanges()">
                                <!--<apex:image url="{!URLFOR($Resource.grabar)}" styleClass="icon-sectors-botonera"/>-->
                                <span class="glyphicon glyphicon-floppy-disk icon-btn-left"></span>&nbsp;{!$Label.Guardar_Datos}
                                
                            </button> 
                            
                            <!-- Backup del formato del height -->
                            
                            <!-- <button style="height:45px;" type="button" class="btn btn-default btn-sm" onclick="irAInicio()">
<!--<apex:image style="height:35px;" url="{!URLFOR($Resource.icono4Planning)}" styleClass="icon-sectors-botonera"/>
<span class="glyphicon glyphicon-home"></span>&nbsp; 4Planning
</button> -->
                            
                        </div>
                    </apex:outputPanel>  
                    
                </div>
            </div>
            
            
            
            
            
            
            <!--<div class="row paddingRight">
<div class="btn-group pull-right" style="margin-right: 1%;" role="group" aria-label="...">

<apex:outputPanel id="buttonPanelInferior">
<div class="btn-group pull-right" role="group" aria-label="...">

<button type="button" class="btn btn-default btn-sm" onclick="irAInicio()">
<span class="glyphicon glyphicon-home"></span>&nbsp;4Planning
</button>

<button type="button" class="btn btn-default btn-sm" onclick="irAPlanDeAccion()">
<span class="glyphicon glyphicon-calendar icon-btn-left"></span>&nbsp;Hitos
</button> 


<button type="button" class="btn btn-default btn-sm" onclick="irADesarrolloCuenta()">
<span class="glyphicon glyphicon-stats"></span>&nbsp;Coeficiente Cuenta
</button> 

<button type="button" class="btn btn-default btn-sm" onclick="irAEjesDeTrabajo()">
<span class="glyphicon glyphicon-list"></span>&nbsp;Retos
</button> 

<button type="button" class="btn btn-default btn-sm">
<span class="glyphicon glyphicon-gift"></span>&nbsp;4You
</button> 

<!-- <button type="button" class="btn btn-default btn-sm" onclick="irAEjesDeTrabajo()">
<span class="glyphicon glyphicon-list"></span>&nbsp;{!$Label.Ir_a} {!$Label.certa_scp__ejes_de_trabajo}
</button> 

<button type="button" class="btn btn-default btn-sm" onclick="irADesarrolloCuenta()">
<span class="glyphicon glyphicon-stats"></span>&nbsp;{!$Label.Ir_a} {!$Label.certa_scp__desarrollo_cuenta}
</button>  

<button type="button" class="btn btn-default btn-sm" onclick="irAPlanDeAccion()">
<span class="glyphicon glyphicon-calendar icon-btn-left"></span>&nbsp;{!$Label.Ir_a} {!$Label.certa_scp__plan_de_accion}
</button>    

<br/>

<div style="position: absolute;right: 25px;">
<br/>
<button type="button" class="btn btn-default btn-sm" onclick="SaveChanges()">
<span class="glyphicon glyphicon-floppy-disk icon-btn-left"></span>&nbsp;Guardar Datos
</button>                                
</div>
</div>
</apex:outputPanel>  

</div>
</div>-->
            
        </div>
        
        
        
    </apex:outputpanel>
    
</apex:page>